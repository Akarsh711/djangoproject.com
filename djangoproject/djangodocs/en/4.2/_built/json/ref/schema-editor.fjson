{"parents": [{"link": "../", "title": "API Reference"}], "prev": {"link": "../request-response/", "title": "Request and response objects"}, "next": {"link": "../settings/", "title": "Settings"}, "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code>", "meta": {}, "body": "<div class=\"section\" id=\"s-module-django.db.backends.base.schema\">\n<span id=\"s-schemaeditor\"></span><span id=\"module-django.db.backends.base.schema\"></span><span id=\"schemaeditor\"></span><h1><code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code><a class=\"headerlink\" href=\"#module-django.db.backends.base.schema\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">BaseDatabaseSchemaEditor</span></code><a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Django\u2019s migration system is split into two parts; the logic for calculating\nand storing what operations should be run (<code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.migrations</span></code>), and the\ndatabase abstraction layer that turns things like \u201ccreate a model\u201d or\n\u201cdelete a field\u201d into SQL - which is the job of the <code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code>.</p>\n<p>It\u2019s unlikely that you will want to interact directly with <code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code> as\na normal developer using Django, but if you want to write your own migration\nsystem, or have more advanced needs, it\u2019s a lot nicer than writing SQL.</p>\n<p>Each database backend in Django supplies its own version of <code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code>,\nand it\u2019s always accessible via the <code class=\"docutils literal notranslate\"><span class=\"pre\">connection.schema_editor()</span></code> context\nmanager:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">with</span> <span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">schema_editor</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">schema_editor</span><span class=\"p\">:</span>\n    <span class=\"n\">schema_editor</span><span class=\"o\">.</span><span class=\"n\">delete_model</span><span class=\"p\">(</span><span class=\"n\">MyModel</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>It must be used via the context manager as this allows it to manage things\nlike transactions and deferred SQL (like creating <code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignKey</span></code> constraints).</p>\n<p>It exposes all possible operations as methods, that should be called in\nthe order you wish changes to be applied. Some possible operations or types\nof change are not possible on all databases - for example, MyISAM does not\nsupport foreign key constraints.</p>\n<p>If you are writing or maintaining a third-party database backend for Django,\nyou will need to provide a <code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code> implementation in order to work with\nDjango\u2019s migration functionality - however, as long as your database is\nrelatively standard in its use of SQL and relational design, you should be able\nto subclass one of the built-in Django <code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code> classes and tweak the\nsyntax a little.</p>\n<div class=\"section\" id=\"s-methods\">\n<span id=\"methods\"></span><h2>Methods<a class=\"headerlink\" href=\"#methods\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-execute\">\n<span id=\"execute\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">execute()</span></code><a class=\"headerlink\" href=\"#execute\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.execute\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">execute</span></code>(<em><span class=\"n\"><span class=\"pre\">sql</span></span></em>, <em><span class=\"n\"><span class=\"pre\">params</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">()</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.execute\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.execute\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Executes the SQL statement passed in, with parameters if supplied. This\nis a wrapper around the normal database cursors that allows capture of the SQL\nto a <code class=\"docutils literal notranslate\"><span class=\"pre\">.sql</span></code> file if the user wishes.</p>\n</div>\n<div class=\"section\" id=\"s-create-model\">\n<span id=\"create-model\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">create_model()</span></code><a class=\"headerlink\" href=\"#create-model\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.create_model\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">create_model</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.create_model\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.create_model\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Creates a new table in the database for the provided model, along with any\nunique constraints or indexes it requires.</p>\n</div>\n<div class=\"section\" id=\"s-delete-model\">\n<span id=\"delete-model\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">delete_model()</span></code><a class=\"headerlink\" href=\"#delete-model\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.delete_model\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">delete_model</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.delete_model\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.delete_model\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Drops the model\u2019s table in the database along with any unique constraints\nor indexes it has.</p>\n</div>\n<div class=\"section\" id=\"s-add-index\">\n<span id=\"add-index\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">add_index()</span></code><a class=\"headerlink\" href=\"#add-index\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_index\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">add_index</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">index</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.add_index\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Adds <code class=\"docutils literal notranslate\"><span class=\"pre\">index</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table.</p>\n</div>\n<div class=\"section\" id=\"s-remove-index\">\n<span id=\"remove-index\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_index()</span></code><a class=\"headerlink\" href=\"#remove-index\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_index\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">remove_index</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">index</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.remove_index\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Removes <code class=\"docutils literal notranslate\"><span class=\"pre\">index</span></code> from <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table.</p>\n</div>\n<div class=\"section\" id=\"s-rename-index\">\n<span id=\"rename-index\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">rename_index()</span></code><a class=\"headerlink\" href=\"#rename-index\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.rename_index\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">rename_index</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_index</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_index</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.rename_index\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.rename_index\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Renames <code class=\"docutils literal notranslate\"><span class=\"pre\">old_index</span></code> from <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table to <code class=\"docutils literal notranslate\"><span class=\"pre\">new_index</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-add-constraint\">\n<span id=\"add-constraint\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">add_constraint()</span></code><a class=\"headerlink\" href=\"#add-constraint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_constraint\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">add_constraint</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">constraint</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.add_constraint\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_constraint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Adds <code class=\"docutils literal notranslate\"><span class=\"pre\">constraint</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table.</p>\n</div>\n<div class=\"section\" id=\"s-remove-constraint\">\n<span id=\"remove-constraint\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_constraint()</span></code><a class=\"headerlink\" href=\"#remove-constraint\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_constraint\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">remove_constraint</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">constraint</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.remove_constraint\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_constraint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Removes <code class=\"docutils literal notranslate\"><span class=\"pre\">constraint</span></code> from <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table.</p>\n</div>\n<div class=\"section\" id=\"s-alter-unique-together\">\n<span id=\"alter-unique-together\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_unique_together()</span></code><a class=\"headerlink\" href=\"#alter-unique-together\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_unique_together\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_unique_together</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_unique_together</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_unique_together</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_unique_together\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_unique_together\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Changes a model\u2019s <a class=\"reference internal\" href=\"../models/options/#django.db.models.Options.unique_together\" title=\"django.db.models.Options.unique_together\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">unique_together</span></code></a> value; this\nwill add or remove unique constraints from the model\u2019s table until they match\nthe new value.</p>\n</div>\n<div class=\"section\" id=\"s-alter-index-together\">\n<span id=\"alter-index-together\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_index_together()</span></code><a class=\"headerlink\" href=\"#alter-index-together\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_index_together\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_index_together</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_index_together</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_index_together</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_index_together\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_index_together\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Changes a model\u2019s <a class=\"reference internal\" href=\"../models/options/#django.db.models.Options.index_together\" title=\"django.db.models.Options.index_together\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">index_together</span></code></a> value; this\nwill add or remove indexes from the model\u2019s table until they match the new\nvalue.</p>\n</div>\n<div class=\"section\" id=\"s-alter-db-table\">\n<span id=\"alter-db-table\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_table()</span></code><a class=\"headerlink\" href=\"#alter-db-table\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_table\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_db_table</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_db_table</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_db_table</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_db_table\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Renames the model\u2019s table from <code class=\"docutils literal notranslate\"><span class=\"pre\">old_db_table</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">new_db_table</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-alter-db-table-comment\">\n<span id=\"alter-db-table-comment\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_table_comment()</span></code><a class=\"headerlink\" href=\"#alter-db-table-comment\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_table_comment\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_db_table_comment</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_db_table_comment</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_db_table_comment</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_db_table_comment\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_table_comment\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Change the <code class=\"docutils literal notranslate\"><span class=\"pre\">model</span></code>\u2019s table comment to <code class=\"docutils literal notranslate\"><span class=\"pre\">new_db_table_comment</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-alter-db-tablespace\">\n<span id=\"alter-db-tablespace\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_tablespace()</span></code><a class=\"headerlink\" href=\"#alter-db-tablespace\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_tablespace\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_db_tablespace</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_db_tablespace</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_db_tablespace</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_db_tablespace\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_db_tablespace\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Moves the model\u2019s table from one tablespace to another.</p>\n</div>\n<div class=\"section\" id=\"s-add-field\">\n<span id=\"add-field\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">add_field()</span></code><a class=\"headerlink\" href=\"#add-field\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_field\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">add_field</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">field</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.add_field\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_field\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Adds a column (or sometimes multiple) to the model\u2019s table to represent the\nfield. This will also add indexes or a unique constraint\nif the field has <code class=\"docutils literal notranslate\"><span class=\"pre\">db_index=True</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">unique=True</span></code>.</p>\n<p>If the field is a <code class=\"docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code> without a value for <code class=\"docutils literal notranslate\"><span class=\"pre\">through</span></code>, instead\nof creating a column, it will make a table to represent the relationship. If\n<code class=\"docutils literal notranslate\"><span class=\"pre\">through</span></code> is provided, it is a no-op.</p>\n<p>If the field is a <code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignKey</span></code>, this will also add the foreign key\nconstraint to the column.</p>\n</div>\n<div class=\"section\" id=\"s-remove-field\">\n<span id=\"remove-field\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_field()</span></code><a class=\"headerlink\" href=\"#remove-field\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_field\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">remove_field</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">field</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.remove_field\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_field\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Removes the column(s) representing the field from the model\u2019s table, along\nwith any unique constraints, foreign key constraints, or indexes caused by\nthat field.</p>\n<p>If the field is a ManyToManyField without a value for <code class=\"docutils literal notranslate\"><span class=\"pre\">through</span></code>, it will\nremove the table created to track the relationship. If\n<code class=\"docutils literal notranslate\"><span class=\"pre\">through</span></code> is provided, it is a no-op.</p>\n</div>\n<div class=\"section\" id=\"s-alter-field\">\n<span id=\"alter-field\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_field()</span></code><a class=\"headerlink\" href=\"#alter-field\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_field\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseDatabaseSchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">alter_field</span></code>(<em><span class=\"n\"><span class=\"pre\">model</span></span></em>, <em><span class=\"n\"><span class=\"pre\">old_field</span></span></em>, <em><span class=\"n\"><span class=\"pre\">new_field</span></span></em>, <em><span class=\"n\"><span class=\"pre\">strict</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>)<a class=\"reference internal\" href=\"../../_modules/django/db/backends/base/schema/#BaseDatabaseSchemaEditor.alter_field\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.alter_field\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>This transforms the field on the model from the old field to the new one. This\nincludes changing the name of the column (the\n<a class=\"reference internal\" href=\"../models/fields/#django.db.models.Field.db_column\" title=\"django.db.models.Field.db_column\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">db_column</span></code></a> attribute), changing the type of the\nfield (if the field class changes), changing the <code class=\"docutils literal notranslate\"><span class=\"pre\">NULL</span></code> status of the field,\nadding or removing field-only unique constraints and indexes, changing primary\nkey, and changing the destination of <code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignKey</span></code> constraints.</p>\n<p>The most common transformation this cannot do is transforming a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code> into a normal Field or vice-versa; Django cannot do this\nwithout losing data, and so it will refuse to do it. Instead,\n<a class=\"reference internal\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_field\" title=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.remove_field\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">remove_field()</span></code></a> and <a class=\"reference internal\" href=\"#django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_field\" title=\"django.db.backends.base.schema.BaseDatabaseSchemaEditor.add_field\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">add_field()</span></code></a> should be called separately.</p>\n<p>If the database has the <code class=\"docutils literal notranslate\"><span class=\"pre\">supports_combined_alters</span></code>, Django will try and\ndo as many of these in a single database call as possible; otherwise, it will\nissue a separate ALTER statement for each change, but will not issue ALTERs\nwhere no change is required.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-attributes\">\n<span id=\"attributes\"></span><h2>Attributes<a class=\"headerlink\" href=\"#attributes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>All attributes should be considered read-only unless stated otherwise.</p>\n<div class=\"section\" id=\"s-connection\">\n<span id=\"connection\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">connection</span></code><a class=\"headerlink\" href=\"#connection\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.db.backends.base.schema.SchemaEditor.connection\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">SchemaEditor.</span></code><code class=\"sig-name descname\"><span class=\"pre\">connection</span></code><a class=\"headerlink\" href=\"#django.db.backends.base.schema.SchemaEditor.connection\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>A connection object to the database. A useful attribute of the connection is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">alias</span></code> which can be used to determine the name of the database being\naccessed.</p>\n<p>This is useful when doing data migrations for <a class=\"reference internal\" href=\"../../howto/writing-migrations/#data-migrations-and-multiple-databases\"><span class=\"std std-ref\">migrations with multiple\ndatabases</span></a>.</p>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/settings", "Settings", "N", "next"], ["ref/request-response", "Request and response objects", "P", "previous"]], "sourcename": "ref/schema-editor.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SchemaEditor</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#methods\">Methods</a><ul>\n<li><a class=\"reference internal\" href=\"#execute\"><code class=\"docutils literal notranslate\"><span class=\"pre\">execute()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#create-model\"><code class=\"docutils literal notranslate\"><span class=\"pre\">create_model()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#delete-model\"><code class=\"docutils literal notranslate\"><span class=\"pre\">delete_model()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#add-index\"><code class=\"docutils literal notranslate\"><span class=\"pre\">add_index()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#remove-index\"><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_index()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#rename-index\"><code class=\"docutils literal notranslate\"><span class=\"pre\">rename_index()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#add-constraint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">add_constraint()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#remove-constraint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_constraint()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-unique-together\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_unique_together()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-index-together\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_index_together()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-db-table\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_table()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-db-table-comment\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_table_comment()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-db-tablespace\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_db_tablespace()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#add-field\"><code class=\"docutils literal notranslate\"><span class=\"pre\">add_field()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#remove-field\"><code class=\"docutils literal notranslate\"><span class=\"pre\">remove_field()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#alter-field\"><code class=\"docutils literal notranslate\"><span class=\"pre\">alter_field()</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#attributes\">Attributes</a><ul>\n<li><a class=\"reference internal\" href=\"#connection\"><code class=\"docutils literal notranslate\"><span class=\"pre\">connection</span></code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/schema-editor", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}