{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "GeoDjango"}], "prev": {"link": "../geoquerysets/", "title": "GIS QuerySet API Reference"}, "next": {"link": "../measure/", "title": "Measurement Objects"}, "title": "Geographic Database Functions", "meta": {}, "body": "<div class=\"section\" id=\"s-module-django.contrib.gis.db.models.functions\">\n<span id=\"s-geographic-database-functions\"></span><span id=\"module-django.contrib.gis.db.models.functions\"></span><span id=\"geographic-database-functions\"></span><h1>Geographic Database Functions<a class=\"headerlink\" href=\"#module-django.contrib.gis.db.models.functions\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>The functions documented on this page allow users to access geographic database\nfunctions to be used in annotations, aggregations, or filters in Django.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.db.models.functions</span> <span class=\"kn\">import</span> <span class=\"n\">Length</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Track</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">length</span><span class=\"o\">=</span><span class=\"n\">Length</span><span class=\"p\">(</span><span class=\"s2\">&quot;line&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">length__gt</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Not all backends support all functions, so refer to the documentation of each\nfunction to see if your database backend supports the function you want to use.\nIf you call a geographic function on a backend that doesn\u2019t support it, you\u2019ll\nget a <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code> exception.</p>\n<p>Function\u2019s summary:</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"16%\" />\n<col width=\"16%\" />\n<col width=\"14%\" />\n<col width=\"15%\" />\n<col width=\"12%\" />\n<col width=\"12%\" />\n<col width=\"14%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Measurement</th>\n<th class=\"head\">Relationships</th>\n<th class=\"head\">Operations</th>\n<th class=\"head\">Editors</th>\n<th class=\"head\">Input format</th>\n<th class=\"head\">Output format</th>\n<th class=\"head\">Miscellaneous</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Area\" title=\"django.contrib.gis.db.models.functions.Area\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Area</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Azimuth\" title=\"django.contrib.gis.db.models.functions.Azimuth\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Azimuth</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Difference\" title=\"django.contrib.gis.db.models.functions.Difference\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Difference</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.ForcePolygonCW\" title=\"django.contrib.gis.db.models.functions.ForcePolygonCW\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ForcePolygonCW</span></code></a></td>\n<td>&#160;</td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsGeoJSON\" title=\"django.contrib.gis.db.models.functions.AsGeoJSON\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsGeoJSON</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.IsEmpty\" title=\"django.contrib.gis.db.models.functions.IsEmpty\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IsEmpty</span></code></a></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Distance\" title=\"django.contrib.gis.db.models.functions.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.BoundingCircle\" title=\"django.contrib.gis.db.models.functions.BoundingCircle\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BoundingCircle</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Intersection\" title=\"django.contrib.gis.db.models.functions.Intersection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Intersection</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.MakeValid\" title=\"django.contrib.gis.db.models.functions.MakeValid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MakeValid</span></code></a></td>\n<td>&#160;</td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsGML\" title=\"django.contrib.gis.db.models.functions.AsGML\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsGML</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.IsValid\" title=\"django.contrib.gis.db.models.functions.IsValid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IsValid</span></code></a></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.GeometryDistance\" title=\"django.contrib.gis.db.models.functions.GeometryDistance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GeometryDistance</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Centroid\" title=\"django.contrib.gis.db.models.functions.Centroid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Centroid</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.SymDifference\" title=\"django.contrib.gis.db.models.functions.SymDifference\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SymDifference</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Reverse\" title=\"django.contrib.gis.db.models.functions.Reverse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Reverse</span></code></a></td>\n<td>&#160;</td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsKML\" title=\"django.contrib.gis.db.models.functions.AsKML\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsKML</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.MemSize\" title=\"django.contrib.gis.db.models.functions.MemSize\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MemSize</span></code></a></td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Length\" title=\"django.contrib.gis.db.models.functions.Length\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Length</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.ClosestPoint\" title=\"django.contrib.gis.db.models.functions.ClosestPoint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClosestPoint</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Union\" title=\"django.contrib.gis.db.models.functions.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Scale\" title=\"django.contrib.gis.db.models.functions.Scale\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Scale</span></code></a></td>\n<td>&#160;</td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsSVG\" title=\"django.contrib.gis.db.models.functions.AsSVG\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsSVG</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.NumGeometries\" title=\"django.contrib.gis.db.models.functions.NumGeometries\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NumGeometries</span></code></a></td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Perimeter\" title=\"django.contrib.gis.db.models.functions.Perimeter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Perimeter</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Envelope\" title=\"django.contrib.gis.db.models.functions.Envelope\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Envelope</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.LineLocatePoint\" title=\"django.contrib.gis.db.models.functions.LineLocatePoint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LineLocatePoint</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.PointOnSurface\" title=\"django.contrib.gis.db.models.functions.PointOnSurface\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PointOnSurface</span></code></a></td>\n<td>&#160;</td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.SnapToGrid\" title=\"django.contrib.gis.db.models.functions.SnapToGrid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SnapToGrid</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Transform\" title=\"django.contrib.gis.db.models.functions.Transform\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Transform</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.Translate\" title=\"django.contrib.gis.db.models.functions.Translate\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Translate</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.FromWKB\" title=\"django.contrib.gis.db.models.functions.FromWKB\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKB</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.FromWKT\" title=\"django.contrib.gis.db.models.functions.FromWKT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKT</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsWKB\" title=\"django.contrib.gis.db.models.functions.AsWKB\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsWKB</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.AsWKT\" title=\"django.contrib.gis.db.models.functions.AsWKT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsWKT</span></code></a>\n<a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.GeoHash\" title=\"django.contrib.gis.db.models.functions.GeoHash\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GeoHash</span></code></a></td>\n<td><a class=\"reference internal\" href=\"#django.contrib.gis.db.models.functions.NumPoints\" title=\"django.contrib.gis.db.models.functions.NumPoints\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NumPoints</span></code></a></td>\n</tr>\n</tbody>\n</table>\n<div class=\"section\" id=\"s-area\">\n<span id=\"area\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Area</span></code><a class=\"headerlink\" href=\"#area\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Area\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Area</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Area\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-polygon-property-functions.html#function_st-area\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Area.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the area of the\nfield as an <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Area\" title=\"django.contrib.gis.measure.Area\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Area</span></code></a> measure.</p>\n<p>MySQL and SpatiaLite without LWGEOM/RTTOPO don\u2019t support area calculations on\ngeographic SRSes.</p>\n</div>\n<div class=\"section\" id=\"s-asgeojson\">\n<span id=\"asgeojson\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsGeoJSON</span></code><a class=\"headerlink\" href=\"#asgeojson\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsGeoJSON\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsGeoJSON</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">bbox</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em><span class=\"n\"><span class=\"pre\">crs</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em><span class=\"n\"><span class=\"pre\">precision</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">8</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsGeoJSON\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-geojson-functions.html#function_st-asgeojson\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsGeoJSON.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://geojson.org/\">GeoJSON</a> representation of the geometry. Note that the result\nis not a complete GeoJSON structure but only the <code class=\"docutils literal notranslate\"><span class=\"pre\">geometry</span></code> key content of a\nGeoJSON structure. See also <a class=\"reference internal\" href=\"../serializers/\"><span class=\"doc\">GeoJSON Serializer</span></a>.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">json</span><span class=\"o\">=</span><span class=\"n\">AsGeoJSON</span><span class=\"p\">(</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Chicago&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">json</span>\n<span class=\"go\">{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-87.65018,41.85039]}</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Keyword Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">bbox</span></code></td>\n<td>Set this to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if you want the bounding box\nto be included in the returned GeoJSON. Ignored on\nOracle.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">crs</span></code></td>\n<td>Set this to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if you want the coordinate\nreference system to be included in the returned\nGeoJSON. Ignored on MySQL and Oracle.</td>\n</tr>\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">precision</span></code></td>\n<td>It may be used to specify the number of significant\ndigits for the coordinates in the GeoJSON\nrepresentation \u2013 the default value is 8. Ignored on\nOracle.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-asgml\">\n<span id=\"asgml\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsGML</span></code><a class=\"headerlink\" href=\"#asgml\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsGML\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsGML</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">version</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">2</span></span></em>, <em><span class=\"n\"><span class=\"pre\">precision</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">8</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsGML\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: Oracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsGML.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Geography_Markup_Language\">Geographic Markup\nLanguage (GML)</a> representation of the geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">gml</span><span class=\"o\">=</span><span class=\"n\">AsGML</span><span class=\"p\">(</span><span class=\"s2\">&quot;poly&quot;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">gml</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;gml:Polygon srsName=&quot;EPSG:4326&quot;&gt;&lt;gml:OuterBoundaryIs&gt;-147.78711,70.245363 ...</span>\n<span class=\"go\">-147.78711,70.245363&lt;/gml:OuterBoundaryIs&gt;&lt;/gml:Polygon&gt;</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Keyword Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">precision</span></code></td>\n<td>Specifies the number of significant digits for the\ncoordinates in the GML representation \u2013 the default\nvalue is 8. Ignored on Oracle.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">version</span></code></td>\n<td>Specifies the GML version to use: 2 (default) or 3.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-askml\">\n<span id=\"askml\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsKML</span></code><a class=\"headerlink\" href=\"#askml\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsKML\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsKML</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">precision</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">8</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsKML\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsKML.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://developers.google.com/kml/documentation/\">Keyhole Markup\nLanguage (KML)</a> representation of the geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">kml</span><span class=\"o\">=</span><span class=\"n\">AsKML</span><span class=\"p\">(</span><span class=\"s2\">&quot;poly&quot;</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">qs</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">kml</span><span class=\"p\">)</span>\n<span class=\"go\">&lt;Polygon&gt;&lt;outerBoundaryIs&gt;&lt;LinearRing&gt;&lt;coordinates&gt;-103.04135,36.217596,0 ...</span>\n<span class=\"go\">-103.04135,36.217596,0&lt;/coordinates&gt;&lt;/LinearRing&gt;&lt;/outerBoundaryIs&gt;&lt;/Polygon&gt;</span>\n</pre></div>\n</div>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Keyword Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">precision</span></code></td>\n<td>This keyword may be used to specify the number of\nsignificant digits for the coordinates in the KML\nrepresentation \u2013 the default value is 8.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-assvg\">\n<span id=\"assvg\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsSVG</span></code><a class=\"headerlink\" href=\"#assvg\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsSVG\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsSVG</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">relative</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em><span class=\"n\"><span class=\"pre\">precision</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">8</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsSVG\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsSVG.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://www.w3.org/Graphics/SVG/\">Scalable Vector\nGraphics (SVG)</a> representation of the geometry.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"28%\" />\n<col width=\"72%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Keyword Argument</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">relative</span></code></td>\n<td>If set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, the path data will be implemented\nin terms of relative moves. Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>,\nmeaning that absolute moves are used instead.</td>\n</tr>\n<tr class=\"row-odd\"><td><code class=\"docutils literal notranslate\"><span class=\"pre\">precision</span></code></td>\n<td>This keyword may be used to specify the number of\nsignificant digits for the coordinates in the SVG\nrepresentation \u2013 the default value is 8.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-aswkb\">\n<span id=\"aswkb\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsWKB</span></code><a class=\"headerlink\" href=\"#aswkb\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsWKB\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsWKB</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsWKB\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-format-conversion-functions.html#function_st-asbinary\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsBinary.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry#Well-known_binary\">Well-known\nbinary (WKB)</a> representation of the geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">wkb</span><span class=\"o\">=</span><span class=\"n\">AsWKB</span><span class=\"p\">(</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Chelyabinsk&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">wkb</span><span class=\"p\">)</span>\n<span class=\"go\">b&#39;\\x01\\x01\\x00\\x00\\x00]3\\xf9f\\x9b\\x91K@\\x00X\\x1d9\\xd2\\xb9N@&#39;</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-aswkt\">\n<span id=\"aswkt\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">AsWKT</span></code><a class=\"headerlink\" href=\"#aswkt\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.AsWKT\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">AsWKT</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.AsWKT\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-format-conversion-functions.html#function_st-astext\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_AsText.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry\">Well-known text\n(WKT)</a> representation of the geometry.</p>\n<p>Example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">wkt</span><span class=\"o\">=</span><span class=\"n\">AsWKT</span><span class=\"p\">(</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">))</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Chelyabinsk&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">wkt</span>\n<span class=\"go\">&#39;POINT (55.137555 61.451728)&#39;</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-azimuth\">\n<span id=\"azimuth\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Azimuth</span></code><a class=\"headerlink\" href=\"#azimuth\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Azimuth\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Azimuth</span></code>(<em><span class=\"n\"><span class=\"pre\">point_a</span></span></em>, <em><span class=\"n\"><span class=\"pre\">point_b</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Azimuth\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Azimuth.html\">PostGIS</a>,\nSpatiaLite (LWGEOM/RTTOPO)</p>\n<p>Returns the azimuth in radians of the segment defined by the given point\ngeometries, or <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> if the two points are coincident. The azimuth is angle\nreferenced from north and is positive clockwise: north = <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>; east = <code class=\"docutils literal notranslate\"><span class=\"pre\">\u03c0/2</span></code>;\nsouth = <code class=\"docutils literal notranslate\"><span class=\"pre\">\u03c0</span></code>; west = <code class=\"docutils literal notranslate\"><span class=\"pre\">3\u03c0/2</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-boundingcircle\">\n<span id=\"boundingcircle\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">BoundingCircle</span></code><a class=\"headerlink\" href=\"#boundingcircle\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.BoundingCircle\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">BoundingCircle</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">num_seg</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">48</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.BoundingCircle\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_MinimumBoundingCircle.html\">PostGIS</a>,\n<a class=\"reference external\" href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/spatl/SDO_GEOM-reference.html#GUID-82A61626-BB64-4793-B53D-A0DBEC91831A\">Oracle</a></p>\n<p>Accepts a single geographic field or expression and returns the smallest circle\npolygon that can fully contain the geometry.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">num_seg</span></code> parameter is used only on PostGIS.</p>\n</div>\n<div class=\"section\" id=\"s-centroid\">\n<span id=\"centroid\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Centroid</span></code><a class=\"headerlink\" href=\"#centroid\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Centroid\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Centroid</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Centroid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-polygon-property-functions.html#function_st-centroid\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Centroid.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the <code class=\"docutils literal notranslate\"><span class=\"pre\">centroid</span></code>\nvalue of the geometry.</p>\n</div>\n<div class=\"section\" id=\"s-closestpoint\">\n<span id=\"closestpoint\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">ClosestPoint</span></code><a class=\"headerlink\" href=\"#closestpoint\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django Development version.</span> </div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.ClosestPoint\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">ClosestPoint</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.ClosestPoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_ClosestPoint.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the 2-dimensional\npoint on geometry A that is closest to geometry B.</p>\n</div>\n<div class=\"section\" id=\"s-difference\">\n<span id=\"difference\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Difference</span></code><a class=\"headerlink\" href=\"#difference\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Difference\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Difference</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Difference\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-operator-functions.html#function_st-difference\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Difference.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the geometric\ndifference, that is the part of geometry A that does not intersect with\ngeometry B.</p>\n</div>\n<div class=\"section\" id=\"s-distance\">\n<span id=\"distance\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance</span></code><a class=\"headerlink\" href=\"#distance\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Distance\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Distance</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"n\"><span class=\"pre\">spheroid</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Distance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-relation-functions-object-shapes.html#function_st-distance\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Distance.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the distance between\nthem, as a <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object. On MySQL, a raw\nfloat value is returned when the coordinates are geodetic.</p>\n<p>On backends that support distance calculation on geodetic coordinates, the\nproper backend function is automatically chosen depending on the SRID value of\nthe geometries (e.g. <a class=\"reference external\" href=\"https://postgis.net/docs/ST_DistanceSphere.html\">ST_DistanceSphere</a> on PostGIS).</p>\n<p>When distances are calculated with geodetic (angular) coordinates, as is the\ncase with the default WGS84 (4326) SRID, you can set the <code class=\"docutils literal notranslate\"><span class=\"pre\">spheroid</span></code> keyword\nargument to decide if the calculation should be based on a simple sphere (less\naccurate, less resource-intensive) or on a spheroid (more accurate, more\nresource-intensive).</p>\n<p>In the following example, the distance from the city of Hobart to every other\n<a class=\"reference internal\" href=\"../model-api/#django.contrib.gis.db.models.PointField\" title=\"django.contrib.gis.db.models.PointField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PointField</span></code></a> in the <code class=\"docutils literal notranslate\"><span class=\"pre\">AustraliaCity</span></code>\nqueryset is calculated:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.db.models.functions</span> <span class=\"kn\">import</span> <span class=\"n\">Distance</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pnt</span> <span class=\"o\">=</span> <span class=\"n\">AustraliaCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Hobart&quot;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">point</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">city</span> <span class=\"ow\">in</span> <span class=\"n\">AustraliaCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span><span class=\"n\">distance</span><span class=\"o\">=</span><span class=\"n\">Distance</span><span class=\"p\">(</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">,</span> <span class=\"n\">pnt</span><span class=\"p\">)):</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">city</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">city</span><span class=\"o\">.</span><span class=\"n\">distance</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">Wollongong 990071.220408 m</span>\n<span class=\"go\">Shellharbour 972804.613941 m</span>\n<span class=\"go\">Thirroul 1002334.36351 m</span>\n<span class=\"gp\">...</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Because the <code class=\"docutils literal notranslate\"><span class=\"pre\">distance</span></code> attribute is a\n<a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object, you can easily express\nthe value in the units of your choice. For example, <code class=\"docutils literal notranslate\"><span class=\"pre\">city.distance.mi</span></code> is\nthe distance value in miles and <code class=\"docutils literal notranslate\"><span class=\"pre\">city.distance.km</span></code> is the distance value\nin kilometers. See <a class=\"reference internal\" href=\"../measure/\"><span class=\"doc\">Measurement Objects</span></a> for usage details and the list of\n<a class=\"reference internal\" href=\"../measure/#supported-units\"><span class=\"std std-ref\">Supported units</span></a>.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-envelope\">\n<span id=\"envelope\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Envelope</span></code><a class=\"headerlink\" href=\"#envelope\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Envelope\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Envelope</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Envelope\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-general-property-functions.html#function_st-envelope\">MySQL</a>,\n<a class=\"reference external\" href=\"https://docs.oracle.com/en/database/oracle/oracle-database/21/spatl/spatial-operators-reference.html#GUID-ACED800F-3435-44AA-9606-D40934A23ED0\">Oracle</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Envelope.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the geometry\nrepresenting the bounding box of the geometry.</p>\n</div>\n<div class=\"section\" id=\"s-forcepolygoncw\">\n<span id=\"forcepolygoncw\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">ForcePolygonCW</span></code><a class=\"headerlink\" href=\"#forcepolygoncw\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.ForcePolygonCW\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">ForcePolygonCW</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.ForcePolygonCW\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_ForcePolygonCW.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a modified version\nof the polygon/multipolygon in which all exterior rings are oriented clockwise\nand all interior rings are oriented counterclockwise. Non-polygonal geometries\nare returned unchanged.</p>\n</div>\n<div class=\"section\" id=\"s-fromwkb\">\n<span id=\"fromwkb\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">FromWKB</span></code><a class=\"headerlink\" href=\"#fromwkb\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.FromWKB\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">FromWKB</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.FromWKB\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-wkb-functions.html#function_st-geomfromwkb\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_GeomFromWKB.html\">PostGIS</a>, SpatiaLite</p>\n<p>Creates geometry from <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry#Well-known_binary\">Well-known binary (WKB)</a> representation.</p>\n</div>\n<div class=\"section\" id=\"s-fromwkt\">\n<span id=\"fromwkt\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">FromWKT</span></code><a class=\"headerlink\" href=\"#fromwkt\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.FromWKT\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">FromWKT</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.FromWKT\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-wkt-functions.html#function_st-geomfromtext\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_GeomFromText.html\">PostGIS</a>, SpatiaLite</p>\n<p>Creates geometry from <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry\">Well-known text (WKT)</a> representation.</p>\n</div>\n<div class=\"section\" id=\"s-geohash\">\n<span id=\"geohash\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">GeoHash</span></code><a class=\"headerlink\" href=\"#geohash\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.GeoHash\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">GeoHash</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">precision</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.GeoHash\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-geohash-functions.html#function_st-geohash\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_GeoHash.html\">PostGIS</a>, SpatiaLite\n(LWGEOM/RTTOPO)</p>\n<p>Accepts a single geographic field or expression and returns a <a class=\"reference external\" href=\"https://en.wikipedia.org/wiki/Geohash\">GeoHash</a>\nrepresentation of the geometry.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">precision</span></code> keyword argument controls the number of characters in the\nresult.</p>\n</div>\n<div class=\"section\" id=\"s-geometrydistance\">\n<span id=\"geometrydistance\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">GeometryDistance</span></code><a class=\"headerlink\" href=\"#geometrydistance\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.GeometryDistance\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">GeometryDistance</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.GeometryDistance\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/geometry_distance_knn.html\">PostGIS</a></p>\n<p>Accepts two geographic fields or expressions and returns the distance between\nthem. When used in an <a class=\"reference internal\" href=\"../../../models/querysets/#django.db.models.query.QuerySet.order_by\" title=\"django.db.models.query.QuerySet.order_by\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">order_by()</span></code></a> clause,\nit provides index-assisted nearest-neighbor result sets.</p>\n</div>\n<div class=\"section\" id=\"s-intersection\">\n<span id=\"intersection\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Intersection</span></code><a class=\"headerlink\" href=\"#intersection\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Intersection\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Intersection</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Intersection\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-operator-functions.html#function_st-intersection\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Intersection.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the geometric\nintersection between them.</p>\n</div>\n<div class=\"section\" id=\"s-isempty\">\n<span id=\"isempty\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">IsEmpty</span></code><a class=\"headerlink\" href=\"#isempty\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.IsEmpty\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">IsEmpty</span></code>(<em><span class=\"n\"><span class=\"pre\">expr</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.IsEmpty\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_IsEmpty.html\">PostGIS</a></p>\n<p>Accepts a geographic field or expression and tests if the value is an empty\ngeometry. Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if its value is empty and <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.</p>\n</div>\n<div class=\"section\" id=\"s-isvalid\">\n<span id=\"isvalid\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">IsValid</span></code><a class=\"headerlink\" href=\"#isvalid\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.IsValid\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">IsValid</span></code>(<em><span class=\"n\"><span class=\"pre\">expr</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.IsValid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-convenience-functions.html#function_st-isvalid\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_IsValid.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts a geographic field or expression and tests if the value is well formed.\nReturns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if its value is a valid geometry and <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> otherwise.</p>\n</div>\n<div class=\"section\" id=\"s-length\">\n<span id=\"length\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Length</span></code><a class=\"headerlink\" href=\"#length\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Length\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Length</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">spheroid</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">True</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Length\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-linestring-property-functions.html#function_st-length\">MySQL</a>,\nOracle, <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Length.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic linestring or multilinestring field or expression\nand returns its length as a <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a>\nmeasure.</p>\n<p>On PostGIS and SpatiaLite, when the coordinates are geodetic (angular), you can\nspecify if the calculation should be based on a simple sphere (less\naccurate, less resource-intensive) or on a spheroid (more accurate, more\nresource-intensive) with the <code class=\"docutils literal notranslate\"><span class=\"pre\">spheroid</span></code> keyword argument.</p>\n<p>MySQL doesn\u2019t support length calculations on geographic SRSes.</p>\n</div>\n<div class=\"section\" id=\"s-linelocatepoint\">\n<span id=\"linelocatepoint\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">LineLocatePoint</span></code><a class=\"headerlink\" href=\"#linelocatepoint\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.LineLocatePoint\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">LineLocatePoint</span></code>(<em><span class=\"n\"><span class=\"pre\">linestring</span></span></em>, <em><span class=\"n\"><span class=\"pre\">point</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.LineLocatePoint\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_LineLocatePoint.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Returns a float between 0 and 1 representing the location of the closest point on\n<code class=\"docutils literal notranslate\"><span class=\"pre\">linestring</span></code> to the given <code class=\"docutils literal notranslate\"><span class=\"pre\">point</span></code>, as a fraction of the 2D line length.</p>\n</div>\n<div class=\"section\" id=\"s-makevalid\">\n<span id=\"makevalid\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">MakeValid</span></code><a class=\"headerlink\" href=\"#makevalid\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.MakeValid\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">MakeValid</span></code>(<em><span class=\"n\"><span class=\"pre\">expr</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.MakeValid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_MakeValid.html\">PostGIS</a>,\nSpatiaLite (LWGEOM/RTTOPO)</p>\n<p>Accepts a geographic field or expression and attempts to convert the value into\na valid geometry without losing any of the input vertices. Geometries that are\nalready valid are returned without changes. Simple polygons might become a\nmultipolygon and the result might be of lower dimension than the input.</p>\n</div>\n<div class=\"section\" id=\"s-memsize\">\n<span id=\"memsize\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">MemSize</span></code><a class=\"headerlink\" href=\"#memsize\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.MemSize\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">MemSize</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.MemSize\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_MemSize.html\">PostGIS</a></p>\n<p>Accepts a single geographic field or expression and returns the memory size\n(number of bytes) that the geometry field takes.</p>\n</div>\n<div class=\"section\" id=\"s-numgeometries\">\n<span id=\"numgeometries\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">NumGeometries</span></code><a class=\"headerlink\" href=\"#numgeometries\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.NumGeometries\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">NumGeometries</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.NumGeometries\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-geometrycollection-property-functions.html#function_st-numgeometries\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_NumGeometries.html\">PostGIS</a>, Oracle,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the number of\ngeometries if the geometry field is a collection (e.g., a <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOMETRYCOLLECTION</span></code>\nor <code class=\"docutils literal notranslate\"><span class=\"pre\">MULTI*</span></code> field). Returns 1 for single geometries.</p>\n<p>On MySQL, returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> for single geometries.</p>\n</div>\n<div class=\"section\" id=\"s-numpoints\">\n<span id=\"numpoints\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">NumPoints</span></code><a class=\"headerlink\" href=\"#numpoints\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.NumPoints\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">NumPoints</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.NumPoints\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/gis-linestring-property-functions.html#function_st-numpoints\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_NPoints.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the number of points\nin a geometry.</p>\n<p>On MySQL, returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> for any non-<code class=\"docutils literal notranslate\"><span class=\"pre\">LINESTRING</span></code> geometry.</p>\n</div>\n<div class=\"section\" id=\"s-perimeter\">\n<span id=\"perimeter\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Perimeter</span></code><a class=\"headerlink\" href=\"#perimeter\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Perimeter\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Perimeter</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Perimeter\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Perimeter.html\">PostGIS</a>,\nOracle, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns the perimeter of the\ngeometry field as a <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object.</p>\n</div>\n<div class=\"section\" id=\"s-pointonsurface\">\n<span id=\"pointonsurface\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">PointOnSurface</span></code><a class=\"headerlink\" href=\"#pointonsurface\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.PointOnSurface\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">PointOnSurface</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.PointOnSurface\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_PointOnSurface.html\">PostGIS</a>,\nMariaDB, Oracle, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a <code class=\"docutils literal notranslate\"><span class=\"pre\">Point</span></code> geometry\nguaranteed to lie on the surface of the field; otherwise returns <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-reverse\">\n<span id=\"reverse\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Reverse</span></code><a class=\"headerlink\" href=\"#reverse\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Reverse\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Reverse</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Reverse\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Reverse.html\">PostGIS</a>, Oracle,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a geometry with\nreversed coordinates.</p>\n</div>\n<div class=\"section\" id=\"s-scale\">\n<span id=\"scale\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Scale</span></code><a class=\"headerlink\" href=\"#scale\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Scale\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Scale</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">x</span></span></em>, <em><span class=\"n\"><span class=\"pre\">y</span></span></em>, <em><span class=\"n\"><span class=\"pre\">z</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">0.0</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Scale\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Scale.html\">PostGIS</a>, SpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a geometry with\nscaled coordinates by multiplying them with the <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">y</span></code>, and optionally\n<code class=\"docutils literal notranslate\"><span class=\"pre\">z</span></code> parameters.</p>\n</div>\n<div class=\"section\" id=\"s-snaptogrid\">\n<span id=\"snaptogrid\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">SnapToGrid</span></code><a class=\"headerlink\" href=\"#snaptogrid\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.SnapToGrid\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">SnapToGrid</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.SnapToGrid\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_SnapToGrid.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a geometry with all\npoints snapped to the given grid.  How the geometry is snapped to the grid\ndepends on how many numeric (either float, integer, or long) arguments are\ngiven.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"26%\" />\n<col width=\"74%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Number of Arguments</th>\n<th class=\"head\">Description</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>1</td>\n<td>A single size to snap both the X and Y grids to.</td>\n</tr>\n<tr class=\"row-odd\"><td>2</td>\n<td>X and Y sizes to snap the grid to.</td>\n</tr>\n<tr class=\"row-even\"><td>4</td>\n<td>X, Y sizes and the corresponding X, Y origins.</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-symdifference\">\n<span id=\"symdifference\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">SymDifference</span></code><a class=\"headerlink\" href=\"#symdifference\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.SymDifference\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">SymDifference</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.SymDifference\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-operator-functions.html#function_st-symdifference\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_SymDifference.html\">PostGIS</a>, Oracle,\nSpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the geometric\nsymmetric difference (union without the intersection) between the given\nparameters.</p>\n</div>\n<div class=\"section\" id=\"s-transform\">\n<span id=\"transform\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Transform</span></code><a class=\"headerlink\" href=\"#transform\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Transform\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Transform</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">srid</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Transform\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Transform.html\">PostGIS</a>,\nOracle, SpatiaLite</p>\n<p>Accepts a geographic field or expression and a SRID integer code, and returns\nthe transformed geometry to the spatial reference system specified by the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">srid</span></code> parameter.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">What spatial reference system an integer SRID corresponds to may depend on\nthe spatial database used.  In other words, the SRID numbers used for Oracle\nare not necessarily the same as those used by PostGIS.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-translate\">\n<span id=\"translate\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Translate</span></code><a class=\"headerlink\" href=\"#translate\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Translate\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Translate</span></code>(<em><span class=\"n\"><span class=\"pre\">expression</span></span></em>, <em><span class=\"n\"><span class=\"pre\">x</span></span></em>, <em><span class=\"n\"><span class=\"pre\">y</span></span></em>, <em><span class=\"n\"><span class=\"pre\">z</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">0.0</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Translate\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: <a class=\"reference external\" href=\"https://postgis.net/docs/ST_Translate.html\">PostGIS</a>,\nSpatiaLite</p>\n<p>Accepts a single geographic field or expression and returns a geometry with\nits coordinates offset by the <code class=\"docutils literal notranslate\"><span class=\"pre\">x</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">y</span></code>, and optionally <code class=\"docutils literal notranslate\"><span class=\"pre\">z</span></code> numeric\nparameters.</p>\n</div>\n<div class=\"section\" id=\"s-union\">\n<span id=\"union\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">Union</span></code><a class=\"headerlink\" href=\"#union\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.gis.db.models.functions.Union\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Union</span></code>(<em><span class=\"n\"><span class=\"pre\">expr1</span></span></em>, <em><span class=\"n\"><span class=\"pre\">expr2</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">extra</span></span></em>)<a class=\"headerlink\" href=\"#django.contrib.gis.db.models.functions.Union\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p><em>Availability</em>: MariaDB, <a class=\"reference external\" href=\"https://dev.mysql.com/doc/refman/en/spatial-operator-functions.html#function_st-union\">MySQL</a>,\n<a class=\"reference external\" href=\"https://postgis.net/docs/ST_Union.html\">PostGIS</a>, Oracle, SpatiaLite</p>\n<p>Accepts two geographic fields or expressions and returns the union of both\ngeometries.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/measure", "Measurement Objects", "N", "next"], ["ref/contrib/gis/geoquerysets", "GIS QuerySet API Reference", "P", "previous"]], "sourcename": "ref/contrib/gis/functions.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Geographic Database Functions</a><ul>\n<li><a class=\"reference internal\" href=\"#area\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Area</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#asgeojson\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsGeoJSON</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#asgml\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsGML</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#askml\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsKML</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#assvg\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsSVG</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#aswkb\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsWKB</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#aswkt\"><code class=\"docutils literal notranslate\"><span class=\"pre\">AsWKT</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#azimuth\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Azimuth</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#boundingcircle\"><code class=\"docutils literal notranslate\"><span class=\"pre\">BoundingCircle</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#centroid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Centroid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#closestpoint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ClosestPoint</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#difference\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Difference</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#distance\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#envelope\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Envelope</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#forcepolygoncw\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ForcePolygonCW</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#fromwkb\"><code class=\"docutils literal notranslate\"><span class=\"pre\">FromWKB</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#fromwkt\"><code class=\"docutils literal notranslate\"><span class=\"pre\">FromWKT</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#geohash\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GeoHash</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#geometrydistance\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GeometryDistance</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#intersection\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Intersection</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#isempty\"><code class=\"docutils literal notranslate\"><span class=\"pre\">IsEmpty</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#isvalid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">IsValid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#length\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Length</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#linelocatepoint\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LineLocatePoint</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#makevalid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MakeValid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#memsize\"><code class=\"docutils literal notranslate\"><span class=\"pre\">MemSize</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#numgeometries\"><code class=\"docutils literal notranslate\"><span class=\"pre\">NumGeometries</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#numpoints\"><code class=\"docutils literal notranslate\"><span class=\"pre\">NumPoints</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#perimeter\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Perimeter</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#pointonsurface\"><code class=\"docutils literal notranslate\"><span class=\"pre\">PointOnSurface</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#reverse\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Reverse</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#scale\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Scale</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#snaptogrid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SnapToGrid</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#symdifference\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SymDifference</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#transform\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Transform</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#translate\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Translate</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#union\"><code class=\"docutils literal notranslate\"><span class=\"pre\">Union</span></code></a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/functions", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
