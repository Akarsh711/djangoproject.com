{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "GeoDjango"}], "prev": {"link": "../tutorial/", "title": "GeoDjango Tutorial"}, "next": {"link": "geolibs/", "title": "Installing Geospatial libraries"}, "title": "GeoDjango Installation", "meta": {}, "body": "<div class=\"section\" id=\"s-geodjango-installation\">\n<span id=\"geodjango-installation\"></span><h1>GeoDjango Installation<a class=\"headerlink\" href=\"#geodjango-installation\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"s-overview\">\n<span id=\"overview\"></span><h2>Overview<a class=\"headerlink\" href=\"#overview\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>In general, GeoDjango installation requires:</p>\n<ol class=\"arabic simple\">\n<li><a class=\"reference internal\" href=\"#django\"><span class=\"std std-ref\">Python and Django</span></a></li>\n<li><a class=\"reference internal\" href=\"#spatial-database\"><span class=\"std std-ref\">Spatial database</span></a></li>\n<li><a class=\"reference internal\" href=\"geolibs/\"><span class=\"doc\">Installing Geospatial libraries</span></a></li>\n</ol>\n<p>Details for each of the requirements and installation instructions\nare provided in the sections below. In addition, platform-specific\ninstructions are available for:</p>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"#macos\"><span class=\"std std-ref\">macOS</span></a></li>\n<li><a class=\"reference internal\" href=\"#windows\"><span class=\"std std-ref\">Windows</span></a></li>\n</ul>\n<div class=\"admonition-use-the-source admonition\">\n<p class=\"first admonition-title\">Use the Source</p>\n<p class=\"last\">Because GeoDjango takes advantage of the latest in the open source geospatial\nsoftware technology, recent versions of the libraries are necessary.\nIf binary packages aren\u2019t available for your platform, installation from\nsource may be required. When compiling the libraries from source, please\nfollow the directions closely, especially if you\u2019re a beginner.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-requirements\">\n<span id=\"requirements\"></span><h2>Requirements<a class=\"headerlink\" href=\"#requirements\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-python-and-django\">\n<span id=\"s-django\"></span><span id=\"python-and-django\"></span><span id=\"django\"></span><h3>Python and Django<a class=\"headerlink\" href=\"#python-and-django\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Because GeoDjango is included with Django, please refer to Django\u2019s\n<a class=\"reference internal\" href=\"../../../../topics/install/#installing-official-release\"><span class=\"std std-ref\">installation instructions</span></a> for details on\nhow to install.</p>\n</div>\n<div class=\"section\" id=\"s-spatial-database\">\n<span id=\"s-id1\"></span><span id=\"spatial-database\"></span><span id=\"id1\"></span><h3>Spatial database<a class=\"headerlink\" href=\"#spatial-database\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>PostgreSQL (with PostGIS), MySQL, Oracle, and SQLite (with SpatiaLite) are the\nspatial databases currently supported.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">PostGIS is recommended, because it is the most mature and feature-rich\nopen source spatial database.</p>\n</div>\n<p>The geospatial libraries required for a GeoDjango installation depends\non the spatial database used.  The following lists the library requirements,\nsupported versions, and any notes for each of the supported database backends:</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"15%\" />\n<col width=\"24%\" />\n<col width=\"15%\" />\n<col width=\"46%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Database</th>\n<th class=\"head\">Library Requirements</th>\n<th class=\"head\">Supported Versions</th>\n<th class=\"head\">Notes</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td>PostgreSQL</td>\n<td>GEOS, GDAL, PROJ, PostGIS</td>\n<td>12+</td>\n<td>Requires PostGIS.</td>\n</tr>\n<tr class=\"row-odd\"><td>MySQL</td>\n<td>GEOS, GDAL</td>\n<td>8+</td>\n<td><a class=\"reference internal\" href=\"../db-api/#mysql-spatial-limitations\"><span class=\"std std-ref\">Limited functionality</span></a>.</td>\n</tr>\n<tr class=\"row-even\"><td>Oracle</td>\n<td>GEOS, GDAL</td>\n<td>19+</td>\n<td>XE not supported.</td>\n</tr>\n<tr class=\"row-odd\"><td>SQLite</td>\n<td>GEOS, GDAL, PROJ, SpatiaLite</td>\n<td>3.21.0+</td>\n<td>Requires SpatiaLite 4.3+</td>\n</tr>\n</tbody>\n</table>\n<p>See also <a class=\"reference external\" href=\"https://trac.osgeo.org/postgis/wiki/UsersWikiPostgreSQLPostGIS\">this comparison matrix</a> on the OSGeo Wiki for\nPostgreSQL/PostGIS/GEOS/GDAL possible combinations.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-installation\">\n<span id=\"installation\"></span><h2>Installation<a class=\"headerlink\" href=\"#installation\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-geospatial-libraries\">\n<span id=\"geospatial-libraries\"></span><h3>Geospatial libraries<a class=\"headerlink\" href=\"#geospatial-libraries\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"toctree-wrapper compound\">\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"geolibs/\">Installing Geospatial libraries</a></li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"s-database-installation\">\n<span id=\"database-installation\"></span><h3>Database installation<a class=\"headerlink\" href=\"#database-installation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"toctree-wrapper compound\">\n<ul>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"postgis/\">Installing PostGIS</a></li>\n<li class=\"toctree-l1\"><a class=\"reference internal\" href=\"spatialite/\">Installing SpatiaLite</a></li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"s-databases-configuration\">\n<span id=\"databases-configuration\"></span><h3><a class=\"reference internal\" href=\"../../../settings/#std-setting-DATABASES\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">DATABASES</span></code></a> configuration<a class=\"headerlink\" href=\"#databases-configuration\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Set the <a class=\"reference internal\" href=\"../../../settings/#std-setting-DATABASE-ENGINE\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">ENGINE</span></code></a> setting to one of the <a class=\"reference internal\" href=\"../db-api/#spatial-backends\"><span class=\"std std-ref\">spatial\nbackends</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-add-django-contrib-gis-to-installed-apps\">\n<span id=\"add-django-contrib-gis-to-installed-apps\"></span><h3>Add <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code> to <a class=\"reference internal\" href=\"../../../settings/#std-setting-INSTALLED_APPS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">INSTALLED_APPS</span></code></a><a class=\"headerlink\" href=\"#add-django-contrib-gis-to-installed-apps\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Like other Django contrib applications, you will <em>only</em> need to add\n<a class=\"reference internal\" href=\"../#module-django.contrib.gis\" title=\"django.contrib.gis: Geographic Information System (GIS) extensions for Django\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a> to <a class=\"reference internal\" href=\"../../../settings/#std-setting-INSTALLED_APPS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">INSTALLED_APPS</span></code></a> in your settings.\nThis is so that the <code class=\"docutils literal notranslate\"><span class=\"pre\">gis</span></code> templates can be located \u2013 if not done, then\nfeatures such as the geographic admin or KML sitemaps will not function properly.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-troubleshooting\">\n<span id=\"troubleshooting\"></span><h2>Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If you can\u2019t find the solution to your problem here then participate in the\ncommunity!  You can:</p>\n<ul class=\"simple\">\n<li>Join the <code class=\"docutils literal notranslate\"><span class=\"pre\">#django-geo</span></code> IRC channel on Libera.Chat. Please be patient and\npolite \u2013 while you may not get an immediate response, someone will attempt\nto answer your question as soon as they see it.</li>\n<li>Ask your question on the <a class=\"reference external\" href=\"https://forum.djangoproject.com/c/internals/geodjango/13\">GeoDjango</a> forum.</li>\n<li>File a ticket on the <a class=\"reference external\" href=\"https://code.djangoproject.com/newticket\">Django trac</a> if you think there\u2019s a bug.  Make\nsure to provide a complete description of the problem, versions used,\nand specify the component as \u201cGIS\u201d.</li>\n</ul>\n<div class=\"section\" id=\"s-library-environment-settings\">\n<span id=\"s-libsettings\"></span><span id=\"library-environment-settings\"></span><span id=\"libsettings\"></span><h3>Library environment settings<a class=\"headerlink\" href=\"#library-environment-settings\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>By far, the most common problem when installing GeoDjango is that the\nexternal shared libraries (e.g., for GEOS and GDAL) cannot be located. <a class=\"footnote-reference\" href=\"#id22\" id=\"id5\">[1]</a>\nTypically, the cause of this problem is that the operating system isn\u2019t aware\nof the directory where the libraries built from source were installed.</p>\n<p>In general, the library path may be set on a per-user basis by setting\nan environment variable, or by configuring the library path for the entire\nsystem.</p>\n<div class=\"section\" id=\"s-ld-library-path-environment-variable\">\n<span id=\"ld-library-path-environment-variable\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">LD_LIBRARY_PATH</span></code> environment variable<a class=\"headerlink\" href=\"#ld-library-path-environment-variable\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>A user may set this environment variable to customize the library paths\nthey want to use.  The typical library directory for software\nbuilt from source is <code class=\"docutils literal notranslate\"><span class=\"pre\">/usr/local/lib</span></code>.  Thus, <code class=\"docutils literal notranslate\"><span class=\"pre\">/usr/local/lib</span></code> needs\nto be included in the <code class=\"docutils literal notranslate\"><span class=\"pre\">LD_LIBRARY_PATH</span></code> variable.  For example, the user\ncould place the following in their bash profile:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">LD_LIBRARY_PATH</span><span class=\"o\">=</span>/usr/local/lib\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-setting-system-library-path\">\n<span id=\"setting-system-library-path\"></span><h4>Setting system library path<a class=\"headerlink\" href=\"#setting-system-library-path\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>On GNU/Linux systems, there is typically a file in <code class=\"docutils literal notranslate\"><span class=\"pre\">/etc/ld.so.conf</span></code>, which may include\nadditional paths from files in another directory, such as <code class=\"docutils literal notranslate\"><span class=\"pre\">/etc/ld.so.conf.d</span></code>.\nAs the root user, add the custom library path (like <code class=\"docutils literal notranslate\"><span class=\"pre\">/usr/local/lib</span></code>) on a\nnew line in <code class=\"docutils literal notranslate\"><span class=\"pre\">ld.so.conf</span></code>.  This is <em>one</em> example of how to do so:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ sudo <span class=\"nb\">echo</span> /usr/local/lib &gt;&gt; /etc/ld.so.conf\n$ sudo ldconfig\n</pre></div>\n</div>\n<p>For OpenSolaris users, the system library path may be modified using the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">crle</span></code> utility.  Run <code class=\"docutils literal notranslate\"><span class=\"pre\">crle</span></code> with no options to see the current configuration\nand use <code class=\"docutils literal notranslate\"><span class=\"pre\">crle</span> <span class=\"pre\">-l</span></code> to set with the new library path.  Be <em>very</em> careful when\nmodifying the system library path:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># crle -l $OLD_PATH:/usr/local/lib</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-install-binutils\">\n<span id=\"s-binutils\"></span><span id=\"install-binutils\"></span><span id=\"binutils\"></span><h4>Install <code class=\"docutils literal notranslate\"><span class=\"pre\">binutils</span></code><a class=\"headerlink\" href=\"#install-binutils\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>GeoDjango uses the <code class=\"docutils literal notranslate\"><span class=\"pre\">find_library</span></code> function (from the <code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.util</span></code> Python\nmodule) to discover libraries.  The <code class=\"docutils literal notranslate\"><span class=\"pre\">find_library</span></code> routine uses a program\ncalled <code class=\"docutils literal notranslate\"><span class=\"pre\">objdump</span></code> (part of the <code class=\"docutils literal notranslate\"><span class=\"pre\">binutils</span></code> package) to verify a shared\nlibrary on GNU/Linux systems.  Thus, if <code class=\"docutils literal notranslate\"><span class=\"pre\">binutils</span></code> is not installed on your\nLinux system then Python\u2019s ctypes may not be able to find your library even if\nyour library path is set correctly and geospatial libraries were built perfectly.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">binutils</span></code> package may be installed on Debian and Ubuntu systems using the\nfollowing command:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ sudo apt-get install binutils\n</pre></div>\n</div>\n<p>Similarly, on Red Hat and CentOS systems:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ sudo yum install binutils\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-platform-specific-instructions\">\n<span id=\"platform-specific-instructions\"></span><h2>Platform-specific instructions<a class=\"headerlink\" href=\"#platform-specific-instructions\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-macos\">\n<span id=\"s-id6\"></span><span id=\"macos\"></span><span id=\"id6\"></span><h3>macOS<a class=\"headerlink\" href=\"#macos\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Because of the variety of packaging systems available for macOS, users have\nseveral different options for installing GeoDjango. These options are:</p>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"#postgresapp\"><span class=\"std std-ref\">Postgres.app</span></a> (easiest and recommended)</li>\n<li><a class=\"reference internal\" href=\"#homebrew\"><span class=\"std std-ref\">Homebrew</span></a></li>\n<li><a class=\"reference internal\" href=\"#fink\"><span class=\"std std-ref\">Fink</span></a></li>\n<li><a class=\"reference internal\" href=\"#macports\"><span class=\"std std-ref\">MacPorts</span></a></li>\n<li><a class=\"reference internal\" href=\"geolibs/#build-from-source\"><span class=\"std std-ref\">Building from source</span></a></li>\n</ul>\n<p>This section also includes instructions for installing an upgraded version\nof <a class=\"reference internal\" href=\"#macos-python\"><span class=\"std std-ref\">Python</span></a> from packages provided by the Python Software\nFoundation, however, this is not required.</p>\n<div class=\"section\" id=\"s-python\">\n<span id=\"s-macos-python\"></span><span id=\"python\"></span><span id=\"macos-python\"></span><h4>Python<a class=\"headerlink\" href=\"#python\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>Although macOS comes with Python installed, users can use <a class=\"reference external\" href=\"https://www.python.org/ftp/python/\">framework\ninstallers</a> provided by the Python Software Foundation.  An advantage to\nusing the installer is that macOS\u2019s Python will remain \u201cpristine\u201d for internal\noperating system use.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>You will need to modify the <code class=\"docutils literal notranslate\"><span class=\"pre\">PATH</span></code> environment variable in your\n<code class=\"docutils literal notranslate\"><span class=\"pre\">.profile</span></code> file so that the new version of Python is used when\n<code class=\"docutils literal notranslate\"><span class=\"pre\">python</span></code> is entered at the command-line:</p>\n<div class=\"last highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">PATH</span><span class=\"o\">=</span>/Library/Frameworks/Python.framework/Versions/Current/bin:<span class=\"nv\">$PATH</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-postgres-app\">\n<span id=\"s-postgresapp\"></span><span id=\"postgres-app\"></span><span id=\"postgresapp\"></span><h4>Postgres.app<a class=\"headerlink\" href=\"#postgres-app\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p><a class=\"reference external\" href=\"https://postgresapp.com/\">Postgres.app</a> is a standalone PostgreSQL server\nthat includes the PostGIS extension. You will also need to install <code class=\"docutils literal notranslate\"><span class=\"pre\">gdal</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">libgeoip</span></code> with <a class=\"reference internal\" href=\"#homebrew\"><span class=\"std std-ref\">Homebrew</span></a>.</p>\n<p>After installing Postgres.app, add the following to your <code class=\"docutils literal notranslate\"><span class=\"pre\">.bash_profile</span></code> so\nyou can run the package\u2019s programs from the command-line. Replace <code class=\"docutils literal notranslate\"><span class=\"pre\">X.Y</span></code> with\nthe version of PostgreSQL in the Postgres.app you installed:</p>\n<div class=\"highlight-bash notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">PATH</span><span class=\"o\">=</span><span class=\"nv\">$PATH</span>:/Applications/Postgres.app/Contents/Versions/X.Y/bin\n</pre></div>\n</div>\n<p>You can check if the path is set up correctly by typing <code class=\"docutils literal notranslate\"><span class=\"pre\">which</span> <span class=\"pre\">psql</span></code> at a\nterminal prompt.</p>\n</div>\n<div class=\"section\" id=\"s-homebrew\">\n<span id=\"s-id9\"></span><span id=\"homebrew\"></span><span id=\"id9\"></span><h4>Homebrew<a class=\"headerlink\" href=\"#homebrew\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p><a class=\"reference external\" href=\"https://brew.sh/\">Homebrew</a> provides \u201crecipes\u201d for building binaries and packages from source.\nIt provides recipes for the GeoDjango prerequisites on Macintosh computers\nrunning macOS. Because Homebrew still builds the software from source, <a class=\"reference external\" href=\"https://developer.apple.com/xcode/\">Xcode</a>\nis required.</p>\n<p>Summary:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ brew install postgresql\n$ brew install postgis\n$ brew install gdal\n$ brew install libgeoip\n</pre></div>\n</div>\n<div class=\"section\" id=\"s-fink\">\n<span id=\"s-id11\"></span><span id=\"fink\"></span><span id=\"id11\"></span><h5>Fink<a class=\"headerlink\" href=\"#fink\" title=\"Permalink to this headline\">\u00b6</a></h5>\n<p><a class=\"reference external\" href=\"https://schwehr.blogspot.com/\">Kurt Schwehr</a> has been gracious enough to create GeoDjango packages for users\nof the <a class=\"reference external\" href=\"https://www.finkproject.org/\">Fink</a> package system. <a class=\"reference external\" href=\"https://pdb.finkproject.org/pdb/browse.php?summary=django-gis\">Different packages are available</a> (starting\nwith <code class=\"docutils literal notranslate\"><span class=\"pre\">django-gis</span></code>), depending on which version of Python you want to use.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-macports\">\n<span id=\"s-id15\"></span><span id=\"macports\"></span><span id=\"id15\"></span><h4>MacPorts<a class=\"headerlink\" href=\"#macports\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p><a class=\"reference external\" href=\"https://www.macports.org/\">MacPorts</a> may be used to install GeoDjango prerequisites on computers\nrunning macOS.  Because MacPorts still builds the software from source,\n<a class=\"reference external\" href=\"https://developer.apple.com/xcode/\">Xcode</a> is required.</p>\n<p>Summary:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ sudo port install postgresql13-server\n$ sudo port install geos\n$ sudo port install proj6\n$ sudo port install postgis3\n$ sudo port install gdal\n$ sudo port install libgeoip\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>You will also have to modify the <code class=\"docutils literal notranslate\"><span class=\"pre\">PATH</span></code> in your <code class=\"docutils literal notranslate\"><span class=\"pre\">.profile</span></code> so\nthat the MacPorts programs are accessible from the command-line:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">PATH</span><span class=\"o\">=</span>/opt/local/bin:/opt/local/lib/postgresql13/bin\n</pre></div>\n</div>\n<p>In addition, add the <code class=\"docutils literal notranslate\"><span class=\"pre\">DYLD_FALLBACK_LIBRARY_PATH</span></code> setting so that\nthe libraries can be found by Python:</p>\n<div class=\"last highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">DYLD_FALLBACK_LIBRARY_PATH</span><span class=\"o\">=</span>/opt/local/lib:/opt/local/lib/postgresql13\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-windows\">\n<span id=\"s-id17\"></span><span id=\"windows\"></span><span id=\"id17\"></span><h3>Windows<a class=\"headerlink\" href=\"#windows\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Proceed through the following sections sequentially in order to install\nGeoDjango on Windows. In this tutorial we will install 64 bit versions of each\napplication.</p>\n<div class=\"section\" id=\"s-id18\">\n<span id=\"id18\"></span><h4>Python<a class=\"headerlink\" href=\"#id18\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>Install a 64 bit version of Python. See <a class=\"reference internal\" href=\"../../../../howto/windows/\"><span class=\"doc\">Install Python</span></a>\nfor further information.</p>\n</div>\n<div class=\"section\" id=\"s-postgresql\">\n<span id=\"postgresql\"></span><h4>PostgreSQL<a class=\"headerlink\" href=\"#postgresql\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>Download the latest <a class=\"reference external\" href=\"https://www.enterprisedb.com/downloads/postgres-postgresql-downloads\">PostgreSQL 15.x installer</a> from the\n<a class=\"reference external\" href=\"https://www.enterprisedb.com\">EnterpriseDB</a> website.  After downloading, run the installer, follow the\non-screen directions, and keep the default options unless you know the\nconsequences of changing them.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">The PostgreSQL installer creates a new <code class=\"docutils literal notranslate\"><span class=\"pre\">postgres</span></code> database superuser\nYou will be prompted once to set the password \u2013 make sure to remember it!</p>\n</div>\n<p>When the installer completes, it will ask to \u201cLaunch Stack Builder at exit?\u201d \u2013\nkeep this checked, as it is necessary to install <a class=\"reference internal\" href=\"#postgisasb\"><span class=\"std std-ref\">PostGIS</span></a>.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">If installed successfully, the PostgreSQL server will run in the background\neach time the system as started as a Windows service. A\n<span class=\"menuselection\">PostgreSQL 15</span> start menu group will created and contains\nshortcuts for the Application Stack Builder (ASB) as well as the\n\u2018SQL Shell\u2019, which will launch a <code class=\"docutils literal notranslate\"><span class=\"pre\">psql</span></code> command window.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-postgis\">\n<span id=\"s-postgisasb\"></span><span id=\"postgis\"></span><span id=\"postgisasb\"></span><h4>PostGIS<a class=\"headerlink\" href=\"#postgis\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>From within the Stack Builder (to run outside of the installer,\n<span class=\"menuselection\">Start \u2023 PostgreSQL 15 \u2023 Application Stack Builder</span>), select\n<span class=\"menuselection\">PostgreSQL 15 (x64) on port 5432</span> from the drop down\nmenu and click next. Expand the\n<span class=\"menuselection\">Categories \u2023 Spatial Extensions</span> menu tree and select\n<span class=\"menuselection\">PostGIS X.Y for PostgreSQL 15</span>.</p>\n<p>After clicking next, you will be prompted to confirm the selected package and\n\u201cDownload directory\u201d. Click next again, this will download PostGIS and you will\nbe asked to click next to begin the PostGIS installer. Select the default\noptions during install. The install process includes four Yes/No dialog boxes,\nthe default option for all four is \u201cNo\u201d.</p>\n</div>\n<div class=\"section\" id=\"s-osgeo4w\">\n<span id=\"s-id21\"></span><span id=\"osgeo4w\"></span><span id=\"id21\"></span><h4>OSGeo4W<a class=\"headerlink\" href=\"#osgeo4w\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>The <a class=\"reference external\" href=\"https://trac.osgeo.org/osgeo4w/\">OSGeo4W installer</a> helps to install the PROJ, GDAL, and GEOS libraries\nrequired by GeoDjango. First, download the <a class=\"reference external\" href=\"https://trac.osgeo.org/osgeo4w/\">OSGeo4W installer</a>, and\nrun it. Select <span class=\"menuselection\">Express Web-GIS Install</span> and click next.  In the\n\u2018Select Packages\u2019 list, ensure that GDAL is selected. If any other packages are\nenabled by default, they are not required by GeoDjango and may be unchecked\nsafely. After clicking next and accepting the license agreements, the packages\nwill be automatically downloaded and installed, after which you may exit the\ninstaller.</p>\n</div>\n<div class=\"section\" id=\"s-modify-windows-environment\">\n<span id=\"modify-windows-environment\"></span><h4>Modify Windows environment<a class=\"headerlink\" href=\"#modify-windows-environment\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>In order to use GeoDjango, you will need to add your OSGeo4W\ndirectories to your Windows system <code class=\"docutils literal notranslate\"><span class=\"pre\">Path</span></code>, as well as create <code class=\"docutils literal notranslate\"><span class=\"pre\">GDAL_DATA</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">PROJ_LIB</span></code> environment variables.  The following set of commands,\nexecutable with <code class=\"docutils literal notranslate\"><span class=\"pre\">cmd.exe</span></code>, will set this up. Restart your device\nonce this is complete for new environment variables to be recognized:</p>\n<div class=\"highlight-bat notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">set</span> <span class=\"nv\">OSGEO4W_ROOT</span><span class=\"p\">=</span>C:\\OSGeo4W\n<span class=\"k\">set</span> <span class=\"nv\">GDAL_DATA</span><span class=\"p\">=</span><span class=\"nv\">%OSGEO4W_ROOT%</span>\\apps\\gdal\\share\\gdal\n<span class=\"k\">set</span> <span class=\"nv\">PROJ_LIB</span><span class=\"p\">=</span><span class=\"nv\">%OSGEO4W_ROOT%</span>\\share\\proj\n<span class=\"k\">set</span> <span class=\"nv\">PATH</span><span class=\"p\">=</span><span class=\"nv\">%PATH%</span>;<span class=\"nv\">%OSGEO4W_ROOT%</span>\\bin\nreg ADD <span class=\"s2\">&quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;</span> /v Path /t REG_EXPAND_SZ /f /d <span class=\"s2\">&quot;</span><span class=\"nv\">%PATH%</span><span class=\"s2\">&quot;</span>\nreg ADD <span class=\"s2\">&quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;</span> /v GDAL_DATA /t REG_EXPAND_SZ /f /d <span class=\"s2\">&quot;</span><span class=\"nv\">%GDAL_DATA%</span><span class=\"s2\">&quot;</span>\nreg ADD <span class=\"s2\">&quot;HKLM\\SYSTEM\\CurrentControlSet\\Control\\Session Manager\\Environment&quot;</span> /v PROJ_LIB /t REG_EXPAND_SZ /f /d <span class=\"s2\">&quot;</span><span class=\"nv\">%PROJ_LIB%</span><span class=\"s2\">&quot;</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Administrator privileges are required to execute these commands.\nTo do this, run command prompt as administrator and enter the commands\nabove. You need to log out and log back in again for the settings to take\neffect.</p>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">If you customized the OSGeo4W installation directories, then you will need\nto modify the <code class=\"docutils literal notranslate\"><span class=\"pre\">OSGEO4W_ROOT</span></code> variables accordingly.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-install-django-and-set-up-database\">\n<span id=\"install-django-and-set-up-database\"></span><h4>Install Django and set up database<a class=\"headerlink\" href=\"#install-django-and-set-up-database\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p><a class=\"reference internal\" href=\"../../../../topics/install/#installing-official-release\"><span class=\"std std-ref\">Install Django</span></a> on your system. It is\nrecommended that you create a <a class=\"reference external\" href=\"https://docs.python.org/3/tutorial/venv.html\" title=\"(in Python v3.11)\"><span class=\"xref std std-doc\">virtual environment</span></a> for each project you create.</p>\n</div>\n<div class=\"section\" id=\"s-psycopg\">\n<span id=\"psycopg\"></span><h4>psycopg<a class=\"headerlink\" href=\"#psycopg\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg</span></code> Python module provides the interface between Python and the\nPostgreSQL database. <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg</span></code> can be installed via pip within your Python\nvirtual environment:</p>\n<div class=\"highlight-doscon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">...\\&gt;</span> py -m pip install psycopg\n</pre></div>\n</div>\n<p class=\"rubric\">Footnotes</p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id22\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id5\">[1]</a></td><td>GeoDjango uses the <a class=\"reference external\" href=\"https://docs.python.org/3/library/ctypes.html#ctypes.util.find_library\" title=\"(in Python v3.11)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">find_library()</span></code></a> routine from\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ctypes.util</span></code> to locate shared libraries.</td></tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/install/geolibs", "Installing Geospatial libraries", "N", "next"], ["ref/contrib/gis/tutorial", "GeoDjango Tutorial", "P", "previous"]], "sourcename": "ref/contrib/gis/install/index.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">GeoDjango Installation</a><ul>\n<li><a class=\"reference internal\" href=\"#overview\">Overview</a></li>\n<li><a class=\"reference internal\" href=\"#requirements\">Requirements</a><ul>\n<li><a class=\"reference internal\" href=\"#python-and-django\">Python and Django</a></li>\n<li><a class=\"reference internal\" href=\"#spatial-database\">Spatial database</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#installation\">Installation</a><ul>\n<li><a class=\"reference internal\" href=\"#geospatial-libraries\">Geospatial libraries</a></li>\n<li><a class=\"reference internal\" href=\"#database-installation\">Database installation</a></li>\n<li><a class=\"reference internal\" href=\"#databases-configuration\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">DATABASES</span></code> configuration</a></li>\n<li><a class=\"reference internal\" href=\"#add-django-contrib-gis-to-installed-apps\">Add <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code> to <code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">INSTALLED_APPS</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#troubleshooting\">Troubleshooting</a><ul>\n<li><a class=\"reference internal\" href=\"#library-environment-settings\">Library environment settings</a><ul>\n<li><a class=\"reference internal\" href=\"#ld-library-path-environment-variable\"><code class=\"docutils literal notranslate\"><span class=\"pre\">LD_LIBRARY_PATH</span></code> environment variable</a></li>\n<li><a class=\"reference internal\" href=\"#setting-system-library-path\">Setting system library path</a></li>\n<li><a class=\"reference internal\" href=\"#install-binutils\">Install <code class=\"docutils literal notranslate\"><span class=\"pre\">binutils</span></code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#platform-specific-instructions\">Platform-specific instructions</a><ul>\n<li><a class=\"reference internal\" href=\"#macos\">macOS</a><ul>\n<li><a class=\"reference internal\" href=\"#python\">Python</a></li>\n<li><a class=\"reference internal\" href=\"#postgres-app\">Postgres.app</a></li>\n<li><a class=\"reference internal\" href=\"#homebrew\">Homebrew</a><ul>\n<li><a class=\"reference internal\" href=\"#fink\">Fink</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#macports\">MacPorts</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#windows\">Windows</a><ul>\n<li><a class=\"reference internal\" href=\"#id18\">Python</a></li>\n<li><a class=\"reference internal\" href=\"#postgresql\">PostgreSQL</a></li>\n<li><a class=\"reference internal\" href=\"#postgis\">PostGIS</a></li>\n<li><a class=\"reference internal\" href=\"#osgeo4w\">OSGeo4W</a></li>\n<li><a class=\"reference internal\" href=\"#modify-windows-environment\">Modify Windows environment</a></li>\n<li><a class=\"reference internal\" href=\"#install-django-and-set-up-database\">Install Django and set up database</a></li>\n<li><a class=\"reference internal\" href=\"#psycopg\">psycopg</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/install/index", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
