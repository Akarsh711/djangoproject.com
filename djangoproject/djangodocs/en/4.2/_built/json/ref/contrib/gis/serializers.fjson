{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "GeoDjango"}, {"link": "../utils/", "title": "GeoDjango Utilities"}], "prev": {"link": "../ogrinspect/", "title": "OGR Inspection"}, "next": {"link": "../commands/", "title": "GeoDjango Management Commands"}, "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">GeoJSON</span></code> Serializer", "meta": {}, "body": "<div class=\"section\" id=\"s-module-django.contrib.gis.serializers.geojson\">\n<span id=\"s-geojson-serializer\"></span><span id=\"module-django.contrib.gis.serializers.geojson\"></span><span id=\"geojson-serializer\"></span><h1><code class=\"docutils literal notranslate\"><span class=\"pre\">GeoJSON</span></code> Serializer<a class=\"headerlink\" href=\"#module-django.contrib.gis.serializers.geojson\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>GeoDjango provides a specific serializer for the <a class=\"reference external\" href=\"https://geojson.org/\">GeoJSON</a> format. See\n<a class=\"reference internal\" href=\"../../../../topics/serialization/\"><span class=\"doc\">Serializing Django objects</span></a> for more information on serialization.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">geojson</span></code> serializer is not meant for round-tripping data, as it has no\ndeserializer equivalent. For example, you cannot use <a class=\"reference internal\" href=\"../../../django-admin/#django-admin-loaddata\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">loaddata</span></code></a> to\nreload the output produced by this serializer. If you plan to reload the\noutputted data, use the plain <a class=\"reference internal\" href=\"../../../../topics/serialization/#serialization-formats-json\"><span class=\"std std-ref\">json serializer</span></a>\ninstead.</p>\n<p>In addition to the options of the <code class=\"docutils literal notranslate\"><span class=\"pre\">json</span></code> serializer, the <code class=\"docutils literal notranslate\"><span class=\"pre\">geojson</span></code>\nserializer accepts the following additional option when it is called by\n<code class=\"docutils literal notranslate\"><span class=\"pre\">serializers.serialize()</span></code>:</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">geometry_field</span></code>: A string containing the name of a geometry field to use\nfor the <code class=\"docutils literal notranslate\"><span class=\"pre\">geometry</span></code> key of the GeoJSON feature. This is only needed when you\nhave a model with more than one geometry field and you don\u2019t want to use the\nfirst defined geometry field (by default, the first geometry field is picked).</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">id_field</span></code>: A string containing the name of a field to use for the <code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code>\nkey of the GeoJSON feature. By default, the primary key of objects is used.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">srid</span></code>: The SRID to use for the <code class=\"docutils literal notranslate\"><span class=\"pre\">geometry</span></code> content. Defaults to 4326\n(WGS 84).</li>\n</ul>\n<p>The <a class=\"reference internal\" href=\"../../../../topics/serialization/#subset-of-fields\"><span class=\"std std-ref\">fields</span></a> option can be used to limit fields that\nwill be present in the <code class=\"docutils literal notranslate\"><span class=\"pre\">properties</span></code> key, as it works with all other\nserializers.</p>\n<p>Example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.core.serializers</span> <span class=\"kn\">import</span> <span class=\"n\">serialize</span>\n<span class=\"kn\">from</span> <span class=\"nn\">my_app.models</span> <span class=\"kn\">import</span> <span class=\"n\">City</span>\n\n<span class=\"n\">serialize</span><span class=\"p\">(</span><span class=\"s2\">&quot;geojson&quot;</span><span class=\"p\">,</span> <span class=\"n\">City</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">all</span><span class=\"p\">(),</span> <span class=\"n\">geometry_field</span><span class=\"o\">=</span><span class=\"s2\">&quot;point&quot;</span><span class=\"p\">,</span> <span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">])</span>\n</pre></div>\n</div>\n<p>Would output:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">{</span>\n    <span class=\"s2\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;FeatureCollection&quot;</span><span class=\"p\">,</span>\n    <span class=\"s2\">&quot;crs&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;properties&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;EPSG:4326&quot;</span><span class=\"p\">}},</span>\n    <span class=\"s2\">&quot;features&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Feature&quot;</span><span class=\"p\">,</span>\n            <span class=\"s2\">&quot;id&quot;</span><span class=\"p\">:</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n            <span class=\"s2\">&quot;geometry&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Point&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;coordinates&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mf\">87.650175</span><span class=\"p\">,</span> <span class=\"mf\">41.850385</span><span class=\"p\">]},</span>\n            <span class=\"s2\">&quot;properties&quot;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Chicago&quot;</span><span class=\"p\">},</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">],</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n<p>When the <code class=\"docutils literal notranslate\"><span class=\"pre\">fields</span></code> parameter is not specified, the <code class=\"docutils literal notranslate\"><span class=\"pre\">geojson</span></code> serializer adds\na <code class=\"docutils literal notranslate\"><span class=\"pre\">pk</span></code> key to the <code class=\"docutils literal notranslate\"><span class=\"pre\">properties</span></code> dictionary with the primary key of the\nobject as the value.</p>\n<div class=\"versionchanged\">\n<span class=\"title\">Changed in Django 4.2:</span> <p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code> key for serialized features was added. Also, the <code class=\"docutils literal notranslate\"><span class=\"pre\">id_field</span></code>\noption was added to the <code class=\"docutils literal notranslate\"><span class=\"pre\">geojson</span></code> serializer.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/commands", "GeoDjango Management Commands", "N", "next"], ["ref/contrib/gis/ogrinspect", "OGR Inspection", "P", "previous"]], "sourcename": "ref/contrib/gis/serializers.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GeoJSON</span></code> Serializer</a></li>\n</ul>\n", "display_toc": false, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/serializers", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}