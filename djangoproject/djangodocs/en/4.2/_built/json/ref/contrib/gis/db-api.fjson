{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "GeoDjango"}], "prev": {"link": "../model-api/", "title": "GeoDjango Model API"}, "next": {"link": "../forms-api/", "title": "GeoDjango Forms API"}, "title": "GeoDjango Database API", "meta": {}, "body": "<div class=\"section\" id=\"s-geodjango-database-api\">\n<span id=\"geodjango-database-api\"></span><h1>GeoDjango Database API<a class=\"headerlink\" href=\"#geodjango-database-api\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"s-module-django.contrib.gis.db.backends\">\n<span id=\"s-id1\"></span><span id=\"s-spatial-backends\"></span><span id=\"module-django.contrib.gis.db.backends\"></span><span id=\"id1\"></span><span id=\"spatial-backends\"></span><h2>Spatial Backends<a class=\"headerlink\" href=\"#module-django.contrib.gis.db.backends\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>GeoDjango currently provides the following spatial database backends:</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.db.backends.postgis</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.db.backends.mysql</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.db.backends.oracle</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.db.backends.spatialite</span></code></li>\n</ul>\n<div class=\"section\" id=\"s-mysql-spatial-limitations\">\n<span id=\"s-id2\"></span><span id=\"mysql-spatial-limitations\"></span><span id=\"id2\"></span><h3>MySQL Spatial Limitations<a class=\"headerlink\" href=\"#mysql-spatial-limitations\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Django supports spatial functions operating on real geometries available in\nmodern MySQL versions. However, the spatial functions are not as rich as other\nbackends like PostGIS.</p>\n</div>\n<div class=\"section\" id=\"s-raster-support\">\n<span id=\"raster-support\"></span><h3>Raster Support<a class=\"headerlink\" href=\"#raster-support\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">RasterField</span></code> is currently only implemented for the PostGIS backend. Spatial\nlookups are available for raster fields, but spatial database functions and\naggregates aren\u2019t implemented for raster fields.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-creating-and-saving-models-with-geometry-fields\">\n<span id=\"creating-and-saving-models-with-geometry-fields\"></span><h2>Creating and Saving Models with Geometry Fields<a class=\"headerlink\" href=\"#creating-and-saving-models-with-geometry-fields\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Here is an example of how to create a geometry object (assuming the <code class=\"docutils literal notranslate\"><span class=\"pre\">Zipcode</span></code>\nmodel):</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">zipcode.models</span> <span class=\"kn\">import</span> <span class=\"n\">Zipcode</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"p\">(</span><span class=\"n\">code</span><span class=\"o\">=</span><span class=\"mi\">77096</span><span class=\"p\">,</span> <span class=\"n\">poly</span><span class=\"o\">=</span><span class=\"s2\">&quot;POLYGON(( 10 10, 10 20, 20 20, 20 15, 10 10))&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"../geos/#django.contrib.gis.geos.GEOSGeometry\" title=\"django.contrib.gis.geos.GEOSGeometry\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code></a> objects may also be used to save geometric models:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.geos</span> <span class=\"kn\">import</span> <span class=\"n\">GEOSGeometry</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">poly</span> <span class=\"o\">=</span> <span class=\"n\">GEOSGeometry</span><span class=\"p\">(</span><span class=\"s2\">&quot;POLYGON(( 10 10, 10 20, 20 20, 20 15, 10 10))&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"p\">(</span><span class=\"n\">code</span><span class=\"o\">=</span><span class=\"mi\">77096</span><span class=\"p\">,</span> <span class=\"n\">poly</span><span class=\"o\">=</span><span class=\"n\">poly</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Moreover, if the <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code> is in a different coordinate system (has a\ndifferent SRID value) than that of the field, then it will be implicitly\ntransformed into the SRID of the model\u2019s field, using the spatial database\u2019s\ntransform procedure:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">poly_3084</span> <span class=\"o\">=</span> <span class=\"n\">GEOSGeometry</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;POLYGON(( 10 10, 10 20, 20 20, 20 15, 10 10))&quot;</span><span class=\"p\">,</span> <span class=\"n\">srid</span><span class=\"o\">=</span><span class=\"mi\">3084</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>  <span class=\"c1\"># SRID 3084 is &#39;NAD83(HARN) / Texas Centric Lambert Conformal&#39;</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"p\">(</span><span class=\"n\">code</span><span class=\"o\">=</span><span class=\"mi\">78212</span><span class=\"p\">,</span> <span class=\"n\">poly</span><span class=\"o\">=</span><span class=\"n\">poly_3084</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">z</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">connection</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">print</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">connection</span><span class=\"o\">.</span><span class=\"n\">queries</span><span class=\"p\">[</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">][</span><span class=\"s2\">&quot;sql&quot;</span><span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>  <span class=\"c1\"># printing the last SQL statement executed (requires DEBUG=True)</span>\n<span class=\"go\">INSERT INTO &quot;geoapp_zipcode&quot; (&quot;code&quot;, &quot;poly&quot;) VALUES (78212, ST_Transform(ST_GeomFromWKB(&#39;\\\\001 ... &#39;, 3084), 4326))</span>\n</pre></div>\n</div>\n<p>Thus, geometry parameters may be passed in using the <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code> object, WKT\n(Well Known Text <a class=\"footnote-reference\" href=\"#fnwkt\" id=\"id3\">[1]</a>), HEXEWKB (PostGIS specific \u2013 a WKB geometry in\nhexadecimal <a class=\"footnote-reference\" href=\"#fnewkb\" id=\"id4\">[2]</a>), and GeoJSON (see <span class=\"target\" id=\"index-0\"></span><a class=\"rfc reference external\" href=\"https://datatracker.ietf.org/doc/html/rfc7946.html\"><strong>RFC 7946</strong></a>). Essentially, if the\ninput is not a <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code> object, the geometry field will attempt to\ncreate a <code class=\"docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code> instance from the input.</p>\n<p>For more information creating <a class=\"reference internal\" href=\"../geos/#django.contrib.gis.geos.GEOSGeometry\" title=\"django.contrib.gis.geos.GEOSGeometry\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code></a>\nobjects, refer to the <a class=\"reference internal\" href=\"../geos/#geos-tutorial\"><span class=\"std std-ref\">GEOS tutorial</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-creating-and-saving-models-with-raster-fields\">\n<span id=\"s-creating-and-saving-raster-models\"></span><span id=\"creating-and-saving-models-with-raster-fields\"></span><span id=\"creating-and-saving-raster-models\"></span><h2>Creating and Saving Models with Raster Fields<a class=\"headerlink\" href=\"#creating-and-saving-models-with-raster-fields\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>When creating raster models, the raster field will implicitly convert the input\ninto a <a class=\"reference internal\" href=\"../gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> using lazy-evaluation.\nThe raster field will therefore accept any input that is accepted by the\n<a class=\"reference internal\" href=\"../gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> constructor.</p>\n<p>Here is an example of how to create a raster object from a raster file\n<code class=\"docutils literal notranslate\"><span class=\"pre\">volcano.tif</span></code> (assuming the <code class=\"docutils literal notranslate\"><span class=\"pre\">Elevation</span></code> model):</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">elevation.models</span> <span class=\"kn\">import</span> <span class=\"n\">Elevation</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dem</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Volcano&quot;</span><span class=\"p\">,</span> <span class=\"n\">rast</span><span class=\"o\">=</span><span class=\"s2\">&quot;/path/to/raster/volcano.tif&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dem</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"../gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> objects may also be used to save\nraster models:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.gdal</span> <span class=\"kn\">import</span> <span class=\"n\">GDALRaster</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">rast</span> <span class=\"o\">=</span> <span class=\"n\">GDALRaster</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"p\">{</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;width&quot;</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;height&quot;</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Canyon&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;srid&quot;</span><span class=\"p\">:</span> <span class=\"mi\">4326</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;scale&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;bands&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span><span class=\"s2\">&quot;data&quot;</span><span class=\"p\">:</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">)}],</span>\n<span class=\"gp\">... </span>    <span class=\"p\">}</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dem</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Canyon&quot;</span><span class=\"p\">,</span> <span class=\"n\">rast</span><span class=\"o\">=</span><span class=\"n\">rast</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dem</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n<p>Note that this equivalent to:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">dem</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">create</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Canyon&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">rast</span><span class=\"o\">=</span><span class=\"p\">{</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;width&quot;</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;height&quot;</span><span class=\"p\">:</span> <span class=\"mi\">10</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Canyon&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;srid&quot;</span><span class=\"p\">:</span> <span class=\"mi\">4326</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;scale&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mf\">0.1</span><span class=\"p\">],</span>\n<span class=\"gp\">... </span>        <span class=\"s2\">&quot;bands&quot;</span><span class=\"p\">:</span> <span class=\"p\">[{</span><span class=\"s2\">&quot;data&quot;</span><span class=\"p\">:</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">)}],</span>\n<span class=\"gp\">... </span>    <span class=\"p\">},</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-spatial-lookups\">\n<span id=\"s-spatial-lookups-intro\"></span><span id=\"spatial-lookups\"></span><span id=\"spatial-lookups-intro\"></span><h2>Spatial Lookups<a class=\"headerlink\" href=\"#spatial-lookups\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>GeoDjango\u2019s lookup types may be used with any manager method like\n<code class=\"docutils literal notranslate\"><span class=\"pre\">filter()</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">exclude()</span></code>, etc.  However, the lookup types unique to\nGeoDjango are only available on spatial fields.</p>\n<p>Filters on \u2018normal\u2019 fields (e.g. <a class=\"reference internal\" href=\"../../../models/fields/#django.db.models.CharField\" title=\"django.db.models.CharField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CharField</span></code></a>)\nmay be chained with those on geographic fields. Geographic lookups accept\ngeometry and raster input on both sides and input types can be mixed freely.</p>\n<p>The general structure of geographic lookups is described below. A complete\nreference can be found in the <a class=\"reference internal\" href=\"../geoquerysets/#spatial-lookups\"><span class=\"std std-ref\">spatial lookup reference</span></a>.</p>\n<div class=\"section\" id=\"s-geometry-lookups\">\n<span id=\"geometry-lookups\"></span><h3>Geometry Lookups<a class=\"headerlink\" href=\"#geometry-lookups\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Geographic queries with geometries take the following general form (assuming\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">Zipcode</span></code> model used in the <a class=\"reference internal\" href=\"../model-api/\"><span class=\"doc\">GeoDjango Model API</span></a>):</p>\n<div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>&gt;&gt;&gt; qs = Zipcode.objects.filter(&lt;field&gt;__&lt;lookup_type&gt;=&lt;parameter&gt;)\n&gt;&gt;&gt; qs = Zipcode.objects.exclude(...)\n</pre></div>\n</div>\n<p>For example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Zipcode</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__contains</span><span class=\"o\">=</span><span class=\"n\">pnt</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">poly__contains</span><span class=\"o\">=</span><span class=\"n\">rst</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>In this case, <code class=\"docutils literal notranslate\"><span class=\"pre\">poly</span></code> is the geographic field, <a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-gis-contains\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">contains</span></code></a>\nis the spatial lookup type, <code class=\"docutils literal notranslate\"><span class=\"pre\">pnt</span></code> is the parameter (which may be a\n<a class=\"reference internal\" href=\"../geos/#django.contrib.gis.geos.GEOSGeometry\" title=\"django.contrib.gis.geos.GEOSGeometry\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GEOSGeometry</span></code></a> object or a string of\nGeoJSON , WKT, or HEXEWKB), and <code class=\"docutils literal notranslate\"><span class=\"pre\">rst</span></code> is a\n<a class=\"reference internal\" href=\"../gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> object.</p>\n</div>\n<div class=\"section\" id=\"s-raster-lookups\">\n<span id=\"s-spatial-lookup-raster\"></span><span id=\"raster-lookups\"></span><span id=\"spatial-lookup-raster\"></span><h3>Raster Lookups<a class=\"headerlink\" href=\"#raster-lookups\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The raster lookup syntax is similar to the syntax for geometries. The only\ndifference is that a band index can be specified as additional input. If no band\nindex is specified, the first band is used by default (index <code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code>). In that\ncase the syntax is identical to the syntax for geometry lookups.</p>\n<p>To specify the band index, an additional parameter can be specified on both\nsides of the lookup. On the left hand side, the double underscore syntax is\nused to pass a band index. On the right hand side, a tuple of the raster and\nband index can be specified.</p>\n<p>This results in the following general form for lookups involving rasters\n(assuming the <code class=\"docutils literal notranslate\"><span class=\"pre\">Elevation</span></code> model used in the <a class=\"reference internal\" href=\"../model-api/\"><span class=\"doc\">GeoDjango Model API</span></a>):</p>\n<div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>&gt;&gt;&gt; qs = Elevation.objects.filter(&lt;field&gt;__&lt;lookup_type&gt;=&lt;parameter&gt;)\n&gt;&gt;&gt; qs = Elevation.objects.filter(&lt;field&gt;__&lt;band_index&gt;__&lt;lookup_type&gt;=&lt;parameter&gt;)\n&gt;&gt;&gt; qs = Elevation.objects.filter(&lt;field&gt;__&lt;lookup_type&gt;=(&lt;raster_input, &lt;band_index&gt;)\n</pre></div>\n</div>\n<p>For example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__contains</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__contains</span><span class=\"o\">=</span><span class=\"n\">rst</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__1__contains</span><span class=\"o\">=</span><span class=\"n\">geom</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__contains</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">rst</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">Elevation</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">rast__1__contains</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">rst</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">))</span>\n</pre></div>\n</div>\n<p>On the left hand side of the example, <code class=\"docutils literal notranslate\"><span class=\"pre\">rast</span></code> is the geographic raster field\nand <a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-gis-contains\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">contains</span></code></a> is the spatial lookup type. On the right\nhand side, <code class=\"docutils literal notranslate\"><span class=\"pre\">geom</span></code> is a geometry input and <code class=\"docutils literal notranslate\"><span class=\"pre\">rst</span></code> is a\n<a class=\"reference internal\" href=\"../gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> object. The band index defaults to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">0</span></code> in the first two queries and is set to <code class=\"docutils literal notranslate\"><span class=\"pre\">1</span></code> on the others.</p>\n<p>While all spatial lookups can be used with raster objects on both sides, not all\nunderlying operators natively accept raster input. For cases where the operator\nexpects geometry input, the raster is automatically converted to a geometry.\nIt\u2019s important to keep this in mind when interpreting the lookup results.</p>\n<p>The type of raster support is listed for all lookups in the <a class=\"reference internal\" href=\"#spatial-lookup-compatibility\"><span class=\"std std-ref\">compatibility\ntable</span></a>. Lookups involving rasters are currently\nonly available for the PostGIS backend.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-distance-queries\">\n<span id=\"s-id5\"></span><span id=\"distance-queries\"></span><span id=\"id5\"></span><h2>Distance Queries<a class=\"headerlink\" href=\"#distance-queries\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-introduction\">\n<span id=\"introduction\"></span><h3>Introduction<a class=\"headerlink\" href=\"#introduction\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Distance calculations with spatial data is tricky because, unfortunately,\nthe Earth is not flat.  Some distance queries with fields in a geographic\ncoordinate system may have to be expressed differently because of\nlimitations in PostGIS.  Please see the <a class=\"reference internal\" href=\"../model-api/#selecting-an-srid\"><span class=\"std std-ref\">Selecting an SRID</span></a> section\nin the <a class=\"reference internal\" href=\"../model-api/\"><span class=\"doc\">GeoDjango Model API</span></a> documentation for more details.</p>\n</div>\n<div class=\"section\" id=\"s-distance-lookups\">\n<span id=\"s-distance-lookups-intro\"></span><span id=\"distance-lookups\"></span><span id=\"distance-lookups-intro\"></span><h3>Distance Lookups<a class=\"headerlink\" href=\"#distance-lookups\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><em>Availability</em>: PostGIS, MariaDB, MySQL, Oracle, SpatiaLite, PGRaster (Native)</p>\n<p>The following distance lookups are available:</p>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_lt\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_lt</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_lte\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_lte</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_gt\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_gt</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_gte\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_gte</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-dwithin\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">dwithin</span></code></a> (except MariaDB and MySQL)</li>\n</ul>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">For <em>measuring</em>, rather than querying on distances, use the\n<a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Distance\" title=\"django.contrib.gis.db.models.functions.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> function.</p>\n</div>\n<p>Distance lookups take a tuple parameter comprising:</p>\n<ol class=\"arabic simple\">\n<li>A geometry or raster to base calculations from; and</li>\n<li>A number or <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object containing the distance.</li>\n</ol>\n<p>If a <a class=\"reference internal\" href=\"../measure/#django.contrib.gis.measure.Distance\" title=\"django.contrib.gis.measure.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a> object is used,\nit may be expressed in any units (the SQL generated will use units\nconverted to those of the field); otherwise, numeric parameters are assumed\nto be in the units of the field.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>In PostGIS, <code class=\"docutils literal notranslate\"><span class=\"pre\">ST_Distance_Sphere</span></code> does <em>not</em> limit the geometry types\ngeographic distance queries are performed with. <a class=\"footnote-reference\" href=\"#fndistsphere15\" id=\"id6\">[3]</a>  However,\nthese queries may take a long time, as great-circle distances must be\ncalculated on the fly for <em>every</em> row in the query.  This is because the\nspatial index on traditional geometry fields cannot be used.</p>\n<p class=\"last\">For much better performance on WGS84 distance queries, consider using\n<a class=\"reference internal\" href=\"../model-api/#geography-type\"><span class=\"std std-ref\">geography columns</span></a> in your database instead because\nthey are able to use their spatial index in distance queries.\nYou can tell GeoDjango to use a geography column by setting <code class=\"docutils literal notranslate\"><span class=\"pre\">geography=True</span></code>\nin your field definition.</p>\n</div>\n<p>For example, let\u2019s say we have a <code class=\"docutils literal notranslate\"><span class=\"pre\">SouthTexasCity</span></code> model (from the\n<a class=\"reference external\" href=\"https://github.com/django/django/blob/main/tests/gis_tests/distapp/models.py\">GeoDjango distance tests</a> ) on a\n<em>projected</em> coordinate system valid for cities in southern Texas:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">SouthTexasCity</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n    <span class=\"c1\"># A projected coordinate system (only valid for South Texas!)</span>\n    <span class=\"c1\"># is used, units are in meters.</span>\n    <span class=\"n\">point</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">PointField</span><span class=\"p\">(</span><span class=\"n\">srid</span><span class=\"o\">=</span><span class=\"mi\">32140</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Then distance queries may be performed as follows:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.geos</span> <span class=\"kn\">import</span> <span class=\"n\">GEOSGeometry</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.gis.measure</span> <span class=\"kn\">import</span> <span class=\"n\">D</span>  <span class=\"c1\"># ``D`` is a shortcut for ``Distance``</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">geoapp.models</span> <span class=\"kn\">import</span> <span class=\"n\">SouthTexasCity</span>\n<span class=\"go\"># Distances will be calculated from this point, which does not have to be projected.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">pnt</span> <span class=\"o\">=</span> <span class=\"n\">GEOSGeometry</span><span class=\"p\">(</span><span class=\"s2\">&quot;POINT(-96.876369 29.905320)&quot;</span><span class=\"p\">,</span> <span class=\"n\">srid</span><span class=\"o\">=</span><span class=\"mi\">4326</span><span class=\"p\">)</span>\n<span class=\"go\"># If numeric parameter, units of field (meters in this case) are assumed.</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">SouthTexasCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">point__distance_lte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">pnt</span><span class=\"p\">,</span> <span class=\"mi\">7000</span><span class=\"p\">))</span>\n<span class=\"go\"># Find all Cities within 7 km, &gt; 20 miles away, and &gt; 100 chains away (an obscure unit)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">SouthTexasCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">point__distance_lte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">pnt</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">km</span><span class=\"o\">=</span><span class=\"mi\">7</span><span class=\"p\">)))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">SouthTexasCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">point__distance_gte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">pnt</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">mi</span><span class=\"o\">=</span><span class=\"mi\">20</span><span class=\"p\">)))</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">SouthTexasCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">point__distance_gte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">pnt</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">chain</span><span class=\"o\">=</span><span class=\"mi\">100</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<p>Raster queries work the same way by replacing the geometry field <code class=\"docutils literal notranslate\"><span class=\"pre\">point</span></code> with\na raster field, or the <code class=\"docutils literal notranslate\"><span class=\"pre\">pnt</span></code> object with a raster object, or both. To specify\nthe band index of a raster input on the right hand side, a 3-tuple can be\npassed to the lookup as follows:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">qs</span> <span class=\"o\">=</span> <span class=\"n\">SouthTexasCity</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">point__distance_gte</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"n\">rst</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">D</span><span class=\"p\">(</span><span class=\"n\">km</span><span class=\"o\">=</span><span class=\"mi\">7</span><span class=\"p\">)))</span>\n</pre></div>\n</div>\n<p>Where the band with index 2 (the third band) of the raster <code class=\"docutils literal notranslate\"><span class=\"pre\">rst</span></code> would be\nused for the lookup.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-compatibility-tables\">\n<span id=\"s-compatibility-table\"></span><span id=\"compatibility-tables\"></span><span id=\"compatibility-table\"></span><h2>Compatibility Tables<a class=\"headerlink\" href=\"#compatibility-tables\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-spatial-lookup-compatibility\">\n<span id=\"s-id7\"></span><span id=\"spatial-lookup-compatibility\"></span><span id=\"id7\"></span><h3>Spatial Lookups<a class=\"headerlink\" href=\"#spatial-lookup-compatibility\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following table provides a summary of what spatial lookups are available\nfor each spatial database backend. The PostGIS Raster (PGRaster) lookups are\ndivided into the three categories described in the <a class=\"reference internal\" href=\"#spatial-lookup-raster\"><span class=\"std std-ref\">raster lookup details</span></a>: native support <code class=\"docutils literal notranslate\"><span class=\"pre\">N</span></code>, bilateral native support <code class=\"docutils literal notranslate\"><span class=\"pre\">B</span></code>,\nand geometry conversion support <code class=\"docutils literal notranslate\"><span class=\"pre\">C</span></code>.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"37%\" />\n<col width=\"10%\" />\n<col width=\"9%\" />\n<col width=\"10%\" />\n<col width=\"13%\" />\n<col width=\"11%\" />\n<col width=\"9%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Lookup Type</th>\n<th class=\"head\">PostGIS</th>\n<th class=\"head\">Oracle</th>\n<th class=\"head\">MariaDB</th>\n<th class=\"head\">MySQL <a class=\"footnote-reference\" href=\"#id9\" id=\"id8\">[4]</a></th>\n<th class=\"head\">SpatiaLite</th>\n<th class=\"head\">PGRaster</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-bbcontains\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">bbcontains</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-bboverlaps\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">bboverlaps</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-contained\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">contained</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-gis-contains\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">contains</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-contains_properly\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">contains_properly</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-coveredby\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">coveredby</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-covers\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">covers</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-crosses\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">crosses</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>C</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-disjoint\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">disjoint</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_gt\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_gt</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_gte\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_gte</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_lt\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_lt</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-distance_lte\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">distance_lte</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>N</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-dwithin\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">dwithin</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-equals\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">equals</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>C</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-same_as\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">exact</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-intersects\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">intersects</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-isempty\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">isempty</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-isvalid\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">isvalid</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-overlaps\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">overlaps</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-relate\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">relate</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>C</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-same_as\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">same_as</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-touches\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">touches</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-within\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">within</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-left\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">left</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-right\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">right</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-overlaps_left\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">overlaps_left</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>B</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-overlaps_right\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">overlaps_right</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>B</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-overlaps_above\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">overlaps_above</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-overlaps_below\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">overlaps_below</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-strictly_above\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">strictly_above</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#std-fieldlookup-strictly_below\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">strictly_below</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>C</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-database-functions\">\n<span id=\"s-database-functions-compatibility\"></span><span id=\"database-functions\"></span><span id=\"database-functions-compatibility\"></span><h3>Database functions<a class=\"headerlink\" href=\"#database-functions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following table provides a summary of what geography-specific database\nfunctions are available on each spatial backend.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"37%\" />\n<col width=\"7%\" />\n<col width=\"14%\" />\n<col width=\"12%\" />\n<col width=\"11%\" />\n<col width=\"18%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Function</th>\n<th class=\"head\">PostGIS</th>\n<th class=\"head\">Oracle</th>\n<th class=\"head\">MariaDB</th>\n<th class=\"head\">MySQL</th>\n<th class=\"head\">SpatiaLite</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Area\" title=\"django.contrib.gis.db.models.functions.Area\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Area</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsGeoJSON\" title=\"django.contrib.gis.db.models.functions.AsGeoJSON\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsGeoJSON</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsGML\" title=\"django.contrib.gis.db.models.functions.AsGML\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsGML</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsKML\" title=\"django.contrib.gis.db.models.functions.AsKML\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsKML</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsSVG\" title=\"django.contrib.gis.db.models.functions.AsSVG\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsSVG</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsWKB\" title=\"django.contrib.gis.db.models.functions.AsWKB\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsWKB</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.AsWKT\" title=\"django.contrib.gis.db.models.functions.AsWKT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsWKT</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Azimuth\" title=\"django.contrib.gis.db.models.functions.Azimuth\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Azimuth</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X (LWGEOM/RTTOPO)</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.BoundingCircle\" title=\"django.contrib.gis.db.models.functions.BoundingCircle\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BoundingCircle</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Centroid\" title=\"django.contrib.gis.db.models.functions.Centroid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Centroid</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.ClosestPoint\" title=\"django.contrib.gis.db.models.functions.ClosestPoint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClosestPoint</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Difference\" title=\"django.contrib.gis.db.models.functions.Difference\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Difference</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Distance\" title=\"django.contrib.gis.db.models.functions.Distance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Distance</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Envelope\" title=\"django.contrib.gis.db.models.functions.Envelope\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Envelope</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.ForcePolygonCW\" title=\"django.contrib.gis.db.models.functions.ForcePolygonCW\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ForcePolygonCW</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.FromWKB\" title=\"django.contrib.gis.db.models.functions.FromWKB\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKB</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.FromWKT\" title=\"django.contrib.gis.db.models.functions.FromWKT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKT</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.GeoHash\" title=\"django.contrib.gis.db.models.functions.GeoHash\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GeoHash</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X (LWGEOM/RTTOPO)</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Intersection\" title=\"django.contrib.gis.db.models.functions.Intersection\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Intersection</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.IsEmpty\" title=\"django.contrib.gis.db.models.functions.IsEmpty\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IsEmpty</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.IsValid\" title=\"django.contrib.gis.db.models.functions.IsValid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IsValid</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Length\" title=\"django.contrib.gis.db.models.functions.Length\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Length</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.LineLocatePoint\" title=\"django.contrib.gis.db.models.functions.LineLocatePoint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">LineLocatePoint</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.MakeValid\" title=\"django.contrib.gis.db.models.functions.MakeValid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MakeValid</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X (LWGEOM/RTTOPO)</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.MemSize\" title=\"django.contrib.gis.db.models.functions.MemSize\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MemSize</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.NumGeometries\" title=\"django.contrib.gis.db.models.functions.NumGeometries\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NumGeometries</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.NumPoints\" title=\"django.contrib.gis.db.models.functions.NumPoints\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NumPoints</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Perimeter\" title=\"django.contrib.gis.db.models.functions.Perimeter\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Perimeter</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.PointOnSurface\" title=\"django.contrib.gis.db.models.functions.PointOnSurface\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">PointOnSurface</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Reverse\" title=\"django.contrib.gis.db.models.functions.Reverse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Reverse</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Scale\" title=\"django.contrib.gis.db.models.functions.Scale\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Scale</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.SnapToGrid\" title=\"django.contrib.gis.db.models.functions.SnapToGrid\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SnapToGrid</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.SymDifference\" title=\"django.contrib.gis.db.models.functions.SymDifference\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SymDifference</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Transform\" title=\"django.contrib.gis.db.models.functions.Transform\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Transform</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Translate\" title=\"django.contrib.gis.db.models.functions.Translate\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Translate</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../functions/#django.contrib.gis.db.models.functions.Union\" title=\"django.contrib.gis.db.models.functions.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"section\" id=\"s-aggregate-functions\">\n<span id=\"aggregate-functions\"></span><h3>Aggregate Functions<a class=\"headerlink\" href=\"#aggregate-functions\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following table provides a summary of what GIS-specific aggregate functions\nare available on each spatial backend. Please note that MySQL does not\nsupport any of these aggregates, and is thus excluded from the table.</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"50%\" />\n<col width=\"15%\" />\n<col width=\"13%\" />\n<col width=\"22%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Aggregate</th>\n<th class=\"head\">PostGIS</th>\n<th class=\"head\">Oracle</th>\n<th class=\"head\">SpatiaLite</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#django.contrib.gis.db.models.Collect\" title=\"django.contrib.gis.db.models.Collect\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Collect</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#django.contrib.gis.db.models.Extent\" title=\"django.contrib.gis.db.models.Extent\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Extent</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#django.contrib.gis.db.models.Extent3D\" title=\"django.contrib.gis.db.models.Extent3D\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Extent3D</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>&#160;</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../geoquerysets/#django.contrib.gis.db.models.MakeLine\" title=\"django.contrib.gis.db.models.MakeLine\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MakeLine</span></code></a></td>\n<td>X</td>\n<td>&#160;</td>\n<td>X</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../geoquerysets/#django.contrib.gis.db.models.Union\" title=\"django.contrib.gis.db.models.Union\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Union</span></code></a></td>\n<td>X</td>\n<td>X</td>\n<td>X</td>\n</tr>\n</tbody>\n</table>\n<p class=\"rubric\">Footnotes</p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fnwkt\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id3\">[1]</a></td><td><em>See</em> Open Geospatial Consortium, Inc., <a class=\"reference external\" href=\"https://portal.ogc.org/files/?artifact_id=829\">OpenGIS Simple Feature Specification For SQL</a>, Document 99-049 (May 5, 1999), at  Ch. 3.2.5, p. 3-11 (SQL Textual Representation of Geometry).</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fnewkb\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id4\">[2]</a></td><td><em>See</em> <a class=\"reference external\" href=\"https://postgis.net/docs/using_postgis_dbmanagement.html#EWKB_EWKT\">PostGIS EWKB, EWKT and Canonical Forms</a>, PostGIS documentation at Ch. 4.1.2.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"fndistsphere15\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id6\">[3]</a></td><td><em>See</em> <a class=\"reference external\" href=\"https://postgis.net/docs/ST_DistanceSphere.html\">PostGIS documentation</a> on <code class=\"docutils literal notranslate\"><span class=\"pre\">ST_DistanceSphere</span></code>.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id9\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id8\">[4]</a></td><td>Refer <a class=\"reference internal\" href=\"#mysql-spatial-limitations\"><span class=\"std std-ref\">MySQL Spatial Limitations</span></a> section for more details.</td></tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/forms-api", "GeoDjango Forms API", "N", "next"], ["ref/contrib/gis/model-api", "GeoDjango Model API", "P", "previous"]], "sourcename": "ref/contrib/gis/db-api.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">GeoDjango Database API</a><ul>\n<li><a class=\"reference internal\" href=\"#module-django.contrib.gis.db.backends\">Spatial Backends</a><ul>\n<li><a class=\"reference internal\" href=\"#mysql-spatial-limitations\">MySQL Spatial Limitations</a></li>\n<li><a class=\"reference internal\" href=\"#raster-support\">Raster Support</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#creating-and-saving-models-with-geometry-fields\">Creating and Saving Models with Geometry Fields</a></li>\n<li><a class=\"reference internal\" href=\"#creating-and-saving-models-with-raster-fields\">Creating and Saving Models with Raster Fields</a></li>\n<li><a class=\"reference internal\" href=\"#spatial-lookups\">Spatial Lookups</a><ul>\n<li><a class=\"reference internal\" href=\"#geometry-lookups\">Geometry Lookups</a></li>\n<li><a class=\"reference internal\" href=\"#raster-lookups\">Raster Lookups</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#distance-queries\">Distance Queries</a><ul>\n<li><a class=\"reference internal\" href=\"#introduction\">Introduction</a></li>\n<li><a class=\"reference internal\" href=\"#distance-lookups\">Distance Lookups</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#compatibility-tables\">Compatibility Tables</a><ul>\n<li><a class=\"reference internal\" href=\"#spatial-lookup-compatibility\">Spatial Lookups</a></li>\n<li><a class=\"reference internal\" href=\"#database-functions\">Database functions</a></li>\n<li><a class=\"reference internal\" href=\"#aggregate-functions\">Aggregate Functions</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/db-api", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
