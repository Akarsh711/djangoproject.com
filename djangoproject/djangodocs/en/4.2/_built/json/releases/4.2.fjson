{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../4.2.1/", "title": "Django 4.2.1 release notes"}, "next": {"link": "../4.1.9/", "title": "Django 4.1.9 release notes"}, "title": "Django 4.2 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-4-2-release-notes\">\n<span id=\"django-4-2-release-notes\"></span><h1>Django 4.2 release notes<a class=\"headerlink\" href=\"#django-4-2-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>April 3, 2023</em></p>\n<p>Welcome to Django 4.2!</p>\n<p>These release notes cover the <a class=\"reference internal\" href=\"#whats-new-4-2\"><span class=\"std std-ref\">new features</span></a>, as well as\nsome <a class=\"reference internal\" href=\"#backwards-incompatible-4-2\"><span class=\"std std-ref\">backwards incompatible changes</span></a> you\u2019ll\nwant to be aware of when upgrading from Django 4.1 or earlier. We\u2019ve\n<a class=\"reference internal\" href=\"#deprecated-features-4-2\"><span class=\"std std-ref\">begun the deprecation process for some features</span></a>.</p>\n<p>See the <a class=\"reference internal\" href=\"../../howto/upgrade-version/\"><span class=\"doc\">How to upgrade Django to a newer version</span></a> guide if you\u2019re updating an existing\nproject.</p>\n<p>Django 4.2 is designated as a <a class=\"reference internal\" href=\"../../internals/release-process/#term-Long-term-support-release\"><span class=\"xref std std-term\">long-term support release</span></a>. It will receive security updates for at least\nthree years after its release. Support for the previous LTS, Django 3.2, will\nend in April 2024.</p>\n<div class=\"section\" id=\"s-python-compatibility\">\n<span id=\"python-compatibility\"></span><h2>Python compatibility<a class=\"headerlink\" href=\"#python-compatibility\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Django 4.2 supports Python 3.8, 3.9, 3.10, and 3.11. We <strong>highly recommend</strong>\nand only officially support the latest release of each series.</p>\n</div>\n<div class=\"section\" id=\"s-what-s-new-in-django-4-2\">\n<span id=\"s-whats-new-4-2\"></span><span id=\"what-s-new-in-django-4-2\"></span><span id=\"whats-new-4-2\"></span><h2>What\u2019s new in Django 4.2<a class=\"headerlink\" href=\"#what-s-new-in-django-4-2\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-psycopg-3-support\">\n<span id=\"psycopg-3-support\"></span><h3>Psycopg 3 support<a class=\"headerlink\" href=\"#psycopg-3-support\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Django now supports <a class=\"reference external\" href=\"https://www.psycopg.org/psycopg3/\">psycopg</a> version 3.1.8 or higher. To update your code,\ninstall the <a class=\"reference external\" href=\"https://pypi.org/project/psycopg/\">psycopg library</a>, you don\u2019t need to change the\n<a class=\"reference internal\" href=\"../../ref/settings/#std-setting-DATABASE-ENGINE\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">ENGINE</span></code></a> as <code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.backends.postgresql</span></code>\nsupports both libraries.</p>\n<p>Support for <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg2</span></code> is likely to be deprecated and removed at some point\nin the future.</p>\n<p>Be aware that <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg</span></code> 3 introduces some breaking changes over <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg2</span></code>.\nAs a consequence, you may need to make some changes to account for\n<a class=\"reference external\" href=\"https://www.psycopg.org/psycopg3/docs/basic/from_pg2.html\">differences from psycopg2</a>.</p>\n</div>\n<div class=\"section\" id=\"s-comments-on-columns-and-tables\">\n<span id=\"comments-on-columns-and-tables\"></span><h3>Comments on columns and tables<a class=\"headerlink\" href=\"#comments-on-columns-and-tables\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The new <a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.Field.db_comment\" title=\"django.db.models.Field.db_comment\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Field.db_comment</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/models/options/#django.db.models.Options.db_table_comment\" title=\"django.db.models.Options.db_table_comment\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Meta.db_table_comment</span></code></a>\noptions allow creating comments on columns and tables, respectively. For\nexample:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Question</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">text</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">(</span><span class=\"n\">db_comment</span><span class=\"o\">=</span><span class=\"s2\">&quot;Poll question&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">pub_date</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span>\n        <span class=\"n\">db_comment</span><span class=\"o\">=</span><span class=\"s2\">&quot;Date and time when the question was published&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">db_table_comment</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Poll questions&quot;</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">Answer</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">question</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">ForeignKey</span><span class=\"p\">(</span>\n        <span class=\"n\">Question</span><span class=\"p\">,</span>\n        <span class=\"n\">on_delete</span><span class=\"o\">=</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CASCADE</span><span class=\"p\">,</span>\n        <span class=\"n\">db_comment</span><span class=\"o\">=</span><span class=\"s2\">&quot;Reference to a question&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n    <span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">TextField</span><span class=\"p\">(</span><span class=\"n\">db_comment</span><span class=\"o\">=</span><span class=\"s2\">&quot;Question answer&quot;</span><span class=\"p\">)</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">db_table_comment</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;Question answers&quot;</span>\n</pre></div>\n</div>\n<p>Also, the new <a class=\"reference internal\" href=\"../../ref/migration-operations/#django.db.migrations.operations.AlterModelTableComment\" title=\"django.db.migrations.operations.AlterModelTableComment\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AlterModelTableComment</span></code></a>\noperation allows changing table comments defined in the\n<a class=\"reference internal\" href=\"../../ref/models/options/#django.db.models.Options.db_table_comment\" title=\"django.db.models.Options.db_table_comment\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Meta.db_table_comment</span></code></a>.</p>\n</div>\n<div class=\"section\" id=\"s-mitigation-for-the-breach-attack\">\n<span id=\"mitigation-for-the-breach-attack\"></span><h3>Mitigation for the BREACH attack<a class=\"headerlink\" href=\"#mitigation-for-the-breach-attack\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><a class=\"reference internal\" href=\"../../ref/middleware/#django.middleware.gzip.GZipMiddleware\" title=\"django.middleware.gzip.GZipMiddleware\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GZipMiddleware</span></code></a> now includes a mitigation for\nthe BREACH attack. It will add up to 100 random bytes to gzip responses to make\nBREACH attacks harder. Read more about the mitigation technique in the <a class=\"reference external\" href=\"https://ieeexplore.ieee.org/document/9754554\">Heal\nThe Breach (HTB) paper</a>.</p>\n</div>\n<div class=\"section\" id=\"s-in-memory-file-storage\">\n<span id=\"in-memory-file-storage\"></span><h3>In-memory file storage<a class=\"headerlink\" href=\"#in-memory-file-storage\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The new <a class=\"reference internal\" href=\"../../ref/files/storage/#django.core.files.storage.InMemoryStorage\" title=\"django.core.files.storage.InMemoryStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">django.core.files.storage.InMemoryStorage</span></code></a> class provides a\nnon-persistent storage useful for speeding up tests by avoiding disk access.</p>\n</div>\n<div class=\"section\" id=\"s-custom-file-storages\">\n<span id=\"custom-file-storages\"></span><h3>Custom file storages<a class=\"headerlink\" href=\"#custom-file-storages\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The new <a class=\"reference internal\" href=\"../../ref/settings/#std-setting-STORAGES\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">STORAGES</span></code></a> setting allows configuring multiple custom file\nstorage backends. It also controls storage engines for managing\n<a class=\"reference internal\" href=\"../../topics/files/\"><span class=\"doc\">files</span></a> (the <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;default&quot;</span></code> key) and <a class=\"reference internal\" href=\"../../ref/contrib/staticfiles/\"><span class=\"doc\">static files</span></a> (the <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;staticfiles&quot;</span></code> key).</p>\n<p>The old <code class=\"docutils literal notranslate\"><span class=\"pre\">DEFAULT_FILE_STORAGE</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">STATICFILES_STORAGE</span></code> settings are\ndeprecated as of this release.</p>\n</div>\n<div class=\"section\" id=\"s-minor-features\">\n<span id=\"minor-features\"></span><h3>Minor features<a class=\"headerlink\" href=\"#minor-features\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"section\" id=\"s-django-contrib-admin\">\n<span id=\"django-contrib-admin\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/admin/#module-django.contrib.admin\" title=\"django.contrib.admin: Django's admin site.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admin</span></code></a><a class=\"headerlink\" href=\"#django-contrib-admin\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The light or dark color theme of the admin can now be toggled in the UI, as\nwell as being set to follow the system setting.</li>\n<li>The admin\u2019s font stack now prefers system UI fonts and no longer requires\ndownloading fonts. Additionally, CSS variables are available to more easily\noverride the default font families.</li>\n<li>The <a class=\"reference external\" href=\"https://github.com/django/django/blob/main/django/contrib/admin/templates/admin/delete_confirmation.html\">admin/delete_confirmation.html</a> template now\nhas some additional blocks and scripting hooks to ease customization.</li>\n<li>The chosen options of\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.filter_horizontal\" title=\"django.contrib.admin.ModelAdmin.filter_horizontal\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">filter_horizontal</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.filter_vertical\" title=\"django.contrib.admin.ModelAdmin.filter_vertical\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">filter_vertical</span></code></a> widgets are now\nfilterable.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">admin/base.html</span></code> template now has a new block <code class=\"docutils literal notranslate\"><span class=\"pre\">nav-breadcrumbs</span></code>\nwhich contains the navigation landmark and the <code class=\"docutils literal notranslate\"><span class=\"pre\">breadcrumbs</span></code> block.</li>\n<li><a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_editable\" title=\"django.contrib.admin.ModelAdmin.list_editable\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">ModelAdmin.list_editable</span></code></a> now uses atomic transactions when making\nedits.</li>\n<li>jQuery is upgraded from version 3.6.0 to 3.6.4.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-auth\">\n<span id=\"django-contrib-auth\"></span><h4><a class=\"reference internal\" href=\"../../topics/auth/#module-django.contrib.auth\" title=\"django.contrib.auth: Django's authentication framework.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.auth</span></code></a><a class=\"headerlink\" href=\"#django-contrib-auth\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The default iteration count for the PBKDF2 password hasher is increased from\n390,000 to 600,000.</li>\n<li><a class=\"reference internal\" href=\"../../topics/auth/default/#django.contrib.auth.forms.UserCreationForm\" title=\"django.contrib.auth.forms.UserCreationForm\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserCreationForm</span></code></a> now saves many-to-many\nform fields for a custom user model.</li>\n<li>The new <a class=\"reference internal\" href=\"../../topics/auth/default/#django.contrib.auth.forms.BaseUserCreationForm\" title=\"django.contrib.auth.forms.BaseUserCreationForm\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseUserCreationForm</span></code></a> is now the\nrecommended base class for customizing the user creation form.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-gis\">\n<span id=\"django-contrib-gis\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/gis/#module-django.contrib.gis\" title=\"django.contrib.gis: Geographic Information System (GIS) extensions for Django\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a><a class=\"headerlink\" href=\"#django-contrib-gis\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The <a class=\"reference internal\" href=\"../../ref/contrib/gis/serializers/\"><span class=\"doc\">GeoJSON serializer</span></a> now outputs the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code> key for serialized features, which defaults to the primary key of\nobjects.</li>\n<li>The <a class=\"reference internal\" href=\"../../ref/contrib/gis/gdal/#django.contrib.gis.gdal.GDALRaster\" title=\"django.contrib.gis.gdal.GDALRaster\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GDALRaster</span></code></a> class now supports\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/pathlib.html#pathlib.Path\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">pathlib.Path</span></code></a>.</li>\n<li>The <a class=\"reference internal\" href=\"../../ref/contrib/gis/geoip2/#django.contrib.gis.geoip2.GeoIP2\" title=\"django.contrib.gis.geoip2.GeoIP2\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">GeoIP2</span></code></a> class now supports  <code class=\"docutils literal notranslate\"><span class=\"pre\">.mmdb</span></code>\nfiles downloaded from DB-IP.</li>\n<li>The OpenLayers template widget no longer includes inline CSS (which also\nremoves the former <code class=\"docutils literal notranslate\"><span class=\"pre\">map_css</span></code> block) to better comply with a strict Content\nSecurity Policy.</li>\n<li><a class=\"reference internal\" href=\"../../ref/contrib/gis/forms-api/#django.contrib.gis.forms.widgets.OpenLayersWidget\" title=\"django.contrib.gis.forms.widgets.OpenLayersWidget\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">OpenLayersWidget</span></code></a> is now based on\nOpenLayers 7.2.2 (previously 4.6.5).</li>\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/gis/geoquerysets/#std-fieldlookup-isempty\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">isempty</span></code></a> lookup and\n<a class=\"reference internal\" href=\"../../ref/contrib/gis/functions/#django.contrib.gis.db.models.functions.IsEmpty\" title=\"django.contrib.gis.db.models.functions.IsEmpty\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">IsEmpty()</span></code></a>\nexpression allow filtering empty geometries on PostGIS.</li>\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/gis/functions/#django.contrib.gis.db.models.functions.FromWKB\" title=\"django.contrib.gis.db.models.functions.FromWKB\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKB()</span></code></a>\nand <a class=\"reference internal\" href=\"../../ref/contrib/gis/functions/#django.contrib.gis.db.models.functions.FromWKT\" title=\"django.contrib.gis.db.models.functions.FromWKT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FromWKT()</span></code></a>\nfunctions allow creating geometries from Well-known binary (WKB) and\nWell-known text (WKT) representations.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-postgres\">\n<span id=\"django-contrib-postgres\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/postgres/#module-django.contrib.postgres\" title=\"django.contrib.postgres: PostgreSQL-specific fields and features\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres</span></code></a><a class=\"headerlink\" href=\"#django-contrib-postgres\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/postgres/lookups/#std-fieldlookup-trigram_strict_word_similar\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">trigram_strict_word_similar</span></code></a> lookup, and the\n<a class=\"reference internal\" href=\"../../ref/contrib/postgres/search/#django.contrib.postgres.search.TrigramStrictWordSimilarity\" title=\"django.contrib.postgres.search.TrigramStrictWordSimilarity\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TrigramStrictWordSimilarity()</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/contrib/postgres/search/#django.contrib.postgres.search.TrigramStrictWordDistance\" title=\"django.contrib.postgres.search.TrigramStrictWordDistance\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TrigramStrictWordDistance()</span></code></a> expressions allow\nusing trigram strict word similarity.</li>\n<li>The <a class=\"reference internal\" href=\"../../ref/contrib/postgres/fields/#std-fieldlookup-arrayfield.overlap\"><code class=\"xref std std-lookup docutils literal notranslate\"><span class=\"pre\">arrayfield.overlap</span></code></a> lookup now supports <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.values()</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">values_list()</span></code> as a right-hand side.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-sitemaps\">\n<span id=\"django-contrib-sitemaps\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/sitemaps/#module-django.contrib.sitemaps\" title=\"django.contrib.sitemaps: A framework for generating Google sitemap XML files.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sitemaps</span></code></a><a class=\"headerlink\" href=\"#django-contrib-sitemaps\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/sitemaps/#django.contrib.sitemaps.Sitemap.get_languages_for_item\" title=\"django.contrib.sitemaps.Sitemap.get_languages_for_item\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Sitemap.get_languages_for_item()</span></code></a> method allows customizing the\nlist of languages for which the item is displayed.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-staticfiles\">\n<span id=\"django-contrib-staticfiles\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/staticfiles/#module-django.contrib.staticfiles\" title=\"django.contrib.staticfiles: An app for handling static files.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.staticfiles</span></code></a><a class=\"headerlink\" href=\"#django-contrib-staticfiles\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../ref/contrib/staticfiles/#django.contrib.staticfiles.storage.ManifestStaticFilesStorage\" title=\"django.contrib.staticfiles.storage.ManifestStaticFilesStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ManifestStaticFilesStorage</span></code></a> now\nhas experimental support for replacing paths to JavaScript modules in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">import</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">export</span></code> statements with their hashed counterparts. If you\nwant to try it, subclass <code class=\"docutils literal notranslate\"><span class=\"pre\">ManifestStaticFilesStorage</span></code> and set the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">support_js_module_import_aggregation</span></code> attribute to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</li>\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/staticfiles/#django.contrib.staticfiles.storage.ManifestStaticFilesStorage.manifest_hash\" title=\"django.contrib.staticfiles.storage.ManifestStaticFilesStorage.manifest_hash\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">ManifestStaticFilesStorage.manifest_hash</span></code></a> attribute provides\na hash over all files in the manifest and changes whenever one of the files\nchanges.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-database-backends\">\n<span id=\"database-backends\"></span><h4>Database backends<a class=\"headerlink\" href=\"#database-backends\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;assume_role&quot;</span></code> option is now supported in <a class=\"reference internal\" href=\"../../ref/settings/#std-setting-OPTIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">OPTIONS</span></code></a> on\nPostgreSQL to allow specifying the <a class=\"reference internal\" href=\"../../ref/databases/#database-role\"><span class=\"std std-ref\">session role</span></a>.</li>\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;server_side_binding&quot;</span></code> option is now supported in\n<a class=\"reference internal\" href=\"../../ref/settings/#std-setting-OPTIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">OPTIONS</span></code></a> on PostgreSQL with <code class=\"docutils literal notranslate\"><span class=\"pre\">psycopg</span></code> 3.1.8+ to allow using\n<a class=\"reference internal\" href=\"../../ref/databases/#database-server-side-parameters-binding\"><span class=\"std std-ref\">server-side binding cursors</span></a>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-error-reporting\">\n<span id=\"error-reporting\"></span><h4>Error Reporting<a class=\"headerlink\" href=\"#error-reporting\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The debug page now shows <span class=\"target\" id=\"index-0\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0678/\"><strong>exception notes</strong></a> and\n<span class=\"target\" id=\"index-1\"></span><a class=\"pep reference external\" href=\"https://peps.python.org/pep-0657/\"><strong>fine-grained error locations</strong></a> on Python 3.11+.</li>\n<li>Session cookies are now treated as credentials and therefore hidden and\nreplaced with stars (<code class=\"docutils literal notranslate\"><span class=\"pre\">**********</span></code>) in error reports.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-forms\">\n<span id=\"forms\"></span><h4>Forms<a class=\"headerlink\" href=\"#forms\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../topics/forms/modelforms/#django.forms.ModelForm\" title=\"django.forms.ModelForm\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ModelForm</span></code></a> now accepts the new <code class=\"docutils literal notranslate\"><span class=\"pre\">Meta</span></code> option\n<code class=\"docutils literal notranslate\"><span class=\"pre\">formfield_callback</span></code> to customize form fields.</li>\n<li><a class=\"reference internal\" href=\"../../ref/forms/models/#django.forms.models.modelform_factory\" title=\"django.forms.models.modelform_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">modelform_factory()</span></code></a> now respects the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">formfield_callback</span></code> attribute of the <code class=\"docutils literal notranslate\"><span class=\"pre\">form</span></code>\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">Meta</span></code>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-internationalization\">\n<span id=\"internationalization\"></span><h4>Internationalization<a class=\"headerlink\" href=\"#internationalization\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>Added support and translations for the Central Kurdish (Sorani) language.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-logging\">\n<span id=\"logging\"></span><h4>Logging<a class=\"headerlink\" href=\"#logging\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The <a class=\"reference internal\" href=\"../../ref/logging/#django-db-logger\"><span class=\"std std-ref\">django.db.backends</span></a> logger now logs transaction management queries\n(<code class=\"docutils literal notranslate\"><span class=\"pre\">BEGIN</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">COMMIT</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">ROLLBACK</span></code>) at the <code class=\"docutils literal notranslate\"><span class=\"pre\">DEBUG</span></code> level.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-management-commands\">\n<span id=\"management-commands\"></span><h4>Management Commands<a class=\"headerlink\" href=\"#management-commands\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-makemessages\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">makemessages</span></code></a> command now supports locales with private sub-tags\nsuch as <code class=\"docutils literal notranslate\"><span class=\"pre\">nl_NL-x-informal</span></code>.</li>\n<li>The new <a class=\"reference internal\" href=\"../../ref/django-admin/#cmdoption-makemigrations-update\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">makemigrations</span> <span class=\"pre\">--update</span></code></a> option merges model changes into\nthe latest migration and optimizes the resulting operations.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-migrations\">\n<span id=\"migrations\"></span><h4>Migrations<a class=\"headerlink\" href=\"#migrations\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>Migrations now support serialization of <code class=\"docutils literal notranslate\"><span class=\"pre\">enum.Flag</span></code> objects.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-models\">\n<span id=\"models\"></span><h4>Models<a class=\"headerlink\" href=\"#models\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code> now extensively supports filtering against\n<a class=\"reference internal\" href=\"../../ref/models/database-functions/#window-functions\"><span class=\"std std-ref\">Window functions</span></a> with the exception of disjunctive filter lookups\nagainst window functions when performing aggregation.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.query.QuerySet.prefetch_related\" title=\"django.db.models.query.QuerySet.prefetch_related\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">prefetch_related()</span></code></a> now supports\n<a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.Prefetch\" title=\"django.db.models.Prefetch\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Prefetch</span></code></a> objects with sliced querysets.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/lookups/#lookup-registration-api\"><span class=\"std std-ref\">Registering lookups</span></a> on\n<a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.Field\" title=\"django.db.models.Field\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Field</span></code></a> instances is now supported.</li>\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">robust</span></code> argument for <a class=\"reference internal\" href=\"../../topics/db/transactions/#django.db.transaction.on_commit\" title=\"django.db.transaction.on_commit\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">on_commit()</span></code></a>\nallows performing actions that can fail after a database transaction is\nsuccessfully committed.</li>\n<li>The new <a class=\"reference internal\" href=\"../../topics/db/queries/#django.db.models.fields.json.KT\" title=\"django.db.models.fields.json.KT\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">KT()</span></code></a> expression represents\nthe text value of a key, index, or path transform of\n<a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.JSONField\" title=\"django.db.models.JSONField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">JSONField</span></code></a>.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/database-functions/#django.db.models.functions.Now\" title=\"django.db.models.functions.Now\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Now</span></code></a> now supports microsecond precision\non MySQL and millisecond precision on SQLite.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/expressions/#django.db.models.F\" title=\"django.db.models.F\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">F()</span></code></a> expressions that output <code class=\"docutils literal notranslate\"><span class=\"pre\">BooleanField</span></code>\ncan now be negated using <code class=\"docutils literal notranslate\"><span class=\"pre\">~F()</span></code> (inversion operator).</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">Model</span></code> now provides asynchronous versions of some methods that use the\ndatabase, using an <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span></code> prefix: <a class=\"reference internal\" href=\"../../ref/models/instances/#django.db.models.Model.adelete\" title=\"django.db.models.Model.adelete\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">adelete()</span></code></a>,\n<a class=\"reference internal\" href=\"../../ref/models/instances/#django.db.models.Model.arefresh_from_db\" title=\"django.db.models.Model.arefresh_from_db\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">arefresh_from_db()</span></code></a>, and <a class=\"reference internal\" href=\"../../ref/models/instances/#django.db.models.Model.asave\" title=\"django.db.models.Model.asave\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">asave()</span></code></a>.</li>\n<li>Related managers now provide asynchronous versions of methods that change a\nset of related objects, using an <code class=\"docutils literal notranslate\"><span class=\"pre\">a</span></code> prefix: <a class=\"reference internal\" href=\"../../ref/models/relations/#django.db.models.fields.related.RelatedManager.aadd\" title=\"django.db.models.fields.related.RelatedManager.aadd\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">aadd()</span></code></a>,\n<a class=\"reference internal\" href=\"../../ref/models/relations/#django.db.models.fields.related.RelatedManager.aclear\" title=\"django.db.models.fields.related.RelatedManager.aclear\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">aclear()</span></code></a>, <a class=\"reference internal\" href=\"../../ref/models/relations/#django.db.models.fields.related.RelatedManager.aremove\" title=\"django.db.models.fields.related.RelatedManager.aremove\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">aremove()</span></code></a>, and\n<a class=\"reference internal\" href=\"../../ref/models/relations/#django.db.models.fields.related.RelatedManager.aset\" title=\"django.db.models.fields.related.RelatedManager.aset\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">aset()</span></code></a>.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.CharField.max_length\" title=\"django.db.models.CharField.max_length\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">CharField.max_length</span></code></a> is no\nlonger required to be set on PostgreSQL, which supports unlimited <code class=\"docutils literal notranslate\"><span class=\"pre\">VARCHAR</span></code>\ncolumns.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-requests-and-responses\">\n<span id=\"requests-and-responses\"></span><h4>Requests and Responses<a class=\"headerlink\" href=\"#requests-and-responses\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../ref/request-response/#django.http.StreamingHttpResponse\" title=\"django.http.StreamingHttpResponse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">StreamingHttpResponse</span></code></a> now supports async iterators\nwhen Django is served via ASGI.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-tests\">\n<span id=\"tests\"></span><h4>Tests<a class=\"headerlink\" href=\"#tests\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul>\n<li><p class=\"first\">The <a class=\"reference internal\" href=\"../../ref/django-admin/#cmdoption-test-debug-sql\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">test</span> <span class=\"pre\">--debug-sql</span></code></a> option now formats SQL queries with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">sqlparse</span></code>.</p>\n</li>\n<li><p class=\"first\">The <a class=\"reference internal\" href=\"../../topics/testing/advanced/#django.test.RequestFactory\" title=\"django.test.RequestFactory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RequestFactory</span></code></a>,\n<a class=\"reference internal\" href=\"../../topics/testing/advanced/#django.test.AsyncRequestFactory\" title=\"django.test.AsyncRequestFactory\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsyncRequestFactory</span></code></a>, <a class=\"reference internal\" href=\"../../topics/testing/tools/#django.test.Client\" title=\"django.test.Client\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Client</span></code></a>, and\n<a class=\"reference internal\" href=\"../../topics/testing/tools/#django.test.AsyncClient\" title=\"django.test.AsyncClient\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AsyncClient</span></code></a> classes now support the <code class=\"docutils literal notranslate\"><span class=\"pre\">headers</span></code>\nparameter, which accepts a dictionary of header names and values. This allows\na more natural syntax for declaring headers.</p>\n<div class=\"highlight-python notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"c1\"># Before:</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;/home/&quot;</span><span class=\"p\">,</span> <span class=\"n\">HTTP_ACCEPT_LANGUAGE</span><span class=\"o\">=</span><span class=\"s2\">&quot;fr&quot;</span><span class=\"p\">)</span>\n<span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">async_client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;/home/&quot;</span><span class=\"p\">,</span> <span class=\"n\">ACCEPT_LANGUAGE</span><span class=\"o\">=</span><span class=\"s2\">&quot;fr&quot;</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># After:</span>\n<span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;/home/&quot;</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;accept-language&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;fr&quot;</span><span class=\"p\">})</span>\n<span class=\"k\">await</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">async_client</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;/home/&quot;</span><span class=\"p\">,</span> <span class=\"n\">headers</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;accept-language&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;fr&quot;</span><span class=\"p\">})</span>\n</pre></div>\n</div>\n</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-utilities\">\n<span id=\"utilities\"></span><h4>Utilities<a class=\"headerlink\" href=\"#utilities\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">encoder</span></code> parameter for <a class=\"reference internal\" href=\"../../ref/utils/#django.utils.html.json_script\" title=\"django.utils.html.json_script\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">django.utils.html.json_script()</span></code></a>\nfunction allows customizing a JSON encoder class.</li>\n<li>The private internal vendored copy of <code class=\"docutils literal notranslate\"><span class=\"pre\">urllib.parse.urlsplit()</span></code> now strips\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'\\r'</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">'\\n'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'\\t'</span></code> (see <a class=\"reference external\" href=\"https://nvd.nist.gov/vuln/detail/CVE-2022-0391\">CVE-2022-0391</a> and <a class=\"reference external\" href=\"https://bugs.python.org/issue?&#64;action=redirect&amp;bpo=43882\">bpo-43882</a>).\nThis is to protect projects that may be incorrectly using the internal\n<code class=\"docutils literal notranslate\"><span class=\"pre\">url_has_allowed_host_and_scheme()</span></code> function, instead of using one of the\ndocumented functions for handling URL redirects. The Django functions were\nnot affected.</li>\n<li>The new <a class=\"reference internal\" href=\"../../ref/utils/#django.utils.http.content_disposition_header\" title=\"django.utils.http.content_disposition_header\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">django.utils.http.content_disposition_header()</span></code></a> function returns\na <code class=\"docutils literal notranslate\"><span class=\"pre\">Content-Disposition</span></code> HTTP header value as specified by <span class=\"target\" id=\"index-2\"></span><a class=\"rfc reference external\" href=\"https://datatracker.ietf.org/doc/html/rfc6266.html\"><strong>RFC 6266</strong></a>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-validators\">\n<span id=\"validators\"></span><h4>Validators<a class=\"headerlink\" href=\"#validators\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The list of common passwords used by <code class=\"docutils literal notranslate\"><span class=\"pre\">CommonPasswordValidator</span></code> is updated\nto the most recent version.</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-backwards-incompatible-changes-in-4-2\">\n<span id=\"s-backwards-incompatible-4-2\"></span><span id=\"backwards-incompatible-changes-in-4-2\"></span><span id=\"backwards-incompatible-4-2\"></span><h2>Backwards incompatible changes in 4.2<a class=\"headerlink\" href=\"#backwards-incompatible-changes-in-4-2\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-database-backend-api\">\n<span id=\"database-backend-api\"></span><h3>Database backend API<a class=\"headerlink\" href=\"#database-backend-api\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>This section describes changes that may be needed in third-party database\nbackends.</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseFeatures.allows_group_by_pk</span></code> is removed as it only remained to\naccommodate a MySQL extension that has been supplanted by proper functional\ndependency detection in MySQL 5.7.15. Note that\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseFeatures.allows_group_by_selected_pks</span></code> is still supported and\nshould be enabled if your backend supports functional dependency detection in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">GROUP</span> <span class=\"pre\">BY</span></code> clauses as specified by the <code class=\"docutils literal notranslate\"><span class=\"pre\">SQL:1999</span></code> standard.</li>\n<li><a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-inspectdb\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">inspectdb</span></code></a> now uses <code class=\"docutils literal notranslate\"><span class=\"pre\">display_size</span></code> from\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseIntrospection.get_table_description()</span></code> rather than\n<code class=\"docutils literal notranslate\"><span class=\"pre\">internal_size</span></code> for <code class=\"docutils literal notranslate\"><span class=\"pre\">CharField</span></code>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-dropped-support-for-mariadb-10-3\">\n<span id=\"dropped-support-for-mariadb-10-3\"></span><h3>Dropped support for MariaDB 10.3<a class=\"headerlink\" href=\"#dropped-support-for-mariadb-10-3\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Upstream support for MariaDB 10.3 ends in May 2023. Django 4.2 supports MariaDB\n10.4 and higher.</p>\n</div>\n<div class=\"section\" id=\"s-dropped-support-for-mysql-5-7\">\n<span id=\"dropped-support-for-mysql-5-7\"></span><h3>Dropped support for MySQL 5.7<a class=\"headerlink\" href=\"#dropped-support-for-mysql-5-7\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Upstream support for MySQL 5.7 ends in October 2023. Django 4.2 supports MySQL\n8 and higher.</p>\n</div>\n<div class=\"section\" id=\"s-dropped-support-for-postgresql-11\">\n<span id=\"dropped-support-for-postgresql-11\"></span><h3>Dropped support for PostgreSQL 11<a class=\"headerlink\" href=\"#dropped-support-for-postgresql-11\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Upstream support for PostgreSQL 11 ends in November 2023. Django 4.2 supports\nPostgreSQL 12 and higher.</p>\n</div>\n<div class=\"section\" id=\"s-setting-update-fields-in-model-save-may-now-be-required\">\n<span id=\"setting-update-fields-in-model-save-may-now-be-required\"></span><h3>Setting <code class=\"docutils literal notranslate\"><span class=\"pre\">update_fields</span></code> in <code class=\"docutils literal notranslate\"><span class=\"pre\">Model.save()</span></code> may now be required<a class=\"headerlink\" href=\"#setting-update-fields-in-model-save-may-now-be-required\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>In order to avoid updating unnecessary columns,\n<a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.query.QuerySet.update_or_create\" title=\"django.db.models.query.QuerySet.update_or_create\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">QuerySet.update_or_create()</span></code></a> now passes <code class=\"docutils literal notranslate\"><span class=\"pre\">update_fields</span></code> to the\n<a class=\"reference internal\" href=\"../../ref/models/instances/#django.db.models.Model.save\" title=\"django.db.models.Model.save\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Model.save()</span></code></a> calls. As a consequence, any\nfields modified in the custom <code class=\"docutils literal notranslate\"><span class=\"pre\">save()</span></code> methods should be added to the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">update_fields</span></code> keyword argument before calling <code class=\"docutils literal notranslate\"><span class=\"pre\">super()</span></code>. See\n<a class=\"reference internal\" href=\"../../topics/db/models/#overriding-model-methods\"><span class=\"std std-ref\">Overriding predefined model methods</span></a> for more details.</p>\n</div>\n<div class=\"section\" id=\"s-miscellaneous\">\n<span id=\"miscellaneous\"></span><h3>Miscellaneous<a class=\"headerlink\" href=\"#miscellaneous\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">django.http.multipartparser.parse_header()</span></code> function is\nremoved. Use <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.http.parse_header_parameters()</span></code> instead.</li>\n<li><a class=\"reference internal\" href=\"../../topics/i18n/translation/#std-templatetag-blocktranslate\"><code class=\"xref std std-ttag docutils literal notranslate\"><span class=\"pre\">{%</span> <span class=\"pre\">blocktranslate</span> <span class=\"pre\">asvar</span> <span class=\"pre\">\u2026</span> <span class=\"pre\">%}</span></code></a> result is now marked as\nsafe for (HTML) output purposes.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">autofocus</span></code> HTML attribute in the admin search box is removed as it can\nbe confusing for screen readers.</li>\n<li>The <a class=\"reference internal\" href=\"../../ref/django-admin/#cmdoption-makemigrations-check\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">makemigrations</span> <span class=\"pre\">--check</span></code></a> option no longer creates missing\nmigration files.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">alias</span></code> argument for <a class=\"reference internal\" href=\"../../ref/models/expressions/#django.db.models.Expression.get_group_by_cols\" title=\"django.db.models.Expression.get_group_by_cols\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Expression.get_group_by_cols()</span></code></a> is removed.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlparse</span></code> is increased from 0.2.2 to\n0.3.1.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">negated</span></code> parameter of the\n<a class=\"reference internal\" href=\"../../ref/models/expressions/#django.db.models.Exists\" title=\"django.db.models.Exists\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Exists</span></code></a> expression is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">is_summary</span></code> argument of the undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">Query.add_annotation()</span></code>\nmethod is removed.</li>\n<li>The minimum supported version of SQLite is increased from 3.9.0 to 3.21.0.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">asgiref</span></code> is increased from 3.5.2 to\n3.6.0.</li>\n<li><a class=\"reference internal\" href=\"../../topics/auth/default/#django.contrib.auth.forms.UserCreationForm\" title=\"django.contrib.auth.forms.UserCreationForm\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UserCreationForm</span></code></a> now rejects usernames\nthat differ only in case. If you need the previous behavior, use\n<a class=\"reference internal\" href=\"../../topics/auth/default/#django.contrib.auth.forms.BaseUserCreationForm\" title=\"django.contrib.auth.forms.BaseUserCreationForm\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseUserCreationForm</span></code></a> instead.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">mysqlclient</span></code> is increased from 1.4.0 to\n1.4.3.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">argon2-cffi</span></code> is increased  from 19.1.0 to\n19.2.0.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">Pillow</span></code> is increased from 6.2.0 to 6.2.1.</li>\n<li>The minimum supported version of <code class=\"docutils literal notranslate\"><span class=\"pre\">jinja2</span></code> is increased from 2.9.2 to\n2.11.0.</li>\n<li>The minimum supported version of <a class=\"reference external\" href=\"https://pypi.org/project/redis/\">redis-py</a> is increased from\n3.0.0 to 3.4.0.</li>\n<li>Manually instantiated <code class=\"docutils literal notranslate\"><span class=\"pre\">WSGIRequest</span></code> objects must be provided a file-like\nobject for <code class=\"docutils literal notranslate\"><span class=\"pre\">wsgi.input</span></code>. Previously, Django was more lax than the expected\nbehavior as specified by the WSGI specification.</li>\n<li>Support for <code class=\"docutils literal notranslate\"><span class=\"pre\">PROJ</span></code> &lt; 5 is removed.</li>\n<li><a class=\"reference internal\" href=\"../../topics/email/#django.core.mail.backends.smtp.EmailBackend\" title=\"django.core.mail.backends.smtp.EmailBackend\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">EmailBackend</span></code></a> now verifies a\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/ssl.html#ssl.SSLContext.check_hostname\" title=\"(in Python v3.11)\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">hostname</span></code></a> and\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/ssl.html#ssl.SSLContext.verify_mode\" title=\"(in Python v3.11)\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">certificates</span></code></a>. If you need the\nprevious behavior that is less restrictive and not recommended, subclass\n<code class=\"docutils literal notranslate\"><span class=\"pre\">EmailBackend</span></code> and override the <code class=\"docutils literal notranslate\"><span class=\"pre\">ssl_context</span></code> property.</li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"s-features-deprecated-in-4-2\">\n<span id=\"s-deprecated-features-4-2\"></span><span id=\"features-deprecated-in-4-2\"></span><span id=\"deprecated-features-4-2\"></span><h2>Features deprecated in 4.2<a class=\"headerlink\" href=\"#features-deprecated-in-4-2\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-index-together-option-is-deprecated-in-favor-of-indexes\">\n<span id=\"index-together-option-is-deprecated-in-favor-of-indexes\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">index_together</span></code> option is deprecated in favor of <code class=\"docutils literal notranslate\"><span class=\"pre\">indexes</span></code><a class=\"headerlink\" href=\"#index-together-option-is-deprecated-in-favor-of-indexes\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The <a class=\"reference internal\" href=\"../../ref/models/options/#django.db.models.Options.index_together\" title=\"django.db.models.Options.index_together\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Meta.index_together</span></code></a>\noption is deprecated in favor of the <a class=\"reference internal\" href=\"../../ref/models/options/#django.db.models.Options.indexes\" title=\"django.db.models.Options.indexes\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">indexes</span></code></a>\noption.</p>\n<p>Migrating existing <code class=\"docutils literal notranslate\"><span class=\"pre\">index_together</span></code> should be handled as a migration. For\nexample:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">Author</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">rank</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">index_together</span> <span class=\"o\">=</span> <span class=\"p\">[[</span><span class=\"s2\">&quot;rank&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">]]</span>\n</pre></div>\n</div>\n<p>Should become:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">Author</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">rank</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">()</span>\n    <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">(</span><span class=\"n\">max_length</span><span class=\"o\">=</span><span class=\"mi\">30</span><span class=\"p\">)</span>\n\n    <span class=\"k\">class</span> <span class=\"nc\">Meta</span><span class=\"p\">:</span>\n        <span class=\"n\">indexes</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Index</span><span class=\"p\">(</span><span class=\"n\">fields</span><span class=\"o\">=</span><span class=\"p\">[</span><span class=\"s2\">&quot;rank&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;name&quot;</span><span class=\"p\">])]</span>\n</pre></div>\n</div>\n<p>Running the <a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-makemigrations\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">makemigrations</span></code></a> command will generate a migration\ncontaining a <a class=\"reference internal\" href=\"../../ref/migration-operations/#django.db.migrations.operations.RenameIndex\" title=\"django.db.migrations.operations.RenameIndex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RenameIndex</span></code></a> operation\nwhich will rename the existing index. Next, consider squashing migrations to\nremove <code class=\"docutils literal notranslate\"><span class=\"pre\">index_together</span></code> from historical migrations.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">AlterIndexTogether</span></code> migration operation is now officially supported only\nfor pre-Django 4.2 migration files. For backward compatibility reasons, it\u2019s\nstill part of the public API, and there\u2019s no plan to deprecate or remove it,\nbut it should not be used for new migrations. Use\n<a class=\"reference internal\" href=\"../../ref/migration-operations/#django.db.migrations.operations.AddIndex\" title=\"django.db.migrations.operations.AddIndex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">AddIndex</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/migration-operations/#django.db.migrations.operations.RemoveIndex\" title=\"django.db.migrations.operations.RemoveIndex\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">RemoveIndex</span></code></a> operations instead.</p>\n</div>\n<div class=\"section\" id=\"s-passing-encoded-json-string-literals-to-jsonfield-is-deprecated\">\n<span id=\"passing-encoded-json-string-literals-to-jsonfield-is-deprecated\"></span><h3>Passing encoded JSON string literals to <code class=\"docutils literal notranslate\"><span class=\"pre\">JSONField</span></code> is deprecated<a class=\"headerlink\" href=\"#passing-encoded-json-string-literals-to-jsonfield-is-deprecated\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">JSONField</span></code> and its associated lookups and aggregates used to allow passing\nJSON encoded string literals which caused ambiguity on whether string literals\nwere already encoded from database backend\u2019s perspective.</p>\n<p>During the deprecation period string literals will be attempted to be JSON\ndecoded and a warning will be emitted on success that points at passing\nnon-encoded forms instead.</p>\n<p>Code that use to pass JSON encoded string literals:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Document</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">bulk_create</span><span class=\"p\">(</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s2\">&quot;null&quot;</span><span class=\"p\">)),</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s2\">&quot;[]&quot;</span><span class=\"p\">)),</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s1\">&#39;&quot;foo-bar&quot;&#39;</span><span class=\"p\">)),</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Document</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span>\n    <span class=\"n\">JSONBAgg</span><span class=\"p\">(</span><span class=\"s2\">&quot;field&quot;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"s2\">&quot;[]&quot;</span><span class=\"p\">)),</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Should become:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">Document</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">bulk_create</span><span class=\"p\">(</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"n\">Value</span><span class=\"p\">(</span><span class=\"kc\">None</span><span class=\"p\">,</span> <span class=\"n\">JSONField</span><span class=\"p\">())),</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"p\">[]),</span>\n    <span class=\"n\">Document</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"o\">=</span><span class=\"s2\">&quot;foo-bar&quot;</span><span class=\"p\">),</span>\n<span class=\"p\">)</span>\n<span class=\"n\">Document</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">annotate</span><span class=\"p\">(</span>\n    <span class=\"n\">JSONBAgg</span><span class=\"p\">(</span><span class=\"s2\">&quot;field&quot;</span><span class=\"p\">,</span> <span class=\"n\">default</span><span class=\"o\">=</span><span class=\"p\">[]),</span>\n<span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>From Django 5.1+ string literals will be implicitly interpreted as JSON string\nliterals.</p>\n</div>\n<div class=\"section\" id=\"s-id1\">\n<span id=\"id1\"></span><h3>Miscellaneous<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">BaseUserManager.make_random_password()</span></code> method is deprecated. See\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/secrets.html#recipes-and-best-practices\">recipes and best practices</a>\nfor using Python\u2019s <a class=\"reference external\" href=\"https://docs.python.org/3/library/secrets.html#module-secrets\" title=\"(in Python v3.11)\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">secrets</span></code></a> module to generate passwords.</p>\n</li>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">length_is</span></code> template filter is deprecated in favor of <a class=\"reference internal\" href=\"../../ref/templates/builtins/#std-templatefilter-length\"><code class=\"xref std std-tfilter docutils literal notranslate\"><span class=\"pre\">length</span></code></a>\nand the <code class=\"docutils literal notranslate\"><span class=\"pre\">==</span></code> operator within an <a class=\"reference internal\" href=\"../../ref/templates/builtins/#std-templatetag-if\"><code class=\"xref std std-ttag docutils literal notranslate\"><span class=\"pre\">{%</span> <span class=\"pre\">if</span> <span class=\"pre\">%}</span></code></a> tag. For example</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">value</span><span class=\"o\">|</span><span class=\"nf\">length</span> <span class=\"o\">==</span> <span class=\"m\">4</span> <span class=\"cp\">%}</span>\u2026<span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n<span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">value</span><span class=\"o\">|</span><span class=\"nf\">length</span> <span class=\"o\">==</span> <span class=\"m\">4</span> <span class=\"cp\">%}</span>True<span class=\"cp\">{%</span> <span class=\"k\">else</span> <span class=\"cp\">%}</span>False<span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n</pre></div>\n</div>\n<p>instead of:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">value</span><span class=\"o\">|</span><span class=\"nf\">length_is</span><span class=\"o\">:</span><span class=\"m\">4</span> <span class=\"cp\">%}</span>\u2026<span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n<span class=\"cp\">{{</span> <span class=\"nv\">value</span><span class=\"o\">|</span><span class=\"nf\">length_is</span><span class=\"o\">:</span><span class=\"m\">4</span> <span class=\"cp\">}}</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.hashers.SHA1PasswordHasher</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.hashers.UnsaltedSHA1PasswordHasher</span></code>, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.hashers.UnsaltedMD5PasswordHasher</span></code> are deprecated.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.fields.CICharField</span></code> is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">CharField(db_collation=&quot;\u2026&quot;)</span></code> with a case-insensitive non-deterministic\ncollation.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.fields.CIEmailField</span></code> is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">EmailField(db_collation=&quot;\u2026&quot;)</span></code> with a case-insensitive non-deterministic\ncollation.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.fields.CITextField</span></code> is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">TextField(db_collation=&quot;\u2026&quot;)</span></code> with a case-insensitive non-deterministic\ncollation.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.fields.CIText</span></code> mixin is deprecated.</p>\n</li>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">map_height</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">map_width</span></code> attributes of <code class=\"docutils literal notranslate\"><span class=\"pre\">BaseGeometryWidget</span></code> are\ndeprecated, use CSS to size map widgets instead.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">SimpleTestCase.assertFormsetError()</span></code> is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">assertFormSetError()</span></code>.</p>\n</li>\n<li><p class=\"first\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TransactionTestCase.assertQuerysetEqual()</span></code> is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">assertQuerySetEqual()</span></code>.</p>\n</li>\n<li><p class=\"first\">Passing positional arguments to <code class=\"docutils literal notranslate\"><span class=\"pre\">Signer</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">TimestampSigner</span></code> is\ndeprecated in favor of keyword-only arguments.</p>\n</li>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">DEFAULT_FILE_STORAGE</span></code> setting is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">STORAGES[&quot;default&quot;]</span></code>.</p>\n</li>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">STATICFILES_STORAGE</span></code> setting is deprecated in favor of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">STORAGES[&quot;staticfiles&quot;]</span></code>.</p>\n</li>\n<li><p class=\"first\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.core.files.storage.get_storage_class()</span></code> function is deprecated.</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/4.1.9", "Django 4.1.9 release notes", "N", "next"], ["releases/4.2.1", "Django 4.2.1 release notes", "P", "previous"]], "sourcename": "releases/4.2.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 4.2 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#python-compatibility\">Python compatibility</a></li>\n<li><a class=\"reference internal\" href=\"#what-s-new-in-django-4-2\">What\u2019s new in Django 4.2</a><ul>\n<li><a class=\"reference internal\" href=\"#psycopg-3-support\">Psycopg 3 support</a></li>\n<li><a class=\"reference internal\" href=\"#comments-on-columns-and-tables\">Comments on columns and tables</a></li>\n<li><a class=\"reference internal\" href=\"#mitigation-for-the-breach-attack\">Mitigation for the BREACH attack</a></li>\n<li><a class=\"reference internal\" href=\"#in-memory-file-storage\">In-memory file storage</a></li>\n<li><a class=\"reference internal\" href=\"#custom-file-storages\">Custom file storages</a></li>\n<li><a class=\"reference internal\" href=\"#minor-features\">Minor features</a><ul>\n<li><a class=\"reference internal\" href=\"#django-contrib-admin\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admin</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-auth\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.auth</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-gis\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-postgres\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-sitemaps\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sitemaps</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-staticfiles\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.staticfiles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#database-backends\">Database backends</a></li>\n<li><a class=\"reference internal\" href=\"#error-reporting\">Error Reporting</a></li>\n<li><a class=\"reference internal\" href=\"#forms\">Forms</a></li>\n<li><a class=\"reference internal\" href=\"#internationalization\">Internationalization</a></li>\n<li><a class=\"reference internal\" href=\"#logging\">Logging</a></li>\n<li><a class=\"reference internal\" href=\"#management-commands\">Management Commands</a></li>\n<li><a class=\"reference internal\" href=\"#migrations\">Migrations</a></li>\n<li><a class=\"reference internal\" href=\"#models\">Models</a></li>\n<li><a class=\"reference internal\" href=\"#requests-and-responses\">Requests and Responses</a></li>\n<li><a class=\"reference internal\" href=\"#tests\">Tests</a></li>\n<li><a class=\"reference internal\" href=\"#utilities\">Utilities</a></li>\n<li><a class=\"reference internal\" href=\"#validators\">Validators</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#backwards-incompatible-changes-in-4-2\">Backwards incompatible changes in 4.2</a><ul>\n<li><a class=\"reference internal\" href=\"#database-backend-api\">Database backend API</a></li>\n<li><a class=\"reference internal\" href=\"#dropped-support-for-mariadb-10-3\">Dropped support for MariaDB 10.3</a></li>\n<li><a class=\"reference internal\" href=\"#dropped-support-for-mysql-5-7\">Dropped support for MySQL 5.7</a></li>\n<li><a class=\"reference internal\" href=\"#dropped-support-for-postgresql-11\">Dropped support for PostgreSQL 11</a></li>\n<li><a class=\"reference internal\" href=\"#setting-update-fields-in-model-save-may-now-be-required\">Setting <code class=\"docutils literal notranslate\"><span class=\"pre\">update_fields</span></code> in <code class=\"docutils literal notranslate\"><span class=\"pre\">Model.save()</span></code> may now be required</a></li>\n<li><a class=\"reference internal\" href=\"#miscellaneous\">Miscellaneous</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#features-deprecated-in-4-2\">Features deprecated in 4.2</a><ul>\n<li><a class=\"reference internal\" href=\"#index-together-option-is-deprecated-in-favor-of-indexes\"><code class=\"docutils literal notranslate\"><span class=\"pre\">index_together</span></code> option is deprecated in favor of <code class=\"docutils literal notranslate\"><span class=\"pre\">indexes</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#passing-encoded-json-string-literals-to-jsonfield-is-deprecated\">Passing encoded JSON string literals to <code class=\"docutils literal notranslate\"><span class=\"pre\">JSONField</span></code> is deprecated</a></li>\n<li><a class=\"reference internal\" href=\"#id1\">Miscellaneous</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/4.2", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
