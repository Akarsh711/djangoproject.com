{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../1.3.6/", "title": "Django 1.3.6 release notes"}, "next": {"link": "../1.3.4/", "title": "Django 1.3.4 release notes"}, "title": "Django 1.3.5 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-1-3-5-release-notes\">\n<span id=\"django-1-3-5-release-notes\"></span><h1>Django 1.3.5 release notes<a class=\"headerlink\" href=\"#django-1-3-5-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>December 10, 2012</em></p>\n<p>Django 1.3.5 addresses two security issues present in previous Django releases\nin the 1.3 series.</p>\n<p>Please be aware that this security release is slightly different from previous\nones. Both issues addressed here have been dealt with in prior security updates\nto Django. In one case, we have received ongoing reports of problems, and in\nthe other we\u2019ve chosen to take further steps to tighten up Django\u2019s code in\nresponse to independent discovery of potential problems from multiple sources.</p>\n<div class=\"section\" id=\"s-host-header-poisoning\">\n<span id=\"host-header-poisoning\"></span><h2>Host header poisoning<a class=\"headerlink\" href=\"#host-header-poisoning\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Several earlier Django security releases focused on the issue of poisoning the\nHTTP Host header, causing Django to generate URLs pointing to arbitrary,\npotentially-malicious domains.</p>\n<p>In response to further input received and reports of continuing issues\nfollowing the previous release, we\u2019re taking additional steps to tighten Host\nheader validation. Rather than attempt to accommodate all features HTTP\nsupports here, Django\u2019s Host header validation attempts to support a smaller,\nbut far more common, subset:</p>\n<ul class=\"simple\">\n<li>Hostnames must consist of characters <code class=\"docutils literal notranslate\"><span class=\"pre\">[A-Za-z0-9]</span></code> plus hyphen (\u2018-\u2019) or dot\n(\u2018.\u2019).</li>\n<li>IP addresses \u2013 both IPv4 and IPv6 \u2013 are permitted.</li>\n<li>Port, if specified, is numeric.</li>\n</ul>\n<p>Any deviation from this will now be rejected, raising the exception\n<a class=\"reference internal\" href=\"../../ref/exceptions/#django.core.exceptions.SuspiciousOperation\" title=\"django.core.exceptions.SuspiciousOperation\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">django.core.exceptions.SuspiciousOperation</span></code></a>.</p>\n</div>\n<div class=\"section\" id=\"s-redirect-poisoning\">\n<span id=\"redirect-poisoning\"></span><h2>Redirect poisoning<a class=\"headerlink\" href=\"#redirect-poisoning\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Also following up on a previous issue: in July of this year, we made changes to\nDjango\u2019s HTTP redirect classes, performing additional validation of the scheme\nof the URL to redirect to (since, both within Django\u2019s own supplied\napplications and many third-party applications, accepting a user-supplied\nredirect target is a common pattern).</p>\n<p>Since then, two independent audits of the code turned up further potential\nproblems. So, similar to the Host-header issue, we are taking steps to provide\ntighter validation in response to reported problems (primarily with third-party\napplications, but to a certain extent also within Django itself). This comes in\ntwo parts:</p>\n<p>1. A new utility function, <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.http.is_safe_url</span></code>, is added; this\nfunction takes a URL and a hostname, and checks that the URL is either\nrelative, or if absolute matches the supplied hostname. This function is\nintended for use whenever user-supplied redirect targets are accepted, to\nensure that such redirects cannot lead to arbitrary third-party sites.</p>\n<p>2. All of Django\u2019s own built-in views \u2013 primarily in the authentication system\n\u2013 which allow user-supplied redirect targets now use <code class=\"docutils literal notranslate\"><span class=\"pre\">is_safe_url</span></code> to\nvalidate the supplied URL.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/1.3.4", "Django 1.3.4 release notes", "N", "next"], ["releases/1.3.6", "Django 1.3.6 release notes", "P", "previous"]], "sourcename": "releases/1.3.5.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 1.3.5 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#host-header-poisoning\">Host header poisoning</a></li>\n<li><a class=\"reference internal\" href=\"#redirect-poisoning\">Redirect poisoning</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/1.3.5", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
