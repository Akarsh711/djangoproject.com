{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../4.2.3/", "title": "Django 4.2.3 release notes"}, "next": {"link": "../4.2.1/", "title": "Django 4.2.1 release notes"}, "title": "Django 4.2.2 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-4-2-2-release-notes\">\n<span id=\"django-4-2-2-release-notes\"></span><h1>Django 4.2.2 release notes<a class=\"headerlink\" href=\"#django-4-2-2-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>June 5, 2023</em></p>\n<p>Django 4.2.2 fixes several bugs in 4.2.1.</p>\n<div class=\"section\" id=\"s-bugfixes\">\n<span id=\"bugfixes\"></span><h2>Bugfixes<a class=\"headerlink\" href=\"#bugfixes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li>Fixed a regression in Django 4.2 that caused an unnecessary\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DBMS_LOB.SUBSTR()</span></code> wrapping in the <code class=\"docutils literal notranslate\"><span class=\"pre\">__isnull</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">__exact=None</span></code>\nlookups for <code class=\"docutils literal notranslate\"><span class=\"pre\">TextField()</span></code>/<code class=\"docutils literal notranslate\"><span class=\"pre\">BinaryField()</span></code> on Oracle (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34544\">#34544</a>).</li>\n<li>Restored, following a regression in Django 4.2, <code class=\"docutils literal notranslate\"><span class=\"pre\">get_prep_value()</span></code> call in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">JSONField</span></code> subclasses (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34539\">#34539</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a crash of <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.defer()</span></code>\nwhen passing a <code class=\"docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">GenericForeignKey</span></code> reference. While\ndoing so is a no-op, it was allowed in older version (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34570\">#34570</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a crash of <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.only()</span></code>\nwhen passing a reverse <code class=\"docutils literal notranslate\"><span class=\"pre\">OneToOneField</span></code> reference (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34612\">#34612</a>).</li>\n<li>Fixed a bug in Django 4.2 where <a class=\"reference internal\" href=\"../../ref/django-admin/#cmdoption-makemigrations-update\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">makemigrations</span> <span class=\"pre\">--update</span></code></a> didn\u2019t\nrespect the <code class=\"docutils literal notranslate\"><span class=\"pre\">--name</span></code> option (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34568\">#34568</a>).</li>\n<li>Fixed a performance regression in Django 4.2 when compiling queries without\nordering (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34580\">#34580</a>).</li>\n<li>Fixed a regression in Django 4.2 where nonexistent stylesheet was linked on a\n\u201cCongratulations!\u201d page (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34588\">#34588</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a crash of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.aggregate()</span></code> with expressions referencing other aggregates\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34551\">#34551</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a crash of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.aggregate()</span></code> with aggregates referencing subqueries\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34551\">#34551</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a crash of querysets on SQLite\nwhen filtering on <code class=\"docutils literal notranslate\"><span class=\"pre\">DecimalField</span></code> against values outside of the defined\nrange (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34590\">#34590</a>).</li>\n<li>Fixed a regression in Django 4.2 that caused a serialization crash on a\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code> without a natural key when its <code class=\"docutils literal notranslate\"><span class=\"pre\">Manager</span></code>\u2019s base\n<code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code> used <code class=\"docutils literal notranslate\"><span class=\"pre\">select_related()</span></code> (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/34620\">#34620</a>).</li>\n</ul>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/4.2.1", "Django 4.2.1 release notes", "N", "next"], ["releases/4.2.3", "Django 4.2.3 release notes", "P", "previous"]], "sourcename": "releases/4.2.2.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 4.2.2 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#bugfixes\">Bugfixes</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/4.2.2", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}