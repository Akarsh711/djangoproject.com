{"parents": [{"link": "../../", "title": "Using Django"}, {"link": "../", "title": "Working with forms"}], "prev": {"link": "../", "title": "Working with forms"}, "next": {"link": "../modelforms/", "title": "Creating forms from models"}, "title": "Formsets", "meta": {}, "body": "<div class=\"section\" id=\"s-formsets\">\n<span id=\"formsets\"></span><h1>Formsets<a class=\"headerlink\" href=\"#formsets\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">BaseFormSet</span></code><a class=\"reference internal\" href=\"../../../_modules/django/forms/formsets/#BaseFormSet\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>A formset is a layer of abstraction to work with multiple forms on the same\npage. It can be best compared to a data grid. Let\u2019s say you have the following\nform:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django</span> <span class=\"kn\">import</span> <span class=\"n\">forms</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">ArticleForm</span><span class=\"p\">(</span><span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">Form</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">()</span>\n<span class=\"gp\">... </span>    <span class=\"n\">pub_date</span> <span class=\"o\">=</span> <span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">DateField</span><span class=\"p\">()</span>\n<span class=\"gp\">...</span>\n</pre></div>\n</div>\n<p>You might want to allow the user to create several articles at once. To create\na formset out of an <code class=\"docutils literal notranslate\"><span class=\"pre\">ArticleForm</span></code> you would do:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>You now have created a formset class named <code class=\"docutils literal notranslate\"><span class=\"pre\">ArticleFormSet</span></code>.\nInstantiating the formset gives you the ability to iterate over the forms\nin the formset and display them as you would with a regular form:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n<p>As you can see it only displayed one empty form. The number of empty forms\nthat is displayed is controlled by the <code class=\"docutils literal notranslate\"><span class=\"pre\">extra</span></code> parameter. By default,\n<a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a> defines one extra form; the\nfollowing example will create a formset class to display two blank forms:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">extra</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Iterating over a formset will render the forms in the order they were\ncreated. You can change this order by providing an alternate implementation for\nthe <code class=\"docutils literal notranslate\"><span class=\"pre\">__iter__()</span></code> method.</p>\n<p>Formsets can also be indexed into, which returns the corresponding form. If you\noverride <code class=\"docutils literal notranslate\"><span class=\"pre\">__iter__</span></code>, you will need to also override <code class=\"docutils literal notranslate\"><span class=\"pre\">__getitem__</span></code> to have\nmatching behavior.</p>\n<div class=\"section\" id=\"s-using-initial-data-with-a-formset\">\n<span id=\"s-formsets-initial-data\"></span><span id=\"using-initial-data-with-a-formset\"></span><span id=\"formsets-initial-data\"></span><h2>Using initial data with a formset<a class=\"headerlink\" href=\"#using-initial-data-with-a-formset\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Initial data is what drives the main usability of a formset. As shown above\nyou can define the number of extra forms. What this means is that you are\ntelling the formset how many additional forms to show in addition to the\nnumber of forms it generates from the initial data. Let\u2019s take a look at an\nexample:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">import</span> <span class=\"nn\">datetime</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">extra</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"p\">[</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span>\n<span class=\"gp\">... </span>            <span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Django is now open source&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>            <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"o\">.</span><span class=\"n\">today</span><span class=\"p\">(),</span>\n<span class=\"gp\">... </span>        <span class=\"p\">}</span>\n<span class=\"gp\">... </span>    <span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; value=&quot;Django is now open source&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; value=&quot;2023-02-11&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-title&quot; id=&quot;id_form-1-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-pub_date&quot; id=&quot;id_form-1-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-title&quot; id=&quot;id_form-2-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-pub_date&quot; id=&quot;id_form-2-pub_date&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n<p>There are now a total of three forms showing above. One for the initial data\nthat was passed in and two extra forms. Also note that we are passing in a\nlist of dictionaries as the initial data.</p>\n<p>If you use an <code class=\"docutils literal notranslate\"><span class=\"pre\">initial</span></code> for displaying a formset, you should pass the same\n<code class=\"docutils literal notranslate\"><span class=\"pre\">initial</span></code> when processing that formset\u2019s submission so that the formset can\ndetect which forms were changed by the user. For example, you might have\nsomething like: <code class=\"docutils literal notranslate\"><span class=\"pre\">ArticleFormSet(request.POST,</span> <span class=\"pre\">initial=[...])</span></code>.</p>\n<div class=\"admonition seealso\">\n<p class=\"first admonition-title\">See also</p>\n<p class=\"last\"><a class=\"reference internal\" href=\"../modelforms/#model-formsets\"><span class=\"std std-ref\">Creating formsets from models with model formsets</span></a>.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-limiting-the-maximum-number-of-forms\">\n<span id=\"s-formsets-max-num\"></span><span id=\"limiting-the-maximum-number-of-forms\"></span><span id=\"formsets-max-num\"></span><h2>Limiting the maximum number of forms<a class=\"headerlink\" href=\"#limiting-the-maximum-number-of-forms\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> parameter to <a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a>\ngives you the ability to limit the number of forms the formset will display:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">extra</span><span class=\"o\">=</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"n\">max_num</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n<p>If the value of <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> is greater than the number of existing items in the\ninitial data, up to <code class=\"docutils literal notranslate\"><span class=\"pre\">extra</span></code> additional blank forms will be added to the\nformset, so long as the total number of forms does not exceed <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code>. For\nexample, if <code class=\"docutils literal notranslate\"><span class=\"pre\">extra=2</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num=2</span></code> and the formset is initialized with\none <code class=\"docutils literal notranslate\"><span class=\"pre\">initial</span></code> item, a form for the initial item and one blank form will be\ndisplayed.</p>\n<p>If the number of items in the initial data exceeds <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code>, all initial\ndata forms will be displayed regardless of the value of <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> and no\nextra forms will be displayed. For example, if <code class=\"docutils literal notranslate\"><span class=\"pre\">extra=3</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num=1</span></code>\nand the formset is initialized with two initial items, two forms with the\ninitial data will be displayed.</p>\n<p>A <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> value of <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> (the default) puts a high limit on the number\nof forms displayed (1000). In practice this is equivalent to no limit.</p>\n<p>By default, <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> only affects how many forms are displayed and does not\naffect validation.  If <code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max=True</span></code> is passed to the\n<a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a>, then <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> will affect\nvalidation.  See <a class=\"reference internal\" href=\"#validate-max\"><span class=\"std std-ref\">validate_max</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-limiting-the-maximum-number-of-instantiated-forms\">\n<span id=\"s-formsets-absolute-max\"></span><span id=\"limiting-the-maximum-number-of-instantiated-forms\"></span><span id=\"formsets-absolute-max\"></span><h2>Limiting the maximum number of instantiated forms<a class=\"headerlink\" href=\"#limiting-the-maximum-number-of-instantiated-forms\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">absolute_max</span></code> parameter to <a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a> allows limiting the\nnumber of forms that can be instantiated when supplying <code class=\"docutils literal notranslate\"><span class=\"pre\">POST</span></code> data. This\nprotects against memory exhaustion attacks using forged <code class=\"docutils literal notranslate\"><span class=\"pre\">POST</span></code> requests:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms.formsets</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">absolute_max</span><span class=\"o\">=</span><span class=\"mi\">1500</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1501&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">forms</span><span class=\"p\">)</span>\n<span class=\"go\">1500</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;Please submit at most 1000 forms.&#39;]</span>\n</pre></div>\n</div>\n<p>When <code class=\"docutils literal notranslate\"><span class=\"pre\">absolute_max</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span> <span class=\"pre\">+</span> <span class=\"pre\">1000</span></code>. (If\n<code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code>, it defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">2000</span></code>).</p>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">absolute_max</span></code> is less than <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code>, a <code class=\"docutils literal notranslate\"><span class=\"pre\">ValueError</span></code> will be raised.</p>\n</div>\n<div class=\"section\" id=\"s-formset-validation\">\n<span id=\"formset-validation\"></span><h2>Formset validation<a class=\"headerlink\" href=\"#formset-validation\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Validation with a formset is almost identical to a regular <code class=\"docutils literal notranslate\"><span class=\"pre\">Form</span></code>. There is\nan <code class=\"docutils literal notranslate\"><span class=\"pre\">is_valid</span></code> method on the formset to provide a convenient way to validate\nall forms in the formset:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n</pre></div>\n</div>\n<p>We passed in no data to the formset which is resulting in a valid form. The\nformset is smart enough to ignore extra forms that were not changed. If we\nprovide an invalid article:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Test&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1904-06-16&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Test&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>  <span class=\"c1\"># &lt;-- this date is missing but required</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span>\n<span class=\"go\">[{}, {&#39;pub_date&#39;: [&#39;This field is required.&#39;]}]</span>\n</pre></div>\n</div>\n<p>As we can see, <code class=\"docutils literal notranslate\"><span class=\"pre\">formset.errors</span></code> is a list whose entries correspond to the\nforms in the formset. Validation was performed for each of the two forms, and\nthe expected error message appears for the second item.</p>\n<p>Just like when using a normal <code class=\"docutils literal notranslate\"><span class=\"pre\">Form</span></code>, each field in a formset\u2019s forms may\ninclude HTML attributes such as <code class=\"docutils literal notranslate\"><span class=\"pre\">maxlength</span></code> for browser validation. However,\nform fields of formsets won\u2019t include the <code class=\"docutils literal notranslate\"><span class=\"pre\">required</span></code> attribute as that\nvalidation may be incorrect when adding and deleting forms.</p>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.total_error_count\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">total_error_count</span></code>()<a class=\"reference internal\" href=\"../../../_modules/django/forms/formsets/#BaseFormSet.total_error_count\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.total_error_count\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>To check how many errors there are in the formset, we can use the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">total_error_count</span></code> method:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"c1\"># Using the previous example</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span>\n<span class=\"go\">[{}, {&#39;pub_date&#39;: [&#39;This field is required.&#39;]}]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span><span class=\"p\">)</span>\n<span class=\"go\">2</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">total_error_count</span><span class=\"p\">()</span>\n<span class=\"go\">1</span>\n</pre></div>\n</div>\n<p>We can also check if form data differs from the initial data (i.e. the form was\nsent without any data):</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">has_changed</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<div class=\"section\" id=\"s-understanding-the-managementform\">\n<span id=\"s-id1\"></span><span id=\"understanding-the-managementform\"></span><span id=\"id1\"></span><h3>Understanding the <code class=\"docutils literal notranslate\"><span class=\"pre\">ManagementForm</span></code><a class=\"headerlink\" href=\"#understanding-the-managementform\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>You may have noticed the additional data (<code class=\"docutils literal notranslate\"><span class=\"pre\">form-TOTAL_FORMS</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">form-INITIAL_FORMS</span></code>) that was required in the formset\u2019s data above. This\ndata is required for the <code class=\"docutils literal notranslate\"><span class=\"pre\">ManagementForm</span></code>. This form is used by the formset\nto manage the collection of forms contained in the formset. If you don\u2019t\nprovide this management data, the formset will be invalid:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Test&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n</pre></div>\n</div>\n<p>It is used to keep track of how many form instances are being displayed. If\nyou are adding new forms via JavaScript, you should increment the count fields\nin this form as well. On the other hand, if you are using JavaScript to allow\ndeletion of existing objects, then you need to ensure the ones being removed\nare properly marked for deletion by including <code class=\"docutils literal notranslate\"><span class=\"pre\">form-#-DELETE</span></code> in the <code class=\"docutils literal notranslate\"><span class=\"pre\">POST</span></code>\ndata. It is expected that all forms are present in the <code class=\"docutils literal notranslate\"><span class=\"pre\">POST</span></code> data regardless.</p>\n<p>The management form is available as an attribute of the formset\nitself. When rendering a formset in a template, you can include all\nthe management data by rendering <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">my_formset.management_form</span> <span class=\"pre\">}}</span></code>\n(substituting the name of your formset as appropriate).</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">As well as the <code class=\"docutils literal notranslate\"><span class=\"pre\">form-TOTAL_FORMS</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">form-INITIAL_FORMS</span></code> fields shown\nin the examples here, the management form also includes\n<code class=\"docutils literal notranslate\"><span class=\"pre\">form-MIN_NUM_FORMS</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">form-MAX_NUM_FORMS</span></code> fields. They are output\nwith the rest of the management form, but only for the convenience of\nclient-side code. These fields are not required and so are not shown in\nthe example <code class=\"docutils literal notranslate\"><span class=\"pre\">POST</span></code> data.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-total-form-count-and-initial-form-count\">\n<span id=\"total-form-count-and-initial-form-count\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">total_form_count</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">initial_form_count</span></code><a class=\"headerlink\" href=\"#total-form-count-and-initial-form-count\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">BaseFormSet</span></code> has a couple of methods that are closely related to the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ManagementForm</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">total_form_count</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">initial_form_count</span></code>.</p>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">total_form_count</span></code> returns the total number of forms in this formset.\n<code class=\"docutils literal notranslate\"><span class=\"pre\">initial_form_count</span></code> returns the number of forms in the formset that were\npre-filled, and is also used to determine how many forms are required. You\nwill probably never need to override either of these methods, so please be\nsure you understand what they do before doing so.</p>\n</div>\n<div class=\"section\" id=\"s-empty-form\">\n<span id=\"s-id2\"></span><span id=\"empty-form\"></span><span id=\"id2\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">empty_form</span></code><a class=\"headerlink\" href=\"#empty-form\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">BaseFormSet</span></code> provides an additional attribute <code class=\"docutils literal notranslate\"><span class=\"pre\">empty_form</span></code> which returns\na form instance with a prefix of <code class=\"docutils literal notranslate\"><span class=\"pre\">__prefix__</span></code> for easier use in dynamic\nforms with JavaScript.</p>\n</div>\n<div class=\"section\" id=\"s-error-messages\">\n<span id=\"s-formsets-error-messages\"></span><span id=\"error-messages\"></span><span id=\"formsets-error-messages\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">error_messages</span></code><a class=\"headerlink\" href=\"#error-messages\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">error_messages</span></code> argument lets you override the default messages that the\nformset will raise. Pass in a dictionary with keys matching the error messages\nyou want to override. Error message keys include <code class=\"docutils literal notranslate\"><span class=\"pre\">'too_few_forms'</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'too_many_forms'</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">'missing_management_form'</span></code>. The\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'too_few_forms'</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">'too_many_forms'</span></code> error messages may contain\n<code class=\"docutils literal notranslate\"><span class=\"pre\">%(num)d</span></code>, which will be replaced with <code class=\"docutils literal notranslate\"><span class=\"pre\">min_num</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code>,\nrespectively.</p>\n<p>For example, here is the default error message when the\nmanagement form is missing:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">({})</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;ManagementForm data is missing or has been tampered with. Missing fields: form-TOTAL_FORMS, form-INITIAL_FORMS. You may need to file a bug report if the issue persists.&#39;]</span>\n</pre></div>\n</div>\n<p>And here is a custom error message:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"p\">{},</span> <span class=\"n\">error_messages</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;missing_management_form&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Sorry, something went wrong.&quot;</span><span class=\"p\">}</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;Sorry, something went wrong.&#39;]</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-custom-formset-validation\">\n<span id=\"custom-formset-validation\"></span><h3>Custom formset validation<a class=\"headerlink\" href=\"#custom-formset-validation\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>A formset has a <code class=\"docutils literal notranslate\"><span class=\"pre\">clean</span></code> method similar to the one on a <code class=\"docutils literal notranslate\"><span class=\"pre\">Form</span></code> class. This\nis where you define your own validation that works at the formset level:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.core.exceptions</span> <span class=\"kn\">import</span> <span class=\"n\">ValidationError</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">clean</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"sd\">&quot;&quot;&quot;Checks that no two articles have the same title.&quot;&quot;&quot;</span>\n<span class=\"gp\">... </span>        <span class=\"k\">if</span> <span class=\"nb\">any</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">errors</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>            <span class=\"c1\"># Don&#39;t bother validating the formset unless each form is valid on its own</span>\n<span class=\"gp\">... </span>            <span class=\"k\">return</span>\n<span class=\"gp\">... </span>        <span class=\"n\">titles</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"gp\">... </span>        <span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">forms</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>            <span class=\"k\">if</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">can_delete</span> <span class=\"ow\">and</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_should_delete_form</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>                <span class=\"k\">continue</span>\n<span class=\"gp\">... </span>            <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"n\">form</span><span class=\"o\">.</span><span class=\"n\">cleaned_data</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>            <span class=\"k\">if</span> <span class=\"n\">title</span> <span class=\"ow\">in</span> <span class=\"n\">titles</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>                <span class=\"k\">raise</span> <span class=\"n\">ValidationError</span><span class=\"p\">(</span><span class=\"s2\">&quot;Articles in a set must have distinct titles.&quot;</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>            <span class=\"n\">titles</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">title</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Test&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1904-06-16&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Test&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1912-06-23&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span>\n<span class=\"go\">[{}, {}]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;Articles in a set must have distinct titles.&#39;]</span>\n</pre></div>\n</div>\n<p>The formset <code class=\"docutils literal notranslate\"><span class=\"pre\">clean</span></code> method is called after all the <code class=\"docutils literal notranslate\"><span class=\"pre\">Form.clean</span></code> methods\nhave been called. The errors will be found using the <code class=\"docutils literal notranslate\"><span class=\"pre\">non_form_errors()</span></code>\nmethod on the formset.</p>\n<p>Non-form errors will be rendered with an additional class of <code class=\"docutils literal notranslate\"><span class=\"pre\">nonform</span></code> to\nhelp distinguish them from form-specific errors. For example,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">formset.non_form_errors</span> <span class=\"pre\">}}</span></code> would look like:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">ul</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;errorlist nonform&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>Articles in a set must have distinct titles.<span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">ul</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-validating-the-number-of-forms-in-a-formset\">\n<span id=\"validating-the-number-of-forms-in-a-formset\"></span><h2>Validating the number of forms in a formset<a class=\"headerlink\" href=\"#validating-the-number-of-forms-in-a-formset\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Django provides a couple ways to validate the minimum or maximum number of\nsubmitted forms. Applications which need more customizable validation of the\nnumber of forms should use custom formset validation.</p>\n<div class=\"section\" id=\"s-validate-max\">\n<span id=\"s-id3\"></span><span id=\"validate-max\"></span><span id=\"id3\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max</span></code><a class=\"headerlink\" href=\"#validate-max\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max=True</span></code> is passed to\n<a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a>, validation will also check\nthat the number of forms in the data set, minus those marked for\ndeletion, is less than or equal to <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code>.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">max_num</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">validate_max</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-TOTAL_FORMS&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;2&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-INITIAL_FORMS&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-0-title&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;Test&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-0-pub_date&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1904-06-16&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-1-title&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;Test 2&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-1-pub_date&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1912-06-23&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span>\n<span class=\"go\">[{}, {}]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;Please submit at most 1 form.&#39;]</span>\n</pre></div>\n</div>\n<p><code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max=True</span></code> validates against <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> strictly even if\n<code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> was exceeded because the amount of initial data supplied was\nexcessive.</p>\n<p>The error message can be customized by passing the <code class=\"docutils literal notranslate\"><span class=\"pre\">'too_many_forms'</span></code> message\nto the <a class=\"reference internal\" href=\"#formsets-error-messages\"><span class=\"std std-ref\">error_messages</span></a> argument.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Regardless of <code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max</span></code>, if the number of forms in a data set\nexceeds <code class=\"docutils literal notranslate\"><span class=\"pre\">absolute_max</span></code>, then the form will fail to validate as if\n<code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max</span></code> were set, and additionally only the first <code class=\"docutils literal notranslate\"><span class=\"pre\">absolute_max</span></code>\nforms will be validated. The remainder will be truncated entirely. This is\nto protect against memory exhaustion attacks using forged POST requests.\nSee <a class=\"reference internal\" href=\"#formsets-absolute-max\"><span class=\"std std-ref\">Limiting the maximum number of instantiated forms</span></a>.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-validate-min\">\n<span id=\"validate-min\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">validate_min</span></code><a class=\"headerlink\" href=\"#validate-min\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>If <code class=\"docutils literal notranslate\"><span class=\"pre\">validate_min=True</span></code> is passed to\n<a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a>, validation will also check\nthat the number of forms in the data set, minus those marked for\ndeletion, is greater than or equal to <code class=\"docutils literal notranslate\"><span class=\"pre\">min_num</span></code>.</p>\n<div class=\"doctest highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">min_num</span><span class=\"o\">=</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">validate_min</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-TOTAL_FORMS&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;2&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-INITIAL_FORMS&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-0-title&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;Test&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-0-pub_date&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1904-06-16&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-1-title&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;Test 2&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s1\">&#39;form-1-pub_date&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;1912-06-23&#39;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">False</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">errors</span>\n<span class=\"go\">[{}, {}]</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">non_form_errors</span><span class=\"p\">()</span>\n<span class=\"go\">[&#39;Please submit at least 3 forms.&#39;]</span>\n</pre></div>\n</div>\n<p>The error message can be customized by passing the <code class=\"docutils literal notranslate\"><span class=\"pre\">'too_few_forms'</span></code> message\nto the <a class=\"reference internal\" href=\"#formsets-error-messages\"><span class=\"std std-ref\">error_messages</span></a> argument.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">Regardless of <code class=\"docutils literal notranslate\"><span class=\"pre\">validate_min</span></code>, if a formset contains no data, then\n<code class=\"docutils literal notranslate\"><span class=\"pre\">extra</span> <span class=\"pre\">+</span> <span class=\"pre\">min_num</span></code> empty forms will be displayed.</p>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-dealing-with-ordering-and-deletion-of-forms\">\n<span id=\"dealing-with-ordering-and-deletion-of-forms\"></span><h2>Dealing with ordering and deletion of forms<a class=\"headerlink\" href=\"#dealing-with-ordering-and-deletion-of-forms\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The <a class=\"reference internal\" href=\"../../../ref/forms/formsets/#django.forms.formsets.formset_factory\" title=\"django.forms.formsets.formset_factory\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">formset_factory()</span></code></a> provides two optional\nparameters <code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code> to help with ordering of forms in\nformsets and deletion of forms from a formset.</p>\n<div class=\"section\" id=\"s-can-order\">\n<span id=\"can-order\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code><a class=\"headerlink\" href=\"#can-order\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.can_order\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">can_order</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.can_order\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code></p>\n<p>Lets you create a formset with the ability to order:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">can_order</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"p\">[</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>    <span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; value=&quot;Article #1&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; value=&quot;2008-05-10&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-ORDER&quot;&gt;Order:&lt;/label&gt;&lt;input type=&quot;number&quot; name=&quot;form-0-ORDER&quot; value=&quot;1&quot; id=&quot;id_form-0-ORDER&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-title&quot; value=&quot;Article #2&quot; id=&quot;id_form-1-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-pub_date&quot; value=&quot;2008-05-11&quot; id=&quot;id_form-1-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-ORDER&quot;&gt;Order:&lt;/label&gt;&lt;input type=&quot;number&quot; name=&quot;form-1-ORDER&quot; value=&quot;2&quot; id=&quot;id_form-1-ORDER&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-title&quot; id=&quot;id_form-2-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-pub_date&quot; id=&quot;id_form-2-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-ORDER&quot;&gt;Order:&lt;/label&gt;&lt;input type=&quot;number&quot; name=&quot;form-2-ORDER&quot; id=&quot;id_form-2-ORDER&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n<p>This adds an additional field to each form. This new field is named <code class=\"docutils literal notranslate\"><span class=\"pre\">ORDER</span></code>\nand is an <code class=\"docutils literal notranslate\"><span class=\"pre\">forms.IntegerField</span></code>. For the forms that came from the initial\ndata it automatically assigned them a numeric value. Let\u2019s look at what will\nhappen when the user changes these values:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;3&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2008-05-10&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-ORDER&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2008-05-11&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-ORDER&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #3&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2008-05-01&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-ORDER&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;0&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">data</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"p\">[</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>    <span class=\"p\">],</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span>\n<span class=\"go\">True</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">ordered_forms</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"o\">.</span><span class=\"n\">cleaned_data</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">{&#39;pub_date&#39;: datetime.date(2008, 5, 1), &#39;ORDER&#39;: 0, &#39;title&#39;: &#39;Article #3&#39;}</span>\n<span class=\"go\">{&#39;pub_date&#39;: datetime.date(2008, 5, 11), &#39;ORDER&#39;: 1, &#39;title&#39;: &#39;Article #2&#39;}</span>\n<span class=\"go\">{&#39;pub_date&#39;: datetime.date(2008, 5, 10), &#39;ORDER&#39;: 2, &#39;title&#39;: &#39;Article #1&#39;}</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet\" title=\"django.forms.formsets.BaseFormSet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseFormSet</span></code></a> also provides an\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.ordering_widget\" title=\"django.forms.formsets.BaseFormSet.ordering_widget\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">ordering_widget</span></code></a> attribute and\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.get_ordering_widget\" title=\"django.forms.formsets.BaseFormSet.get_ordering_widget\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_ordering_widget()</span></code></a> method that\ncontrol the widget used with\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.can_order\" title=\"django.forms.formsets.BaseFormSet.can_order\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">can_order</span></code></a>.</p>\n<div class=\"section\" id=\"s-ordering-widget\">\n<span id=\"ordering-widget\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">ordering_widget</span></code><a class=\"headerlink\" href=\"#ordering-widget\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.ordering_widget\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">ordering_widget</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.ordering_widget\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Default: <a class=\"reference internal\" href=\"../../../ref/forms/widgets/#django.forms.NumberInput\" title=\"django.forms.NumberInput\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">NumberInput</span></code></a></p>\n<p>Set <code class=\"docutils literal notranslate\"><span class=\"pre\">ordering_widget</span></code> to specify the widget class to be used with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span><span class=\"p\">,</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">ordering_widget</span> <span class=\"o\">=</span> <span class=\"n\">HiddenInput</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">,</span> <span class=\"n\">can_order</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-get-ordering-widget\">\n<span id=\"get-ordering-widget\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">get_ordering_widget</span></code><a class=\"headerlink\" href=\"#get-ordering-widget\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.get_ordering_widget\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">get_ordering_widget</span></code>()<a class=\"reference internal\" href=\"../../../_modules/django/forms/formsets/#BaseFormSet.get_ordering_widget\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.get_ordering_widget\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Override <code class=\"docutils literal notranslate\"><span class=\"pre\">get_ordering_widget()</span></code> if you need to provide a widget instance for\nuse with <code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span><span class=\"p\">,</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">get_ordering_widget</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"n\">HiddenInput</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;class&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;ordering&quot;</span><span class=\"p\">})</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">,</span> <span class=\"n\">can_order</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-can-delete\">\n<span id=\"can-delete\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code><a class=\"headerlink\" href=\"#can-delete\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.can_delete\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">can_delete</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.can_delete\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code></p>\n<p>Lets you create a formset with the ability to select forms for deletion:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">can_delete</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"p\">[</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>    <span class=\"p\">]</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; value=&quot;Article #1&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; value=&quot;2008-05-10&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-DELETE&quot;&gt;Delete:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;form-0-DELETE&quot; id=&quot;id_form-0-DELETE&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-title&quot; value=&quot;Article #2&quot; id=&quot;id_form-1-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-1-pub_date&quot; value=&quot;2008-05-11&quot; id=&quot;id_form-1-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-1-DELETE&quot;&gt;Delete:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;form-1-DELETE&quot; id=&quot;id_form-1-DELETE&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-title&quot; id=&quot;id_form-2-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-2-pub_date&quot; id=&quot;id_form-2-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-2-DELETE&quot;&gt;Delete:&lt;/label&gt;&lt;input type=&quot;checkbox&quot; name=&quot;form-2-DELETE&quot; id=&quot;id_form-2-DELETE&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n<p>Similar to <code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code> this adds a new field to each form named <code class=\"docutils literal notranslate\"><span class=\"pre\">DELETE</span></code>\nand is a <code class=\"docutils literal notranslate\"><span class=\"pre\">forms.BooleanField</span></code>. When data comes through marking any of the\ndelete fields you can access them with <code class=\"docutils literal notranslate\"><span class=\"pre\">deleted_forms</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">data</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-TOTAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;3&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-INITIAL_FORMS&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2008-05-10&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-0-DELETE&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;on&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2008-05-11&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-1-DELETE&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-pub_date&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"s2\">&quot;form-2-DELETE&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span><span class=\"p\">}</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">data</span><span class=\"p\">,</span>\n<span class=\"gp\">... </span>    <span class=\"n\">initial</span><span class=\"o\">=</span><span class=\"p\">[</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #1&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>        <span class=\"p\">{</span><span class=\"s2\">&quot;title&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;Article #2&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;pub_date&quot;</span><span class=\"p\">:</span> <span class=\"n\">datetime</span><span class=\"o\">.</span><span class=\"n\">date</span><span class=\"p\">(</span><span class=\"mi\">2008</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">11</span><span class=\"p\">)},</span>\n<span class=\"gp\">... </span>    <span class=\"p\">],</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"p\">[</span><span class=\"n\">form</span><span class=\"o\">.</span><span class=\"n\">cleaned_data</span> <span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">deleted_forms</span><span class=\"p\">]</span>\n<span class=\"go\">[{&#39;DELETE&#39;: True, &#39;pub_date&#39;: datetime.date(2008, 5, 10), &#39;title&#39;: &#39;Article #1&#39;}]</span>\n</pre></div>\n</div>\n<p>If you are using a <a class=\"reference internal\" href=\"../modelforms/#django.forms.models.BaseModelFormSet\" title=\"django.forms.models.BaseModelFormSet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ModelFormSet</span></code></a>,\nmodel instances for deleted forms will be deleted when you call\n<code class=\"docutils literal notranslate\"><span class=\"pre\">formset.save()</span></code>.</p>\n<p>If you call <code class=\"docutils literal notranslate\"><span class=\"pre\">formset.save(commit=False)</span></code>, objects will not be deleted\nautomatically.  You\u2019ll need to call <code class=\"docutils literal notranslate\"><span class=\"pre\">delete()</span></code> on each of the\n<a class=\"reference internal\" href=\"../modelforms/#django.forms.models.BaseModelFormSet.deleted_objects\" title=\"django.forms.models.BaseModelFormSet.deleted_objects\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">formset.deleted_objects</span></code></a> to actually delete\nthem:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">instances</span> <span class=\"o\">=</span> <span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">save</span><span class=\"p\">(</span><span class=\"n\">commit</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">obj</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">deleted_objects</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"n\">obj</span><span class=\"o\">.</span><span class=\"n\">delete</span><span class=\"p\">()</span>\n<span class=\"gp\">...</span>\n</pre></div>\n</div>\n<p>On the other hand, if you are using a plain <code class=\"docutils literal notranslate\"><span class=\"pre\">FormSet</span></code>, it\u2019s up to you to\nhandle <code class=\"docutils literal notranslate\"><span class=\"pre\">formset.deleted_forms</span></code>, perhaps in your formset\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">save()</span></code> method,\nas there\u2019s no general notion of what it means to delete a form.</p>\n<p><a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet\" title=\"django.forms.formsets.BaseFormSet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseFormSet</span></code></a> also provides a\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.deletion_widget\" title=\"django.forms.formsets.BaseFormSet.deletion_widget\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">deletion_widget</span></code></a> attribute and\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.get_deletion_widget\" title=\"django.forms.formsets.BaseFormSet.get_deletion_widget\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_deletion_widget()</span></code></a> method that\ncontrol the widget used with\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.can_delete\" title=\"django.forms.formsets.BaseFormSet.can_delete\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">can_delete</span></code></a>.</p>\n<div class=\"section\" id=\"s-deletion-widget\">\n<span id=\"deletion-widget\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">deletion_widget</span></code><a class=\"headerlink\" href=\"#deletion-widget\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.deletion_widget\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">deletion_widget</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.deletion_widget\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Default: <a class=\"reference internal\" href=\"../../../ref/forms/widgets/#django.forms.CheckboxInput\" title=\"django.forms.CheckboxInput\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CheckboxInput</span></code></a></p>\n<p>Set <code class=\"docutils literal notranslate\"><span class=\"pre\">deletion_widget</span></code> to specify the widget class to be used with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span><span class=\"p\">,</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"n\">deletion_widget</span> <span class=\"o\">=</span> <span class=\"n\">HiddenInput</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">,</span> <span class=\"n\">can_delete</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-get-deletion-widget\">\n<span id=\"get-deletion-widget\"></span><h4><code class=\"docutils literal notranslate\"><span class=\"pre\">get_deletion_widget</span></code><a class=\"headerlink\" href=\"#get-deletion-widget\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.get_deletion_widget\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">get_deletion_widget</span></code>()<a class=\"reference internal\" href=\"../../../_modules/django/forms/formsets/#BaseFormSet.get_deletion_widget\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.get_deletion_widget\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Override <code class=\"docutils literal notranslate\"><span class=\"pre\">get_deletion_widget()</span></code> if you need to provide a widget instance for\nuse with <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span><span class=\"p\">,</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">get_deletion_widget</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"n\">HiddenInput</span><span class=\"p\">(</span><span class=\"n\">attrs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;class&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;deletion&quot;</span><span class=\"p\">})</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span>\n<span class=\"gp\">... </span>    <span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">,</span> <span class=\"n\">can_delete</span><span class=\"o\">=</span><span class=\"kc\">True</span>\n<span class=\"gp\">... </span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-can-delete-extra\">\n<span id=\"can-delete-extra\"></span><h3><code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete_extra</span></code><a class=\"headerlink\" href=\"#can-delete-extra\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.can_delete_extra\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">can_delete_extra</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.can_delete_extra\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Default: <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code></p>\n<p>While setting <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete=True</span></code>, specifying <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete_extra=False</span></code> will\nremove the option to delete extra forms.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-adding-additional-fields-to-a-formset\">\n<span id=\"adding-additional-fields-to-a-formset\"></span><h2>Adding additional fields to a formset<a class=\"headerlink\" href=\"#adding-additional-fields-to-a-formset\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If you need to add additional fields to the formset this can be easily\naccomplished. The formset base class provides an <code class=\"docutils literal notranslate\"><span class=\"pre\">add_fields</span></code> method. You\ncan override this method to add your own fields or even redefine the default\nfields/attributes of the order and deletion fields:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">add_fields</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">form</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_fields</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>        <span class=\"n\">form</span><span class=\"o\">.</span><span class=\"n\">fields</span><span class=\"p\">[</span><span class=\"s2\">&quot;my_field&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">forms</span><span class=\"o\">.</span><span class=\"n\">CharField</span><span class=\"p\">()</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">()</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">for</span> <span class=\"n\">form</span> <span class=\"ow\">in</span> <span class=\"n\">formset</span><span class=\"p\">:</span>\n<span class=\"gp\">... </span>    <span class=\"nb\">print</span><span class=\"p\">(</span><span class=\"n\">form</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-title&quot;&gt;Title:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-title&quot; id=&quot;id_form-0-title&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-pub_date&quot;&gt;Pub date:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-pub_date&quot; id=&quot;id_form-0-pub_date&quot;&gt;&lt;/div&gt;</span>\n<span class=\"go\">&lt;div&gt;&lt;label for=&quot;id_form-0-my_field&quot;&gt;My field:&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;form-0-my_field&quot; id=&quot;id_form-0-my_field&quot;&gt;&lt;/div&gt;</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-passing-custom-parameters-to-formset-forms\">\n<span id=\"s-custom-formset-form-kwargs\"></span><span id=\"passing-custom-parameters-to-formset-forms\"></span><span id=\"custom-formset-form-kwargs\"></span><h2>Passing custom parameters to formset forms<a class=\"headerlink\" href=\"#passing-custom-parameters-to-formset-forms\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Sometimes your form class takes custom parameters, like <code class=\"docutils literal notranslate\"><span class=\"pre\">MyArticleForm</span></code>.\nYou can pass this parameter when instantiating the formset:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">MyArticleForm</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"n\">user</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">user</span> <span class=\"o\">=</span> <span class=\"n\">user</span>\n<span class=\"gp\">... </span>        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">MyArticleForm</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">form_kwargs</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s2\">&quot;user&quot;</span><span class=\"p\">:</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">user</span><span class=\"p\">})</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">form_kwargs</span></code> may also depend on the specific form instance. The formset\nbase class provides a <code class=\"docutils literal notranslate\"><span class=\"pre\">get_form_kwargs</span></code> method. The method takes a single\nargument - the index of the form in the formset. The index is <code class=\"docutils literal notranslate\"><span class=\"pre\">None</span></code> for the\n<a class=\"reference internal\" href=\"#empty-form\"><span class=\"std std-ref\">empty_form</span></a>:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">BaseFormSet</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"k\">class</span> <span class=\"nc\">BaseArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">BaseFormSet</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>    <span class=\"k\">def</span> <span class=\"nf\">get_form_kwargs</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">index</span><span class=\"p\">):</span>\n<span class=\"gp\">... </span>        <span class=\"n\">kwargs</span> <span class=\"o\">=</span> <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">get_form_kwargs</span><span class=\"p\">(</span><span class=\"n\">index</span><span class=\"p\">)</span>\n<span class=\"gp\">... </span>        <span class=\"n\">kwargs</span><span class=\"p\">[</span><span class=\"s2\">&quot;custom_kwarg&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">index</span>\n<span class=\"gp\">... </span>        <span class=\"k\">return</span> <span class=\"n\">kwargs</span>\n<span class=\"gp\">...</span>\n\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">MyArticleForm</span><span class=\"p\">,</span> <span class=\"n\">formset</span><span class=\"o\">=</span><span class=\"n\">BaseArticleFormSet</span><span class=\"p\">)</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">()</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-customizing-a-formset-s-prefix\">\n<span id=\"s-formset-prefix\"></span><span id=\"customizing-a-formset-s-prefix\"></span><span id=\"formset-prefix\"></span><h2>Customizing a formset\u2019s prefix<a class=\"headerlink\" href=\"#customizing-a-formset-s-prefix\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>In the rendered HTML, formsets include a prefix on each field\u2019s name. By\ndefault, the prefix is <code class=\"docutils literal notranslate\"><span class=\"pre\">'form'</span></code>, but it can be customized using the formset\u2019s\n<code class=\"docutils literal notranslate\"><span class=\"pre\">prefix</span></code> argument.</p>\n<p>For example, in the default case, you might see:</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">&quot;id_form-0-title&quot;</span><span class=\"p\">&gt;</span>Title:<span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;form-0-title&quot;</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;id_form-0-title&quot;</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>But with <code class=\"docutils literal notranslate\"><span class=\"pre\">ArticleFormset(prefix='article')</span></code> that becomes:</p>\n<div class=\"highlight-html notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">label</span> <span class=\"na\">for</span><span class=\"o\">=</span><span class=\"s\">&quot;id_article-0-title&quot;</span><span class=\"p\">&gt;</span>Title:<span class=\"p\">&lt;/</span><span class=\"nt\">label</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;</span><span class=\"nt\">input</span> <span class=\"na\">type</span><span class=\"o\">=</span><span class=\"s\">&quot;text&quot;</span> <span class=\"na\">name</span><span class=\"o\">=</span><span class=\"s\">&quot;article-0-title&quot;</span> <span class=\"na\">id</span><span class=\"o\">=</span><span class=\"s\">&quot;id_article-0-title&quot;</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>This is useful if you want to <a class=\"reference internal\" href=\"#multiple-formsets-in-view\"><span class=\"std std-ref\">use more than one formset in a view</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-using-a-formset-in-views-and-templates\">\n<span id=\"s-formset-rendering\"></span><span id=\"using-a-formset-in-views-and-templates\"></span><span id=\"formset-rendering\"></span><h2>Using a formset in views and templates<a class=\"headerlink\" href=\"#using-a-formset-in-views-and-templates\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Formsets have the following attributes and methods associated with rendering:</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.renderer\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">renderer</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.renderer\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Specifies the <a class=\"reference internal\" href=\"../../../ref/forms/renderers/\"><span class=\"doc\">renderer</span></a> to use for the\nformset. Defaults to the renderer specified by the <a class=\"reference internal\" href=\"../../../ref/settings/#std-setting-FORM_RENDERER\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">FORM_RENDERER</span></code></a>\nsetting.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.template_name\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">template_name</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.template_name\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The name of the template rendered if the formset is cast into a string,\ne.g. via <code class=\"docutils literal notranslate\"><span class=\"pre\">print(formset)</span></code> or in a template via <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">formset</span> <span class=\"pre\">}}</span></code>.</p>\n<p>By default, a property returning the value of the renderer\u2019s\n<a class=\"reference internal\" href=\"../../../ref/forms/renderers/#django.forms.renderers.BaseRenderer.formset_template_name\" title=\"django.forms.renderers.BaseRenderer.formset_template_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">formset_template_name</span></code></a>. You may\nset it as a string template name in order to override that for a particular\nformset class.</p>\n<p>This template will be used to render the formset\u2019s management form, and\nthen each form in the formset as per the template defined by the form\u2019s\n<a class=\"reference internal\" href=\"../../../ref/forms/api/#django.forms.Form.template_name\" title=\"django.forms.Form.template_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.template_name_div\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">template_name_div</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.template_name_div\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The name of the template used when calling <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_div\" title=\"django.forms.formsets.BaseFormSet.as_div\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_div()</span></code></a>. By default this\nis <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/formsets/div.html&quot;</span></code>. This template renders the\nformset\u2019s management form and then each form in the formset as per the\nform\u2019s <a class=\"reference internal\" href=\"../../../ref/forms/api/#django.forms.Form.as_div\" title=\"django.forms.Form.as_div\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_div()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.template_name_p\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">template_name_p</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.template_name_p\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The name of the template used when calling <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_p\" title=\"django.forms.formsets.BaseFormSet.as_p\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_p()</span></code></a>. By default this\nis <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/formsets/p.html&quot;</span></code>. This template renders the formset\u2019s\nmanagement form and then each form in the formset as per the form\u2019s\n<a class=\"reference internal\" href=\"../../../ref/forms/api/#django.forms.Form.as_p\" title=\"django.forms.Form.as_p\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_p()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.template_name_table\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">template_name_table</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.template_name_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The name of the template used when calling <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_table\" title=\"django.forms.formsets.BaseFormSet.as_table\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_table()</span></code></a>. By default\nthis is <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/formsets/table.html&quot;</span></code>. This template renders the\nformset\u2019s management form and then each form in the formset as per the\nform\u2019s <a class=\"reference internal\" href=\"../../../ref/forms/api/#django.forms.Form.as_table\" title=\"django.forms.Form.as_table\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_table()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.template_name_ul\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">template_name_ul</span></code><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.template_name_ul\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The name of the template used when calling <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_ul\" title=\"django.forms.formsets.BaseFormSet.as_ul\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_ul()</span></code></a>. By default this\nis <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/formsets/ul.html&quot;</span></code>. This template renders the formset\u2019s\nmanagement form and then each form in the formset as per the form\u2019s\n<a class=\"reference internal\" href=\"../../../ref/forms/api/#django.forms.Form.as_ul\" title=\"django.forms.Form.as_ul\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_ul()</span></code></a> method.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.get_context\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">get_context</span></code>()<a class=\"reference internal\" href=\"../../../_modules/django/forms/formsets/#BaseFormSet.get_context\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.get_context\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the context for rendering a formset in a template.</p>\n<p>The available context is:</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">formset</span></code> : The instance of the formset.</li>\n</ul>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.render\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">render</span></code>(<em><span class=\"n\"><span class=\"pre\">template_name</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">context</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">renderer</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.render\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The render method is called by <code class=\"docutils literal notranslate\"><span class=\"pre\">__str__</span></code> as well as the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_div\" title=\"django.forms.formsets.BaseFormSet.as_div\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_div()</span></code></a>,\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_p\" title=\"django.forms.formsets.BaseFormSet.as_p\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_p()</span></code></a>, <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_ul\" title=\"django.forms.formsets.BaseFormSet.as_ul\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_ul()</span></code></a>, and <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.as_table\" title=\"django.forms.formsets.BaseFormSet.as_table\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_table()</span></code></a> methods. All arguments\nare optional and will default to:</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">template_name</span></code>: <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name\" title=\"django.forms.formsets.BaseFormSet.template_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name</span></code></a></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">context</span></code>: Value returned by <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.get_context\" title=\"django.forms.formsets.BaseFormSet.get_context\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_context()</span></code></a></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">renderer</span></code>: Value returned by <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.renderer\" title=\"django.forms.formsets.BaseFormSet.renderer\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">renderer</span></code></a></li>\n</ul>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.as_div\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">as_div</span></code>()<a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.as_div\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Renders the formset with the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name_div\" title=\"django.forms.formsets.BaseFormSet.template_name_div\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name_div</span></code></a> template.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.as_p\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">as_p</span></code>()<a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.as_p\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Renders the formset with the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name_p\" title=\"django.forms.formsets.BaseFormSet.template_name_p\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name_p</span></code></a> template.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.as_table\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">as_table</span></code>()<a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.as_table\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Renders the formset with the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name_table\" title=\"django.forms.formsets.BaseFormSet.template_name_table\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name_table</span></code></a> template.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.forms.formsets.BaseFormSet.as_ul\">\n<code class=\"sig-prename descclassname\"><span class=\"pre\">BaseFormSet.</span></code><code class=\"sig-name descname\"><span class=\"pre\">as_ul</span></code>()<a class=\"headerlink\" href=\"#django.forms.formsets.BaseFormSet.as_ul\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Renders the formset with the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name_ul\" title=\"django.forms.formsets.BaseFormSet.template_name_ul\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name_ul</span></code></a> template.</p>\n</dd></dl>\n\n<p>Using a formset inside a view is not very different from using a regular\n<code class=\"docutils literal notranslate\"><span class=\"pre\">Form</span></code> class. The only thing you will want to be aware of is making sure to\nuse the management form inside the template. Let\u2019s look at a sample view:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">render</span>\n<span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">manage_articles</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">method</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;POST&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">POST</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">FILES</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">():</span>\n            <span class=\"c1\"># do something with the formset.cleaned_data</span>\n            <span class=\"k\">pass</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">()</span>\n    <span class=\"k\">return</span> <span class=\"n\">render</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">,</span> <span class=\"s2\">&quot;manage_articles.html&quot;</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"s2\">&quot;formset&quot;</span><span class=\"p\">:</span> <span class=\"n\">formset</span><span class=\"p\">})</span>\n</pre></div>\n</div>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">manage_articles.html</span></code> template might look like this:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">&quot;post&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"cp\">{{</span> <span class=\"nv\">formset.management_form</span> <span class=\"cp\">}}</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">table</span><span class=\"p\">&gt;</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">for</span> <span class=\"nv\">form</span> <span class=\"k\">in</span> <span class=\"nv\">formset</span> <span class=\"cp\">%}</span>\n        <span class=\"cp\">{{</span> <span class=\"nv\">form</span> <span class=\"cp\">}}</span>\n        <span class=\"cp\">{%</span> <span class=\"k\">endfor</span> <span class=\"cp\">%}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">table</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>However there\u2019s a slight shortcut for the above by letting the formset itself\ndeal with the management form:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">&quot;post&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">table</span><span class=\"p\">&gt;</span>\n        <span class=\"cp\">{{</span> <span class=\"nv\">formset</span> <span class=\"cp\">}}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">table</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>The above ends up calling the <a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.render\" title=\"django.forms.formsets.BaseFormSet.render\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">BaseFormSet.render()</span></code></a> method on the formset\nclass. This renders the formset using the template specified by the\n<a class=\"reference internal\" href=\"#django.forms.formsets.BaseFormSet.template_name\" title=\"django.forms.formsets.BaseFormSet.template_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">template_name</span></code></a> attribute. Similar to forms, by default the\nformset will be rendered <code class=\"docutils literal notranslate\"><span class=\"pre\">as_table</span></code>, with other helper methods of <code class=\"docutils literal notranslate\"><span class=\"pre\">as_p</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">as_ul</span></code> being available. The rendering of the formset can be customized\nby specifying the <code class=\"docutils literal notranslate\"><span class=\"pre\">template_name</span></code> attribute, or more generally by\n<a class=\"reference internal\" href=\"../../../ref/forms/renderers/#overriding-built-in-formset-templates\"><span class=\"std std-ref\">overriding the default template</span></a>.</p>\n<div class=\"section\" id=\"s-manually-rendered-can-delete-and-can-order\">\n<span id=\"s-id4\"></span><span id=\"manually-rendered-can-delete-and-can-order\"></span><span id=\"id4\"></span><h3>Manually rendered <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code><a class=\"headerlink\" href=\"#manually-rendered-can-delete-and-can-order\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>If you manually render fields in the template, you can render\n<code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code> parameter with <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">form.DELETE</span> <span class=\"pre\">}}</span></code>:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span> <span class=\"na\">method</span><span class=\"o\">=</span><span class=\"s\">&quot;post&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"cp\">{{</span> <span class=\"nv\">formset.management_form</span> <span class=\"cp\">}}</span>\n    <span class=\"cp\">{%</span> <span class=\"k\">for</span> <span class=\"nv\">form</span> <span class=\"k\">in</span> <span class=\"nv\">formset</span> <span class=\"cp\">%}</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">ul</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.title</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n            <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.pub_date</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n            <span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">formset.can_delete</span> <span class=\"cp\">%}</span>\n                <span class=\"p\">&lt;</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.DELETE</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">li</span><span class=\"p\">&gt;</span>\n            <span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n        <span class=\"p\">&lt;/</span><span class=\"nt\">ul</span><span class=\"p\">&gt;</span>\n    <span class=\"cp\">{%</span> <span class=\"k\">endfor</span> <span class=\"cp\">%}</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>Similarly, if the formset has the ability to order (<code class=\"docutils literal notranslate\"><span class=\"pre\">can_order=True</span></code>), it is\npossible to render it with <code class=\"docutils literal notranslate\"><span class=\"pre\">{{</span> <span class=\"pre\">form.ORDER</span> <span class=\"pre\">}}</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-using-more-than-one-formset-in-a-view\">\n<span id=\"s-multiple-formsets-in-view\"></span><span id=\"using-more-than-one-formset-in-a-view\"></span><span id=\"multiple-formsets-in-view\"></span><h3>Using more than one formset in a view<a class=\"headerlink\" href=\"#using-more-than-one-formset-in-a-view\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>You are able to use more than one formset in a view if you like. Formsets\nborrow much of its behavior from forms. With that said you are able to use\n<code class=\"docutils literal notranslate\"><span class=\"pre\">prefix</span></code> to prefix formset form field names with a given value to allow\nmore than one formset to be sent to a view without name clashing. Let\u2019s take\na look at how this might be accomplished:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.forms</span> <span class=\"kn\">import</span> <span class=\"n\">formset_factory</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">render</span>\n<span class=\"kn\">from</span> <span class=\"nn\">myapp.forms</span> <span class=\"kn\">import</span> <span class=\"n\">ArticleForm</span><span class=\"p\">,</span> <span class=\"n\">BookForm</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">manage_articles</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"n\">ArticleFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">ArticleForm</span><span class=\"p\">)</span>\n    <span class=\"n\">BookFormSet</span> <span class=\"o\">=</span> <span class=\"n\">formset_factory</span><span class=\"p\">(</span><span class=\"n\">BookForm</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">method</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;POST&quot;</span><span class=\"p\">:</span>\n        <span class=\"n\">article_formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">POST</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">FILES</span><span class=\"p\">,</span> <span class=\"n\">prefix</span><span class=\"o\">=</span><span class=\"s2\">&quot;articles&quot;</span><span class=\"p\">)</span>\n        <span class=\"n\">book_formset</span> <span class=\"o\">=</span> <span class=\"n\">BookFormSet</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">POST</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">.</span><span class=\"n\">FILES</span><span class=\"p\">,</span> <span class=\"n\">prefix</span><span class=\"o\">=</span><span class=\"s2\">&quot;books&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">article_formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">()</span> <span class=\"ow\">and</span> <span class=\"n\">book_formset</span><span class=\"o\">.</span><span class=\"n\">is_valid</span><span class=\"p\">():</span>\n            <span class=\"c1\"># do something with the cleaned_data on the formsets.</span>\n            <span class=\"k\">pass</span>\n    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">article_formset</span> <span class=\"o\">=</span> <span class=\"n\">ArticleFormSet</span><span class=\"p\">(</span><span class=\"n\">prefix</span><span class=\"o\">=</span><span class=\"s2\">&quot;articles&quot;</span><span class=\"p\">)</span>\n        <span class=\"n\">book_formset</span> <span class=\"o\">=</span> <span class=\"n\">BookFormSet</span><span class=\"p\">(</span><span class=\"n\">prefix</span><span class=\"o\">=</span><span class=\"s2\">&quot;books&quot;</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">render</span><span class=\"p\">(</span>\n        <span class=\"n\">request</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;manage_articles.html&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;article_formset&quot;</span><span class=\"p\">:</span> <span class=\"n\">article_formset</span><span class=\"p\">,</span>\n            <span class=\"s2\">&quot;book_formset&quot;</span><span class=\"p\">:</span> <span class=\"n\">book_formset</span><span class=\"p\">,</span>\n        <span class=\"p\">},</span>\n    <span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>You would then render the formsets as normal. It is important to point out\nthat you need to pass <code class=\"docutils literal notranslate\"><span class=\"pre\">prefix</span></code> on both the POST and non-POST cases so that\nit is rendered and processed correctly.</p>\n<p>Each formset\u2019s <a class=\"reference internal\" href=\"#formset-prefix\"><span class=\"std std-ref\">prefix</span></a> replaces the default <code class=\"docutils literal notranslate\"><span class=\"pre\">form</span></code>\nprefix that\u2019s added to each field\u2019s <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">id</span></code> HTML attributes.</p>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["topics/forms/modelforms", "Creating forms from models", "N", "next"], ["topics/forms/index", "Working with forms", "P", "previous"]], "sourcename": "topics/forms/formsets.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Formsets</a><ul>\n<li><a class=\"reference internal\" href=\"#using-initial-data-with-a-formset\">Using initial data with a formset</a></li>\n<li><a class=\"reference internal\" href=\"#limiting-the-maximum-number-of-forms\">Limiting the maximum number of forms</a></li>\n<li><a class=\"reference internal\" href=\"#limiting-the-maximum-number-of-instantiated-forms\">Limiting the maximum number of instantiated forms</a></li>\n<li><a class=\"reference internal\" href=\"#formset-validation\">Formset validation</a><ul>\n<li><a class=\"reference internal\" href=\"#understanding-the-managementform\">Understanding the <code class=\"docutils literal notranslate\"><span class=\"pre\">ManagementForm</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#total-form-count-and-initial-form-count\"><code class=\"docutils literal notranslate\"><span class=\"pre\">total_form_count</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">initial_form_count</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#empty-form\"><code class=\"docutils literal notranslate\"><span class=\"pre\">empty_form</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#error-messages\"><code class=\"docutils literal notranslate\"><span class=\"pre\">error_messages</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#custom-formset-validation\">Custom formset validation</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#validating-the-number-of-forms-in-a-formset\">Validating the number of forms in a formset</a><ul>\n<li><a class=\"reference internal\" href=\"#validate-max\"><code class=\"docutils literal notranslate\"><span class=\"pre\">validate_max</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#validate-min\"><code class=\"docutils literal notranslate\"><span class=\"pre\">validate_min</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#dealing-with-ordering-and-deletion-of-forms\">Dealing with ordering and deletion of forms</a><ul>\n<li><a class=\"reference internal\" href=\"#can-order\"><code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#ordering-widget\"><code class=\"docutils literal notranslate\"><span class=\"pre\">ordering_widget</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#get-ordering-widget\"><code class=\"docutils literal notranslate\"><span class=\"pre\">get_ordering_widget</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#can-delete\"><code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#deletion-widget\"><code class=\"docutils literal notranslate\"><span class=\"pre\">deletion_widget</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#get-deletion-widget\"><code class=\"docutils literal notranslate\"><span class=\"pre\">get_deletion_widget</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#can-delete-extra\"><code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete_extra</span></code></a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#adding-additional-fields-to-a-formset\">Adding additional fields to a formset</a></li>\n<li><a class=\"reference internal\" href=\"#passing-custom-parameters-to-formset-forms\">Passing custom parameters to formset forms</a></li>\n<li><a class=\"reference internal\" href=\"#customizing-a-formset-s-prefix\">Customizing a formset\u2019s prefix</a></li>\n<li><a class=\"reference internal\" href=\"#using-a-formset-in-views-and-templates\">Using a formset in views and templates</a><ul>\n<li><a class=\"reference internal\" href=\"#manually-rendered-can-delete-and-can-order\">Manually rendered <code class=\"docutils literal notranslate\"><span class=\"pre\">can_delete</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">can_order</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#using-more-than-one-formset-in-a-view\">Using more than one formset in a view</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "topics/forms/formsets", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}