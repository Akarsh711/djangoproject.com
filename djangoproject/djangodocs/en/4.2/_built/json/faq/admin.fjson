{"parents": [{"link": "../", "title": "Django FAQ"}], "prev": {"link": "../models/", "title": "FAQ: Databases and models"}, "next": {"link": "../contributing/", "title": "FAQ: Contributing code"}, "title": "FAQ: The admin", "meta": {}, "body": "<div class=\"section\" id=\"s-faq-the-admin\">\n<span id=\"faq-the-admin\"></span><h1>FAQ: The admin<a class=\"headerlink\" href=\"#faq-the-admin\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"s-i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-just-brings-up-the-login-page-again-with-no-error-messages\">\n<span id=\"i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-just-brings-up-the-login-page-again-with-no-error-messages\"></span><h2>I can\u2019t log in. When I enter a valid username and password, it just brings up the login page again, with no error messages.<a class=\"headerlink\" href=\"#i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-just-brings-up-the-login-page-again-with-no-error-messages\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The login cookie isn\u2019t being set correctly, because the domain of the cookie\nsent out by Django doesn\u2019t match the domain in your browser. Try setting the\n<a class=\"reference internal\" href=\"../../ref/settings/#std-setting-SESSION_COOKIE_DOMAIN\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">SESSION_COOKIE_DOMAIN</span></code></a> setting to match your domain. For example, if\nyou\u2019re going to \u201c<a class=\"reference external\" href=\"https://www.example.com/admin/\">https://www.example.com/admin/</a>\u201d in your browser, set\n<code class=\"docutils literal notranslate\"><span class=\"pre\">SESSION_COOKIE_DOMAIN</span> <span class=\"pre\">=</span> <span class=\"pre\">'www.example.com'</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-brings-up-the-login-page-again-with-a-please-enter-a-correct-username-and-password-error\">\n<span id=\"i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-brings-up-the-login-page-again-with-a-please-enter-a-correct-username-and-password-error\"></span><h2>I can\u2019t log in. When I enter a valid username and password, it brings up the login page again, with a \u201cPlease enter a correct username and password\u201d error.<a class=\"headerlink\" href=\"#i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-brings-up-the-login-page-again-with-a-please-enter-a-correct-username-and-password-error\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>If you\u2019re sure your username and password are correct, make sure your user\naccount has <a class=\"reference internal\" href=\"../../ref/contrib/auth/#django.contrib.auth.models.User.is_active\" title=\"django.contrib.auth.models.User.is_active\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">is_active</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/contrib/auth/#django.contrib.auth.models.User.is_staff\" title=\"django.contrib.auth.models.User.is_staff\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">is_staff</span></code></a> set to True. The admin site\nonly allows access to users with those two fields both set to True.</p>\n</div>\n<div class=\"section\" id=\"s-how-do-i-automatically-set-a-field-s-value-to-the-user-who-last-edited-the-object-in-the-admin\">\n<span id=\"how-do-i-automatically-set-a-field-s-value-to-the-user-who-last-edited-the-object-in-the-admin\"></span><h2>How do I automatically set a field\u2019s value to the user who last edited the object in the admin?<a class=\"headerlink\" href=\"#how-do-i-automatically-set-a-field-s-value-to-the-user-who-last-edited-the-object-in-the-admin\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The <a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin\" title=\"django.contrib.admin.ModelAdmin\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ModelAdmin</span></code></a> class provides customization hooks\nthat allow you to transform an object as it saved, using details from the\nrequest. By extracting the current user from the request, and customizing the\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.save_model\" title=\"django.contrib.admin.ModelAdmin.save_model\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">save_model()</span></code></a> hook, you can update an\nobject to reflect the user that edited it. See <a class=\"reference internal\" href=\"../../ref/contrib/admin/#model-admin-methods\"><span class=\"std std-ref\">the documentation on\nModelAdmin methods</span></a> for an example.</p>\n</div>\n<div class=\"section\" id=\"s-how-do-i-limit-admin-access-so-that-objects-can-only-be-edited-by-the-users-who-created-them\">\n<span id=\"how-do-i-limit-admin-access-so-that-objects-can-only-be-edited-by-the-users-who-created-them\"></span><h2>How do I limit admin access so that objects can only be edited by the users who created them?<a class=\"headerlink\" href=\"#how-do-i-limit-admin-access-so-that-objects-can-only-be-edited-by-the-users-who-created-them\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The <a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin\" title=\"django.contrib.admin.ModelAdmin\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ModelAdmin</span></code></a> class also provides customization\nhooks that allow you to control the visibility and editability of objects in the\nadmin. Using the same trick of extracting the user from the request, the\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.get_queryset\" title=\"django.contrib.admin.ModelAdmin.get_queryset\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_queryset()</span></code></a> and\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.has_change_permission\" title=\"django.contrib.admin.ModelAdmin.has_change_permission\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">has_change_permission()</span></code></a> can be used to\ncontrol the visibility and editability of objects in the admin.</p>\n</div>\n<div class=\"section\" id=\"s-my-admin-site-css-and-images-showed-up-fine-using-the-development-server-but-they-re-not-displaying-when-using-mod-wsgi\">\n<span id=\"my-admin-site-css-and-images-showed-up-fine-using-the-development-server-but-they-re-not-displaying-when-using-mod-wsgi\"></span><h2>My admin-site CSS and images showed up fine using the development server, but they\u2019re not displaying when using mod_wsgi.<a class=\"headerlink\" href=\"#my-admin-site-css-and-images-showed-up-fine-using-the-development-server-but-they-re-not-displaying-when-using-mod-wsgi\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>See <a class=\"reference internal\" href=\"../../howto/deployment/wsgi/modwsgi/#serving-the-admin-files\"><span class=\"std std-ref\">serving the admin files</span></a>\nin the \u201cHow to use Django with mod_wsgi\u201d documentation.</p>\n</div>\n<div class=\"section\" id=\"s-my-list-filter-contains-a-manytomanyfield-but-the-filter-doesn-t-display\">\n<span id=\"my-list-filter-contains-a-manytomanyfield-but-the-filter-doesn-t-display\"></span><h2>My \u201clist_filter\u201d contains a ManyToManyField, but the filter doesn\u2019t display.<a class=\"headerlink\" href=\"#my-list-filter-contains-a-manytomanyfield-but-the-filter-doesn-t-display\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Django won\u2019t bother displaying the filter for a <code class=\"docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code> if there\nare no related objects.</p>\n<p>For example, if your <a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_filter\" title=\"django.contrib.admin.ModelAdmin.list_filter\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">list_filter</span></code></a>\nincludes <a class=\"reference internal\" href=\"../../ref/contrib/sites/\"><span class=\"doc\">sites</span></a>, and there are no sites in your\ndatabase, it won\u2019t display a \u201cSite\u201d filter. In that case, filtering by site\nwould be meaningless.</p>\n</div>\n<div class=\"section\" id=\"s-some-objects-aren-t-appearing-in-the-admin\">\n<span id=\"some-objects-aren-t-appearing-in-the-admin\"></span><h2>Some objects aren\u2019t appearing in the admin.<a class=\"headerlink\" href=\"#some-objects-aren-t-appearing-in-the-admin\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Inconsistent row counts may be caused by missing foreign key values or a\nforeign key field incorrectly set to <a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.Field.null\" title=\"django.db.models.Field.null\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">null=False</span></code></a>. If you have a record with a\n<a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.ForeignKey\" title=\"django.db.models.ForeignKey\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ForeignKey</span></code></a> pointing to a nonexistent object and\nthat foreign key is included is\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.list_display\" title=\"django.contrib.admin.ModelAdmin.list_display\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">list_display</span></code></a>, the record will not be\nshown in the admin changelist because the Django model is declaring an\nintegrity constraint that is not implemented at the database level.</p>\n</div>\n<div class=\"section\" id=\"s-how-can-i-customize-the-functionality-of-the-admin-interface\">\n<span id=\"how-can-i-customize-the-functionality-of-the-admin-interface\"></span><h2>How can I customize the functionality of the admin interface?<a class=\"headerlink\" href=\"#how-can-i-customize-the-functionality-of-the-admin-interface\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>You\u2019ve got several options. If you want to piggyback on top of an add/change\nform that Django automatically generates, you can attach arbitrary JavaScript\nmodules to the page via the model\u2019s class Admin <a class=\"reference internal\" href=\"../../ref/contrib/admin/#modeladmin-asset-definitions\"><span class=\"std std-ref\">js parameter</span></a>. That parameter is a list of URLs, as strings,\npointing to JavaScript modules that will be included within the admin form via\na <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;script&gt;</span></code> tag.</p>\n<p>If you want more flexibility than is feasible by tweaking the auto-generated\nforms, feel free to write custom views for the admin. The admin is powered by\nDjango itself, and you can write custom views that hook into the authentication\nsystem, check permissions and do whatever else they need to do.</p>\n<p>If you want to customize the look-and-feel of the admin interface, read the\nnext question.</p>\n</div>\n<div class=\"section\" id=\"s-the-dynamically-generated-admin-site-is-ugly-how-can-i-change-it\">\n<span id=\"the-dynamically-generated-admin-site-is-ugly-how-can-i-change-it\"></span><h2>The dynamically-generated admin site is ugly! How can I change it?<a class=\"headerlink\" href=\"#the-dynamically-generated-admin-site-is-ugly-how-can-i-change-it\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>We like it, but if you don\u2019t agree, you can modify the admin site\u2019s\npresentation by editing the CSS stylesheet and/or associated image files. The\nsite is built using semantic HTML and plenty of CSS hooks, so any changes you\u2019d\nlike to make should be possible by editing the stylesheet.</p>\n</div>\n<div class=\"section\" id=\"s-what-browsers-are-supported-for-using-the-admin\">\n<span id=\"s-admin-browser-support\"></span><span id=\"what-browsers-are-supported-for-using-the-admin\"></span><span id=\"admin-browser-support\"></span><h2>What browsers are supported for using the admin?<a class=\"headerlink\" href=\"#what-browsers-are-supported-for-using-the-admin\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The admin provides a fully-functional experience to the recent versions of\nmodern, web standards compliant browsers. On desktop this means Chrome, Edge,\nFirefox, Opera, Safari, and others.</p>\n<p>On mobile and tablet devices, the admin provides a responsive experience for\nweb standards compliant browsers. This includes the major browsers on both\nAndroid and iOS.</p>\n<p>Depending on feature support, there <em>may</em> be minor stylistic differences\nbetween browsers. These are considered acceptable variations in rendering.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["faq/contributing", "FAQ: Contributing code", "N", "next"], ["faq/models", "FAQ: Databases and models", "P", "previous"]], "sourcename": "faq/admin.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">FAQ: The admin</a><ul>\n<li><a class=\"reference internal\" href=\"#i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-just-brings-up-the-login-page-again-with-no-error-messages\">I can\u2019t log in. When I enter a valid username and password, it just brings up the login page again, with no error messages.</a></li>\n<li><a class=\"reference internal\" href=\"#i-can-t-log-in-when-i-enter-a-valid-username-and-password-it-brings-up-the-login-page-again-with-a-please-enter-a-correct-username-and-password-error\">I can\u2019t log in. When I enter a valid username and password, it brings up the login page again, with a \u201cPlease enter a correct username and password\u201d error.</a></li>\n<li><a class=\"reference internal\" href=\"#how-do-i-automatically-set-a-field-s-value-to-the-user-who-last-edited-the-object-in-the-admin\">How do I automatically set a field\u2019s value to the user who last edited the object in the admin?</a></li>\n<li><a class=\"reference internal\" href=\"#how-do-i-limit-admin-access-so-that-objects-can-only-be-edited-by-the-users-who-created-them\">How do I limit admin access so that objects can only be edited by the users who created them?</a></li>\n<li><a class=\"reference internal\" href=\"#my-admin-site-css-and-images-showed-up-fine-using-the-development-server-but-they-re-not-displaying-when-using-mod-wsgi\">My admin-site CSS and images showed up fine using the development server, but they\u2019re not displaying when using mod_wsgi.</a></li>\n<li><a class=\"reference internal\" href=\"#my-list-filter-contains-a-manytomanyfield-but-the-filter-doesn-t-display\">My \u201clist_filter\u201d contains a ManyToManyField, but the filter doesn\u2019t display.</a></li>\n<li><a class=\"reference internal\" href=\"#some-objects-aren-t-appearing-in-the-admin\">Some objects aren\u2019t appearing in the admin.</a></li>\n<li><a class=\"reference internal\" href=\"#how-can-i-customize-the-functionality-of-the-admin-interface\">How can I customize the functionality of the admin interface?</a></li>\n<li><a class=\"reference internal\" href=\"#the-dynamically-generated-admin-site-is-ugly-how-can-i-change-it\">The dynamically-generated admin site is ugly! How can I change it?</a></li>\n<li><a class=\"reference internal\" href=\"#what-browsers-are-supported-for-using-the-admin\">What browsers are supported for using the admin?</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "faq/admin", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}