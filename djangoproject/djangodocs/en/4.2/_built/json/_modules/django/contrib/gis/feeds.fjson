{"parents": [{"link": "../../../../", "title": "Module code"}, {"link": "../../../", "title": "django"}], "title": "django.contrib.gis.feeds", "body": "<h1>Source code for django.contrib.gis.feeds</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.syndication.views</span> <span class=\"kn\">import</span> <span class=\"n\">Feed</span> <span class=\"k\">as</span> <span class=\"n\">BaseFeed</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.utils.feedgenerator</span> <span class=\"kn\">import</span> <span class=\"n\">Atom1Feed</span><span class=\"p\">,</span> <span class=\"n\">Rss201rev2Feed</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">GeoFeedMixin</span><span class=\"p\">:</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    This mixin provides the necessary routines for SyndicationFeed subclasses</span>\n<span class=\"sd\">    to produce simple GeoRSS or W3C Geo elements.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">georss_coords</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">coords</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        In GeoRSS coordinate pairs are ordered by lat/lon and separated by</span>\n<span class=\"sd\">        a single white space. Given a tuple of coordinates, return a string</span>\n<span class=\"sd\">        GeoRSS representation.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">return</span> <span class=\"s2\">&quot; &quot;</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"s2\">&quot;</span><span class=\"si\">%f</span><span class=\"s2\"> </span><span class=\"si\">%f</span><span class=\"s2\">&quot;</span> <span class=\"o\">%</span> <span class=\"p\">(</span><span class=\"n\">coord</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"n\">coord</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">])</span> <span class=\"k\">for</span> <span class=\"n\">coord</span> <span class=\"ow\">in</span> <span class=\"n\">coords</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_georss_point</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">        Adds a GeoRSS point with the given coords using the given handler.</span>\n<span class=\"sd\">        Handles the differences between simple GeoRSS and the more popular</span>\n<span class=\"sd\">        W3C Geo specification.</span>\n<span class=\"sd\">        &quot;&quot;&quot;</span>\n        <span class=\"k\">if</span> <span class=\"n\">w3c_geo</span><span class=\"p\">:</span>\n            <span class=\"n\">lon</span><span class=\"p\">,</span> <span class=\"n\">lat</span> <span class=\"o\">=</span> <span class=\"n\">coords</span><span class=\"p\">[:</span><span class=\"mi\">2</span><span class=\"p\">]</span>\n            <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span><span class=\"s2\">&quot;geo:lat&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;</span><span class=\"si\">%f</span><span class=\"s2\">&quot;</span> <span class=\"o\">%</span> <span class=\"n\">lat</span><span class=\"p\">)</span>\n            <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span><span class=\"s2\">&quot;geo:lon&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;</span><span class=\"si\">%f</span><span class=\"s2\">&quot;</span> <span class=\"o\">%</span> <span class=\"n\">lon</span><span class=\"p\">)</span>\n        <span class=\"k\">else</span><span class=\"p\">:</span>\n            <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span><span class=\"s2\">&quot;georss:point&quot;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">georss_coords</span><span class=\"p\">((</span><span class=\"n\">coords</span><span class=\"p\">,)))</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_georss_element</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"kc\">False</span><span class=\"p\">):</span>\n        <span class=\"sd\">&quot;&quot;&quot;Add a GeoRSS XML element using the given item and handler.&quot;&quot;&quot;</span>\n        <span class=\"c1\"># Getting the Geometry object.</span>\n        <span class=\"n\">geom</span> <span class=\"o\">=</span> <span class=\"n\">item</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s2\">&quot;geometry&quot;</span><span class=\"p\">)</span>\n        <span class=\"k\">if</span> <span class=\"n\">geom</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n            <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">,</span> <span class=\"nb\">tuple</span><span class=\"p\">)):</span>\n                <span class=\"c1\"># Special case if a tuple/list was passed in.  The tuple may be</span>\n                <span class=\"c1\"># a point or a box</span>\n                <span class=\"n\">box_coords</span> <span class=\"o\">=</span> <span class=\"kc\">None</span>\n                <span class=\"k\">if</span> <span class=\"nb\">isinstance</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"nb\">list</span><span class=\"p\">,</span> <span class=\"nb\">tuple</span><span class=\"p\">)):</span>\n                    <span class=\"c1\"># Box: ( (X0, Y0), (X1, Y1) )</span>\n                    <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2</span><span class=\"p\">:</span>\n                        <span class=\"n\">box_coords</span> <span class=\"o\">=</span> <span class=\"n\">geom</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s2\">&quot;Only should be two sets of coordinates.&quot;</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">2</span><span class=\"p\">:</span>\n                        <span class=\"c1\"># Point: (X, Y)</span>\n                        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_point</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">geom</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"n\">w3c_geo</span><span class=\"p\">)</span>\n                    <span class=\"k\">elif</span> <span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">)</span> <span class=\"o\">==</span> <span class=\"mi\">4</span><span class=\"p\">:</span>\n                        <span class=\"c1\"># Box: (X0, Y0, X1, Y1)</span>\n                        <span class=\"n\">box_coords</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">[:</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"n\">geom</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">:])</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s2\">&quot;Only should be 2 or 4 numeric elements.&quot;</span><span class=\"p\">)</span>\n                <span class=\"c1\"># If a GeoRSS box was given via tuple.</span>\n                <span class=\"k\">if</span> <span class=\"n\">box_coords</span> <span class=\"ow\">is</span> <span class=\"ow\">not</span> <span class=\"kc\">None</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"n\">w3c_geo</span><span class=\"p\">:</span>\n                        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span>\n                            <span class=\"s2\">&quot;Cannot use simple GeoRSS box in W3C Geo feeds.&quot;</span>\n                        <span class=\"p\">)</span>\n                    <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span>\n                        <span class=\"s2\">&quot;georss:box&quot;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">georss_coords</span><span class=\"p\">(</span><span class=\"n\">box_coords</span><span class=\"p\">)</span>\n                    <span class=\"p\">)</span>\n            <span class=\"k\">else</span><span class=\"p\">:</span>\n                <span class=\"c1\"># Getting the lowercase geometry type.</span>\n                <span class=\"n\">gtype</span> <span class=\"o\">=</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"o\">.</span><span class=\"n\">geom_type</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">lower</span><span class=\"p\">()</span>\n                <span class=\"k\">if</span> <span class=\"n\">gtype</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;point&quot;</span><span class=\"p\">:</span>\n                    <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_point</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">geom</span><span class=\"o\">.</span><span class=\"n\">coords</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"n\">w3c_geo</span><span class=\"p\">)</span>\n                <span class=\"k\">else</span><span class=\"p\">:</span>\n                    <span class=\"k\">if</span> <span class=\"n\">w3c_geo</span><span class=\"p\">:</span>\n                        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span><span class=\"s2\">&quot;W3C Geo only supports Point geometries.&quot;</span><span class=\"p\">)</span>\n                    <span class=\"c1\"># For formatting consistent w/the GeoRSS simple standard:</span>\n                    <span class=\"c1\"># http://georss.org/1.0#simple</span>\n                    <span class=\"k\">if</span> <span class=\"n\">gtype</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"s2\">&quot;linestring&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;linearring&quot;</span><span class=\"p\">):</span>\n                        <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span>\n                            <span class=\"s2\">&quot;georss:line&quot;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">georss_coords</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"o\">.</span><span class=\"n\">coords</span><span class=\"p\">)</span>\n                        <span class=\"p\">)</span>\n                    <span class=\"k\">elif</span> <span class=\"n\">gtype</span> <span class=\"ow\">in</span> <span class=\"p\">(</span><span class=\"s2\">&quot;polygon&quot;</span><span class=\"p\">,):</span>\n                        <span class=\"c1\"># Only support the exterior ring.</span>\n                        <span class=\"n\">handler</span><span class=\"o\">.</span><span class=\"n\">addQuickElement</span><span class=\"p\">(</span>\n                            <span class=\"s2\">&quot;georss:polygon&quot;</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">georss_coords</span><span class=\"p\">(</span><span class=\"n\">geom</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">coords</span><span class=\"p\">)</span>\n                        <span class=\"p\">)</span>\n                    <span class=\"k\">else</span><span class=\"p\">:</span>\n                        <span class=\"k\">raise</span> <span class=\"ne\">ValueError</span><span class=\"p\">(</span>\n                            <span class=\"s1\">&#39;Geometry type &quot;</span><span class=\"si\">%s</span><span class=\"s1\">&quot; not supported.&#39;</span> <span class=\"o\">%</span> <span class=\"n\">geom</span><span class=\"o\">.</span><span class=\"n\">geom_type</span>\n                        <span class=\"p\">)</span>\n\n\n<span class=\"c1\"># ### SyndicationFeed subclasses ###</span>\n<div class=\"viewcode-block\" id=\"GeoRSSFeed\"><a class=\"viewcode-back\" href=\"../../../../../ref/contrib/gis/feeds/#django.contrib.gis.feeds.GeoRSSFeed\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">GeoRSSFeed</span><span class=\"p\">(</span><span class=\"n\">Rss201rev2Feed</span><span class=\"p\">,</span> <span class=\"n\">GeoFeedMixin</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">rss_attributes</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">rss_attributes</span><span class=\"p\">()</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s2\">&quot;xmlns:georss&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;http://www.georss.org/georss&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">attrs</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_item_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_item_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_root_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_root_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">feed</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"GeoAtom1Feed\"><a class=\"viewcode-back\" href=\"../../../../../ref/contrib/gis/feeds/#django.contrib.gis.feeds.GeoAtom1Feed\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">GeoAtom1Feed</span><span class=\"p\">(</span><span class=\"n\">Atom1Feed</span><span class=\"p\">,</span> <span class=\"n\">GeoFeedMixin</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">root_attributes</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">root_attributes</span><span class=\"p\">()</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s2\">&quot;xmlns:georss&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;http://www.georss.org/georss&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">attrs</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_item_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_item_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_root_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_root_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">feed</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"W3CGeoFeed\"><a class=\"viewcode-back\" href=\"../../../../../ref/contrib/gis/feeds/#django.contrib.gis.feeds.W3CGeoFeed\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">W3CGeoFeed</span><span class=\"p\">(</span><span class=\"n\">Rss201rev2Feed</span><span class=\"p\">,</span> <span class=\"n\">GeoFeedMixin</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">rss_attributes</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"n\">attrs</span> <span class=\"o\">=</span> <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">rss_attributes</span><span class=\"p\">()</span>\n        <span class=\"n\">attrs</span><span class=\"p\">[</span><span class=\"s2\">&quot;xmlns:geo&quot;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;http://www.w3.org/2003/01/geo/wgs84_pos#&quot;</span>\n        <span class=\"k\">return</span> <span class=\"n\">attrs</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_item_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_item_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">add_root_elements</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">handler</span><span class=\"p\">):</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">add_root_elements</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">add_georss_element</span><span class=\"p\">(</span><span class=\"n\">handler</span><span class=\"p\">,</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">feed</span><span class=\"p\">,</span> <span class=\"n\">w3c_geo</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span></div>\n\n\n<span class=\"c1\"># ### Feed subclass ###</span>\n<div class=\"viewcode-block\" id=\"Feed\"><a class=\"viewcode-back\" href=\"../../../../../ref/contrib/gis/feeds/#django.contrib.gis.feeds.Feed\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Feed</span><span class=\"p\">(</span><span class=\"n\">BaseFeed</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    This is a subclass of the `Feed` from `django.contrib.syndication`.</span>\n<span class=\"sd\">    This allows users to define a `geometry(obj)` and/or `item_geometry(item)`</span>\n<span class=\"sd\">    methods on their own subclasses so that geo-referenced information may</span>\n<span class=\"sd\">    placed in the feed.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"n\">feed_type</span> <span class=\"o\">=</span> <span class=\"n\">GeoRSSFeed</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">feed_extra_kwargs</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s2\">&quot;geometry&quot;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_dynamic_attr</span><span class=\"p\">(</span><span class=\"s2\">&quot;geometry&quot;</span><span class=\"p\">,</span> <span class=\"n\">obj</span><span class=\"p\">)}</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">item_extra_kwargs</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"s2\">&quot;geometry&quot;</span><span class=\"p\">:</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">_get_dynamic_attr</span><span class=\"p\">(</span><span class=\"s2\">&quot;item_geometry&quot;</span><span class=\"p\">,</span> <span class=\"n\">item</span><span class=\"p\">)}</span></div>\n</pre></div>", "current_page_name": "_modules/django/contrib/gis/feeds", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}