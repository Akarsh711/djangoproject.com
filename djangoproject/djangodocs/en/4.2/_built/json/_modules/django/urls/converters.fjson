{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "django"}], "title": "django.urls.converters", "body": "<h1>Source code for django.urls.converters</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">import</span> <span class=\"nn\">functools</span>\n<span class=\"kn\">import</span> <span class=\"nn\">uuid</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">IntConverter</span><span class=\"p\">:</span>\n    <span class=\"n\">regex</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;[0-9]+&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_python</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">int</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_url</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">StringConverter</span><span class=\"p\">:</span>\n    <span class=\"n\">regex</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;[^/]+&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_python</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_url</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">value</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">UUIDConverter</span><span class=\"p\">:</span>\n    <span class=\"n\">regex</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;[0-9a-f]</span><span class=\"si\">{8}</span><span class=\"s2\">-[0-9a-f]</span><span class=\"si\">{4}</span><span class=\"s2\">-[0-9a-f]</span><span class=\"si\">{4}</span><span class=\"s2\">-[0-9a-f]</span><span class=\"si\">{4}</span><span class=\"s2\">-[0-9a-f]</span><span class=\"si\">{12}</span><span class=\"s2\">&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_python</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">uuid</span><span class=\"o\">.</span><span class=\"n\">UUID</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">to_url</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">value</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">SlugConverter</span><span class=\"p\">(</span><span class=\"n\">StringConverter</span><span class=\"p\">):</span>\n    <span class=\"n\">regex</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;[-a-zA-Z0-9_]+&quot;</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">PathConverter</span><span class=\"p\">(</span><span class=\"n\">StringConverter</span><span class=\"p\">):</span>\n    <span class=\"n\">regex</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;.+&quot;</span>\n\n\n<span class=\"n\">DEFAULT_CONVERTERS</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s2\">&quot;int&quot;</span><span class=\"p\">:</span> <span class=\"n\">IntConverter</span><span class=\"p\">(),</span>\n    <span class=\"s2\">&quot;path&quot;</span><span class=\"p\">:</span> <span class=\"n\">PathConverter</span><span class=\"p\">(),</span>\n    <span class=\"s2\">&quot;slug&quot;</span><span class=\"p\">:</span> <span class=\"n\">SlugConverter</span><span class=\"p\">(),</span>\n    <span class=\"s2\">&quot;str&quot;</span><span class=\"p\">:</span> <span class=\"n\">StringConverter</span><span class=\"p\">(),</span>\n    <span class=\"s2\">&quot;uuid&quot;</span><span class=\"p\">:</span> <span class=\"n\">UUIDConverter</span><span class=\"p\">(),</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"n\">REGISTERED_CONVERTERS</span> <span class=\"o\">=</span> <span class=\"p\">{}</span>\n\n\n<div class=\"viewcode-block\" id=\"register_converter\"><a class=\"viewcode-back\" href=\"../../../../ref/urls/#django.urls.register_converter\">[docs]</a><span class=\"k\">def</span> <span class=\"nf\">register_converter</span><span class=\"p\">(</span><span class=\"n\">converter</span><span class=\"p\">,</span> <span class=\"n\">type_name</span><span class=\"p\">):</span>\n    <span class=\"n\">REGISTERED_CONVERTERS</span><span class=\"p\">[</span><span class=\"n\">type_name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">converter</span><span class=\"p\">()</span>\n    <span class=\"n\">get_converters</span><span class=\"o\">.</span><span class=\"n\">cache_clear</span><span class=\"p\">()</span></div>\n\n\n<span class=\"nd\">@functools</span><span class=\"o\">.</span><span class=\"n\">cache</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_converters</span><span class=\"p\">():</span>\n    <span class=\"k\">return</span> <span class=\"p\">{</span><span class=\"o\">**</span><span class=\"n\">DEFAULT_CONVERTERS</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">REGISTERED_CONVERTERS</span><span class=\"p\">}</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">get_converter</span><span class=\"p\">(</span><span class=\"n\">raw_converter</span><span class=\"p\">):</span>\n    <span class=\"k\">return</span> <span class=\"n\">get_converters</span><span class=\"p\">()[</span><span class=\"n\">raw_converter</span><span class=\"p\">]</span>\n</pre></div>", "current_page_name": "_modules/django/urls/converters", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
