{"parents": [{"link": "../../", "title": "Using Django"}, {"link": "../", "title": "Handling HTTP requests"}], "prev": {"link": "../file-uploads/", "title": "File Uploads"}, "next": {"link": "../generic-views/", "title": "Generic views"}, "title": "Django shortcut functions", "meta": {}, "body": "<div class=\"section\" id=\"s-module-django.shortcuts\">\n<span id=\"s-django-shortcut-functions\"></span><span id=\"module-django.shortcuts\"></span><span id=\"django-shortcut-functions\"></span><h1>Django shortcut functions<a class=\"headerlink\" href=\"#module-django.shortcuts\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p id=\"index-0\">The package <code class=\"docutils literal notranslate\"><span class=\"pre\">django.shortcuts</span></code> collects helper functions and classes that\n\u201cspan\u201d multiple levels of MVC. In other words, these functions/classes\nintroduce controlled coupling for convenience\u2019s sake.</p>\n<div class=\"section\" id=\"s-render\">\n<span id=\"render\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">render()</span></code><a class=\"headerlink\" href=\"#render\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"django.shortcuts.render\">\n<code class=\"sig-name descname\"><span class=\"pre\">render</span></code>(<em><span class=\"n\"><span class=\"pre\">request</span></span></em>, <em><span class=\"n\"><span class=\"pre\">template_name</span></span></em>, <em><span class=\"n\"><span class=\"pre\">context</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">content_type</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">status</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">using</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/shortcuts/#render\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.shortcuts.render\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Combines a given template with a given context dictionary and returns an\n<a class=\"reference internal\" href=\"../../../ref/request-response/#django.http.HttpResponse\" title=\"django.http.HttpResponse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HttpResponse</span></code></a> object with that rendered text.</p>\n<p>Django does not provide a shortcut function which returns a\n<a class=\"reference internal\" href=\"../../../ref/template-response/#django.template.response.TemplateResponse\" title=\"django.template.response.TemplateResponse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TemplateResponse</span></code></a> because the constructor\nof <a class=\"reference internal\" href=\"../../../ref/template-response/#django.template.response.TemplateResponse\" title=\"django.template.response.TemplateResponse\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">TemplateResponse</span></code></a> offers the same level\nof convenience as <a class=\"reference internal\" href=\"#django.shortcuts.render\" title=\"django.shortcuts.render\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">render()</span></code></a>.</p>\n</dd></dl>\n\n<div class=\"section\" id=\"s-required-arguments\">\n<span id=\"required-arguments\"></span><h3>Required arguments<a class=\"headerlink\" href=\"#required-arguments\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"docutils\">\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">request</span></code></dt><dd>The request object used to generate this response.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">template_name</span></code></dt><dd>The full name of a template to use or sequence of template names. If a\nsequence is given, the first template that exists will be used. See the\n<a class=\"reference internal\" href=\"../../templates/#template-loading\"><span class=\"std std-ref\">template loading documentation</span></a> for more\ninformation on how templates are found.</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"s-optional-arguments\">\n<span id=\"optional-arguments\"></span><h3>Optional arguments<a class=\"headerlink\" href=\"#optional-arguments\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"docutils\">\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">context</span></code></dt><dd>A dictionary of values to add to the template context. By default, this\nis an empty dictionary. If a value in the dictionary is callable, the\nview will call it just before rendering the template.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">content_type</span></code></dt><dd>The MIME type to use for the resulting document. Defaults to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">'text/html'</span></code>.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">status</span></code></dt><dd>The status code for the response. Defaults to <code class=\"docutils literal notranslate\"><span class=\"pre\">200</span></code>.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">using</span></code></dt><dd>The <a class=\"reference internal\" href=\"../../../ref/settings/#std-setting-TEMPLATES-NAME\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">NAME</span></code></a> of a template engine to use for\nloading the template.</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"s-example\">\n<span id=\"example\"></span><h3>Example<a class=\"headerlink\" href=\"#example\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following example renders the template <code class=\"docutils literal notranslate\"><span class=\"pre\">myapp/index.html</span></code> with the\nMIME type <em class=\"mimetype\">application/xhtml+xml</em>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">render</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"c1\"># View code here...</span>\n    <span class=\"k\">return</span> <span class=\"n\">render</span><span class=\"p\">(</span>\n        <span class=\"n\">request</span><span class=\"p\">,</span>\n        <span class=\"s2\">&quot;myapp/index.html&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">{</span>\n            <span class=\"s2\">&quot;foo&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;bar&quot;</span><span class=\"p\">,</span>\n        <span class=\"p\">},</span>\n        <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;application/xhtml+xml&quot;</span><span class=\"p\">,</span>\n    <span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This example is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.http</span> <span class=\"kn\">import</span> <span class=\"n\">HttpResponse</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.template</span> <span class=\"kn\">import</span> <span class=\"n\">loader</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"c1\"># View code here...</span>\n    <span class=\"n\">t</span> <span class=\"o\">=</span> <span class=\"n\">loader</span><span class=\"o\">.</span><span class=\"n\">get_template</span><span class=\"p\">(</span><span class=\"s2\">&quot;myapp/index.html&quot;</span><span class=\"p\">)</span>\n    <span class=\"n\">c</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s2\">&quot;foo&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;bar&quot;</span><span class=\"p\">}</span>\n    <span class=\"k\">return</span> <span class=\"n\">HttpResponse</span><span class=\"p\">(</span><span class=\"n\">t</span><span class=\"o\">.</span><span class=\"n\">render</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"p\">),</span> <span class=\"n\">content_type</span><span class=\"o\">=</span><span class=\"s2\">&quot;application/xhtml+xml&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-redirect\">\n<span id=\"redirect\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">redirect()</span></code><a class=\"headerlink\" href=\"#redirect\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"django.shortcuts.redirect\">\n<code class=\"sig-name descname\"><span class=\"pre\">redirect</span></code>(<em><span class=\"n\"><span class=\"pre\">to</span></span></em>, <em><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em><span class=\"n\"><span class=\"pre\">permanent</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">False</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/shortcuts/#redirect\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.shortcuts.redirect\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns an <a class=\"reference internal\" href=\"../../../ref/request-response/#django.http.HttpResponseRedirect\" title=\"django.http.HttpResponseRedirect\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">HttpResponseRedirect</span></code></a> to the appropriate URL\nfor the arguments passed.</p>\n<p>The arguments could be:</p>\n<ul class=\"simple\">\n<li>A model: the model\u2019s <a class=\"reference internal\" href=\"../../../ref/models/instances/#django.db.models.Model.get_absolute_url\" title=\"django.db.models.Model.get_absolute_url\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_absolute_url()</span></code></a>\nfunction will be called.</li>\n<li>A view name, possibly with arguments: <a class=\"reference internal\" href=\"../../../ref/urlresolvers/#django.urls.reverse\" title=\"django.urls.reverse\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">reverse()</span></code></a> will be\nused to reverse-resolve the name.</li>\n<li>An absolute or relative URL, which will be used as-is for the redirect\nlocation.</li>\n</ul>\n<p>By default issues a temporary redirect; pass <code class=\"docutils literal notranslate\"><span class=\"pre\">permanent=True</span></code> to issue a\npermanent redirect.</p>\n</dd></dl>\n\n<div class=\"section\" id=\"s-examples\">\n<span id=\"examples\"></span><h3>Examples<a class=\"headerlink\" href=\"#examples\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>You can use the <a class=\"reference internal\" href=\"#django.shortcuts.redirect\" title=\"django.shortcuts.redirect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">redirect()</span></code></a> function in a number of ways.</p>\n<ol class=\"arabic\">\n<li><p class=\"first\">By passing some object; that object\u2019s\n<a class=\"reference internal\" href=\"../../../ref/models/instances/#django.db.models.Model.get_absolute_url\" title=\"django.db.models.Model.get_absolute_url\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_absolute_url()</span></code></a> method will be called\nto figure out the redirect URL:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">redirect</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"n\">obj</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">By passing the name of a view and optionally some positional or\nkeyword arguments; the URL will be reverse resolved using the\n<a class=\"reference internal\" href=\"../../../ref/urlresolvers/#django.urls.reverse\" title=\"django.urls.reverse\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">reverse()</span></code></a> method:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"s2\">&quot;some-view-name&quot;</span><span class=\"p\">,</span> <span class=\"n\">foo</span><span class=\"o\">=</span><span class=\"s2\">&quot;bar&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</li>\n<li><p class=\"first\">By passing a hardcoded URL to redirect to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"s2\">&quot;/some/url/&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This also works with full URLs:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"s2\">&quot;https://example.com/&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</li>\n</ol>\n<p>By default, <a class=\"reference internal\" href=\"#django.shortcuts.redirect\" title=\"django.shortcuts.redirect\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">redirect()</span></code></a> returns a temporary redirect. All of the above\nforms accept a <code class=\"docutils literal notranslate\"><span class=\"pre\">permanent</span></code> argument; if set to <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> a permanent redirect\nwill be returned:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"o\">...</span>\n    <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"o\">...</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">redirect</span><span class=\"p\">(</span><span class=\"n\">obj</span><span class=\"p\">,</span> <span class=\"n\">permanent</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-get-object-or-404\">\n<span id=\"get-object-or-404\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">get_object_or_404()</span></code><a class=\"headerlink\" href=\"#get-object-or-404\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"django.shortcuts.get_object_or_404\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_object_or_404</span></code>(<em><span class=\"n\"><span class=\"pre\">klass</span></span></em>, <em><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/shortcuts/#get_object_or_404\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.shortcuts.get_object_or_404\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Calls <a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.query.QuerySet.get\" title=\"django.db.models.query.QuerySet.get\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get()</span></code></a> on a given model manager,\nbut it raises <a class=\"reference internal\" href=\"../views/#django.http.Http404\" title=\"django.http.Http404\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Http404</span></code></a> instead of the model\u2019s\n<a class=\"reference internal\" href=\"../../../ref/models/class/#django.db.models.Model.DoesNotExist\" title=\"django.db.models.Model.DoesNotExist\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DoesNotExist</span></code></a> exception.</p>\n</dd></dl>\n\n<div class=\"section\" id=\"s-arguments\">\n<span id=\"arguments\"></span><h3>Arguments<a class=\"headerlink\" href=\"#arguments\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"docutils\">\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">klass</span></code></dt><dd>A <a class=\"reference internal\" href=\"../../../ref/models/instances/#django.db.models.Model\" title=\"django.db.models.Model\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Model</span></code></a> class,\na <a class=\"reference internal\" href=\"../../db/managers/#django.db.models.Manager\" title=\"django.db.models.Manager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Manager</span></code></a>,\nor a <a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.query.QuerySet\" title=\"django.db.models.query.QuerySet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code></a> instance from which to get\nthe object.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">*args</span></code></dt><dd><a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.Q\" title=\"django.db.models.Q\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Q</span> <span class=\"pre\">objects</span></code></a>.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">**kwargs</span></code></dt><dd>Lookup parameters, which should be in the format accepted by <code class=\"docutils literal notranslate\"><span class=\"pre\">get()</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">filter()</span></code>.</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"s-id1\">\n<span id=\"id1\"></span><h3>Example<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following example gets the object with the primary key of 1 from\n<code class=\"docutils literal notranslate\"><span class=\"pre\">MyModel</span></code>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">get_object_or_404</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">get_object_or_404</span><span class=\"p\">(</span><span class=\"n\">MyModel</span><span class=\"p\">,</span> <span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This example is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.http</span> <span class=\"kn\">import</span> <span class=\"n\">Http404</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"k\">try</span><span class=\"p\">:</span>\n        <span class=\"n\">obj</span> <span class=\"o\">=</span> <span class=\"n\">MyModel</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n    <span class=\"k\">except</span> <span class=\"n\">MyModel</span><span class=\"o\">.</span><span class=\"n\">DoesNotExist</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"n\">Http404</span><span class=\"p\">(</span><span class=\"s2\">&quot;No MyModel matches the given query.&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The most common use case is to pass a <a class=\"reference internal\" href=\"../../../ref/models/instances/#django.db.models.Model\" title=\"django.db.models.Model\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Model</span></code></a>, as\nshown above. However, you can also pass a\n<a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.query.QuerySet\" title=\"django.db.models.query.QuerySet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code></a> instance:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">queryset</span> <span class=\"o\">=</span> <span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">title__startswith</span><span class=\"o\">=</span><span class=\"s2\">&quot;M&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">get_object_or_404</span><span class=\"p\">(</span><span class=\"n\">queryset</span><span class=\"p\">,</span> <span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>The above example is a bit contrived since it\u2019s equivalent to doing:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">get_object_or_404</span><span class=\"p\">(</span><span class=\"n\">Book</span><span class=\"p\">,</span> <span class=\"n\">title__startswith</span><span class=\"o\">=</span><span class=\"s2\">&quot;M&quot;</span><span class=\"p\">,</span> <span class=\"n\">pk</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>but it can be useful if you are passed the <code class=\"docutils literal notranslate\"><span class=\"pre\">queryset</span></code> variable from somewhere\nelse.</p>\n<p>Finally, you can also use a <a class=\"reference internal\" href=\"../../db/managers/#django.db.models.Manager\" title=\"django.db.models.Manager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Manager</span></code></a>. This is useful\nfor example if you have a\n<a class=\"reference internal\" href=\"../../db/managers/#custom-managers\"><span class=\"std std-ref\">custom manager</span></a>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">get_object_or_404</span><span class=\"p\">(</span><span class=\"n\">Book</span><span class=\"o\">.</span><span class=\"n\">dahl_objects</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">&quot;Matilda&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>You can also use\n<a class=\"reference internal\" href=\"../../../ref/models/relations/#django.db.models.fields.related.RelatedManager\" title=\"django.db.models.fields.related.RelatedManager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">related</span> <span class=\"pre\">managers</span></code></a>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">author</span> <span class=\"o\">=</span> <span class=\"n\">Author</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"o\">=</span><span class=\"s2\">&quot;Roald Dahl&quot;</span><span class=\"p\">)</span>\n<span class=\"n\">get_object_or_404</span><span class=\"p\">(</span><span class=\"n\">author</span><span class=\"o\">.</span><span class=\"n\">book_set</span><span class=\"p\">,</span> <span class=\"n\">title</span><span class=\"o\">=</span><span class=\"s2\">&quot;Matilda&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>Note: As with <code class=\"docutils literal notranslate\"><span class=\"pre\">get()</span></code>, a\n<a class=\"reference internal\" href=\"../../../ref/exceptions/#django.core.exceptions.MultipleObjectsReturned\" title=\"django.core.exceptions.MultipleObjectsReturned\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">MultipleObjectsReturned</span></code></a> exception\nwill be raised if more than one object is found.</p>\n</div>\n</div>\n<div class=\"section\" id=\"s-get-list-or-404\">\n<span id=\"get-list-or-404\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">get_list_or_404()</span></code><a class=\"headerlink\" href=\"#get-list-or-404\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"django.shortcuts.get_list_or_404\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_list_or_404</span></code>(<em><span class=\"n\"><span class=\"pre\">klass</span></span></em>, <em><span class=\"o\"><span class=\"pre\">*</span></span><span class=\"n\"><span class=\"pre\">args</span></span></em>, <em><span class=\"o\"><span class=\"pre\">**</span></span><span class=\"n\"><span class=\"pre\">kwargs</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/shortcuts/#get_list_or_404\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.shortcuts.get_list_or_404\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the result of <a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.query.QuerySet.filter\" title=\"django.db.models.query.QuerySet.filter\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">filter()</span></code></a> on a\ngiven model manager cast to a list, raising <a class=\"reference internal\" href=\"../views/#django.http.Http404\" title=\"django.http.Http404\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Http404</span></code></a> if\nthe resulting list is empty.</p>\n</dd></dl>\n\n<div class=\"section\" id=\"s-id2\">\n<span id=\"id2\"></span><h3>Arguments<a class=\"headerlink\" href=\"#id2\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<dl class=\"docutils\">\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">klass</span></code></dt><dd>A <a class=\"reference internal\" href=\"../../../ref/models/instances/#django.db.models.Model\" title=\"django.db.models.Model\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Model</span></code></a>, <a class=\"reference internal\" href=\"../../db/managers/#django.db.models.Manager\" title=\"django.db.models.Manager\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Manager</span></code></a> or\n<a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.query.QuerySet\" title=\"django.db.models.query.QuerySet\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">QuerySet</span></code></a> instance from which to get the\nlist.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">*args</span></code></dt><dd><a class=\"reference internal\" href=\"../../../ref/models/querysets/#django.db.models.Q\" title=\"django.db.models.Q\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Q</span> <span class=\"pre\">objects</span></code></a>.</dd>\n<dt><code class=\"docutils literal notranslate\"><span class=\"pre\">**kwargs</span></code></dt><dd>Lookup parameters, which should be in the format accepted by <code class=\"docutils literal notranslate\"><span class=\"pre\">get()</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">filter()</span></code>.</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"s-id3\">\n<span id=\"id3\"></span><h3>Example<a class=\"headerlink\" href=\"#id3\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The following example gets all published objects from <code class=\"docutils literal notranslate\"><span class=\"pre\">MyModel</span></code>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.shortcuts</span> <span class=\"kn\">import</span> <span class=\"n\">get_list_or_404</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"n\">my_objects</span> <span class=\"o\">=</span> <span class=\"n\">get_list_or_404</span><span class=\"p\">(</span><span class=\"n\">MyModel</span><span class=\"p\">,</span> <span class=\"n\">published</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n<p>This example is equivalent to:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.http</span> <span class=\"kn\">import</span> <span class=\"n\">Http404</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">my_view</span><span class=\"p\">(</span><span class=\"n\">request</span><span class=\"p\">):</span>\n    <span class=\"n\">my_objects</span> <span class=\"o\">=</span> <span class=\"nb\">list</span><span class=\"p\">(</span><span class=\"n\">MyModel</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">published</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n    <span class=\"k\">if</span> <span class=\"ow\">not</span> <span class=\"n\">my_objects</span><span class=\"p\">:</span>\n        <span class=\"k\">raise</span> <span class=\"n\">Http404</span><span class=\"p\">(</span><span class=\"s2\">&quot;No MyModel matches the given query.&quot;</span><span class=\"p\">)</span>\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["topics/http/generic-views", "Generic views", "N", "next"], ["topics/http/file-uploads", "File Uploads", "P", "previous"]], "sourcename": "topics/http/shortcuts.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django shortcut functions</a><ul>\n<li><a class=\"reference internal\" href=\"#render\"><code class=\"docutils literal notranslate\"><span class=\"pre\">render()</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#required-arguments\">Required arguments</a></li>\n<li><a class=\"reference internal\" href=\"#optional-arguments\">Optional arguments</a></li>\n<li><a class=\"reference internal\" href=\"#example\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#redirect\"><code class=\"docutils literal notranslate\"><span class=\"pre\">redirect()</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#examples\">Examples</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#get-object-or-404\"><code class=\"docutils literal notranslate\"><span class=\"pre\">get_object_or_404()</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#arguments\">Arguments</a></li>\n<li><a class=\"reference internal\" href=\"#id1\">Example</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#get-list-or-404\"><code class=\"docutils literal notranslate\"><span class=\"pre\">get_list_or_404()</span></code></a><ul>\n<li><a class=\"reference internal\" href=\"#id2\">Arguments</a></li>\n<li><a class=\"reference internal\" href=\"#id3\">Example</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "topics/http/shortcuts", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}