{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../1.3.7/", "title": "Django 1.3.7 release notes"}, "next": {"link": "../1.3.5/", "title": "Django 1.3.5 release notes"}, "title": "Django 1.3.6 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-1-3-6-release-notes\">\n<span id=\"django-1-3-6-release-notes\"></span><h1>Django 1.3.6 release notes<a class=\"headerlink\" href=\"#django-1-3-6-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>February 19, 2013</em></p>\n<p>Django 1.3.6 fixes four security issues present in previous Django releases in\nthe 1.3 series.</p>\n<p>This is the sixth bugfix/security release in the Django 1.3 series.</p>\n<div class=\"section\" id=\"s-host-header-poisoning\">\n<span id=\"host-header-poisoning\"></span><h2>Host header poisoning<a class=\"headerlink\" href=\"#host-header-poisoning\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Some parts of Django \u2013 independent of end-user-written applications \u2013 make\nuse of full URLs, including domain name, which are generated from the HTTP Host\nheader. Django\u2019s documentation has for some time contained notes advising users\non how to configure web servers to ensure that only valid Host headers can reach\nthe Django application. However, it has been reported to us that even with the\nrecommended web server configurations there are still techniques available for\ntricking many common web servers into supplying the application with an\nincorrect and possibly malicious Host header.</p>\n<p>For this reason, Django 1.3.6 adds a new setting, <code class=\"docutils literal notranslate\"><span class=\"pre\">ALLOWED_HOSTS</span></code>, which\nshould contain an explicit list of valid host/domain names for this site. A\nrequest with a Host header not matching an entry in this list will raise\n<code class=\"docutils literal notranslate\"><span class=\"pre\">SuspiciousOperation</span></code> if <code class=\"docutils literal notranslate\"><span class=\"pre\">request.get_host()</span></code> is called. For full details\nsee the documentation for the <a class=\"reference internal\" href=\"../../ref/settings/#std-setting-ALLOWED_HOSTS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">ALLOWED_HOSTS</span></code></a> setting.</p>\n<p>The default value for this setting in Django 1.3.6 is <code class=\"docutils literal notranslate\"><span class=\"pre\">['*']</span></code> (matching any\nhost), for backwards-compatibility, but we strongly encourage all sites to set\na more restrictive value.</p>\n<p>This host validation is disabled when <code class=\"docutils literal notranslate\"><span class=\"pre\">DEBUG</span></code> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> or when running tests.</p>\n</div>\n<div class=\"section\" id=\"s-xml-deserialization\">\n<span id=\"xml-deserialization\"></span><h2>XML deserialization<a class=\"headerlink\" href=\"#xml-deserialization\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>The XML parser in the Python standard library is vulnerable to a number of\nattacks via external entities and entity expansion. Django uses this parser for\ndeserializing XML-formatted database fixtures. The fixture deserializer is not\nintended for use with untrusted data, but in order to err on the side of safety\nin Django 1.3.6 the XML deserializer refuses to parse an XML document with a\nDTD (DOCTYPE definition), which closes off these attack avenues.</p>\n<p>These issues in the Python standard library are CVE-2013-1664 and\nCVE-2013-1665. More information available <a class=\"reference external\" href=\"https://blog.python.org/2013/02/announcing-defusedxml-fixes-for-xml.html\">from the Python security team</a>.</p>\n<p>Django\u2019s XML serializer does not create documents with a DTD, so this should\nnot cause any issues with the typical round-trip from <code class=\"docutils literal notranslate\"><span class=\"pre\">dumpdata</span></code> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">loaddata</span></code>, but if you feed your own XML documents to the <code class=\"docutils literal notranslate\"><span class=\"pre\">loaddata</span></code>\nmanagement command, you will need to ensure they do not contain a DTD.</p>\n</div>\n<div class=\"section\" id=\"s-formset-memory-exhaustion\">\n<span id=\"formset-memory-exhaustion\"></span><h2>Formset memory exhaustion<a class=\"headerlink\" href=\"#formset-memory-exhaustion\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Previous versions of Django did not validate or limit the form-count data\nprovided by the client in a formset\u2019s management form, making it possible to\nexhaust a server\u2019s available memory by forcing it to create very large numbers\nof forms.</p>\n<p>In Django 1.3.6, all formsets have a strictly-enforced maximum number of forms\n(1000 by default, though it can be set higher via the <code class=\"docutils literal notranslate\"><span class=\"pre\">max_num</span></code> formset\nfactory argument).</p>\n</div>\n<div class=\"section\" id=\"s-admin-history-view-information-leakage\">\n<span id=\"admin-history-view-information-leakage\"></span><h2>Admin history view information leakage<a class=\"headerlink\" href=\"#admin-history-view-information-leakage\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>In previous versions of Django, an admin user without change permission on a\nmodel could still view the Unicode representation of instances via their admin\nhistory log. Django 1.3.6 now limits the admin history log view for an object\nto users with change permission for that model.</p>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/1.3.5", "Django 1.3.5 release notes", "N", "next"], ["releases/1.3.7", "Django 1.3.7 release notes", "P", "previous"]], "sourcename": "releases/1.3.6.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 1.3.6 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#host-header-poisoning\">Host header poisoning</a></li>\n<li><a class=\"reference internal\" href=\"#xml-deserialization\">XML deserialization</a></li>\n<li><a class=\"reference internal\" href=\"#formset-memory-exhaustion\">Formset memory exhaustion</a></li>\n<li><a class=\"reference internal\" href=\"#admin-history-view-information-leakage\">Admin history view information leakage</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/1.3.6", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
