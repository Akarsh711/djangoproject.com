{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../1.8.2/", "title": "Django 1.8.2 release notes"}, "next": {"link": "../1.8/", "title": "Django 1.8 release notes"}, "title": "Django 1.8.1 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-1-8-1-release-notes\">\n<span id=\"django-1-8-1-release-notes\"></span><h1>Django 1.8.1 release notes<a class=\"headerlink\" href=\"#django-1-8-1-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>May 1, 2015</em></p>\n<p>Django 1.8.1 fixes several bugs in 1.8 and includes some optimizations in the\nmigrations framework.</p>\n<div class=\"section\" id=\"s-bugfixes\">\n<span id=\"bugfixes\"></span><h2>Bugfixes<a class=\"headerlink\" href=\"#bugfixes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li>Added support for serializing <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.timedelta\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">timedelta</span></code></a> objects in\nmigrations (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24566\">#24566</a>).</li>\n<li>Restored proper parsing of the <a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-testserver\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">testserver</span></code></a> command\u2019s positional\narguments (fixture names) (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24571\">#24571</a>).</li>\n<li>Prevented <code class=\"docutils literal notranslate\"><span class=\"pre\">TypeError</span></code> in translation functions <code class=\"docutils literal notranslate\"><span class=\"pre\">check_for_language()</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">get_language_bidi()</span></code> when translations are deactivated (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24569\">#24569</a>).</li>\n<li>Fixed <a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-squashmigrations\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">squashmigrations</span></code></a> command when using\n<a class=\"reference internal\" href=\"../../ref/migration-operations/#django.db.migrations.operations.SeparateDatabaseAndState\" title=\"django.db.migrations.operations.SeparateDatabaseAndState\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">SeparateDatabaseAndState</span></code></a>\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24278\">#24278</a>).</li>\n<li>Stripped microseconds from <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code> values when using an older version of\nthe MySQLdb DB API driver as it does not support fractional seconds\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24584\">#24584</a>).</li>\n<li>Fixed a migration crash when altering\n<a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.ManyToManyField\" title=\"django.db.models.ManyToManyField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ManyToManyField</span></code></a>s (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24513\">#24513</a>).</li>\n<li>Fixed a crash with <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.update()</span></code> on foreign keys to one-to-one fields\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24578\">#24578</a>).</li>\n<li>Fixed a regression in the model detail view of\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/admindocs/#module-django.contrib.admindocs\" title=\"django.contrib.admindocs: Django's admin documentation generator.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">admindocs</span></code></a> when a model has a reverse foreign key\nrelation (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24624\">#24624</a>).</li>\n<li>Prevented arbitrary file inclusions in <a class=\"reference internal\" href=\"../../ref/contrib/admin/admindocs/#module-django.contrib.admindocs\" title=\"django.contrib.admindocs: Django's admin documentation generator.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">admindocs</span></code></a>\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24625\">#24625</a>).</li>\n<li>Fixed a crash with <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.update()</span></code> on foreign keys to instances with\n<code class=\"docutils literal notranslate\"><span class=\"pre\">uuid</span></code> primary keys (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24611\">#24611</a>).</li>\n<li>Fixed database introspection with SQLite 3.8.9 (released April 8, 2015)\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24637\">#24637</a>).</li>\n<li>Updated <code class=\"docutils literal notranslate\"><span class=\"pre\">urlpatterns</span></code> examples generated by <a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-startproject\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">startproject</span></code></a> to\nremove usage of referencing views by dotted path in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.conf.urls.url()</span></code> which is deprecated in Django 1.8\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24635\">#24635</a>).</li>\n<li>Fixed queries where an expression was referenced in <code class=\"docutils literal notranslate\"><span class=\"pre\">order_by()</span></code>, but wasn\u2019t\npart of the select clause. An example query is\n<code class=\"docutils literal notranslate\"><span class=\"pre\">qs.annotate(foo=F('field')).values('pk').order_by('foo'))</span></code> (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24615\">#24615</a>).</li>\n<li>Fixed a database table name quoting regression (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24605\">#24605</a>).</li>\n<li>Prevented the loss of <code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code>/<code class=\"docutils literal notranslate\"><span class=\"pre\">not</span> <span class=\"pre\">null</span></code> column properties during field\nalteration of MySQL databases (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24595\">#24595</a>).</li>\n<li>Fixed JavaScript path of <code class=\"docutils literal notranslate\"><span class=\"pre\">contrib.admin</span></code>\u2019s related field widget when using\nalternate static file storages (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24655\">#24655</a>).</li>\n<li>Fixed a migration crash when adding new relations to models\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24573\">#24573</a>).</li>\n<li>Fixed a migration crash when applying migrations with model managers on\nPython 3 that were generated on Python 2 (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24701\">#24701</a>).</li>\n<li>Restored the ability to use iterators as queryset filter arguments\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24719\">#24719</a>).</li>\n<li>Fixed a migration crash when renaming the target model of a many-to-many\nrelation (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24725\">#24725</a>).</li>\n<li>Removed flushing of the test database with <a class=\"reference internal\" href=\"../../ref/django-admin/#cmdoption-test-keepdb\"><code class=\"xref std std-option docutils literal notranslate\"><span class=\"pre\">test</span> <span class=\"pre\">--keepdb</span></code></a>, which\nprevented apps with data migrations from using the option (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24729\">#24729</a>).</li>\n<li>Fixed <code class=\"docutils literal notranslate\"><span class=\"pre\">makemessages</span></code> crash in some locales (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/23271\">#23271</a>).</li>\n<li>Fixed help text positioning of <code class=\"docutils literal notranslate\"><span class=\"pre\">contrib.admin</span></code> fields that use the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ModelAdmin.filter_horizontal</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">filter_vertical</span></code> options\n(<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24676\">#24676</a>).</li>\n<li>Fixed <code class=\"docutils literal notranslate\"><span class=\"pre\">AttributeError:</span> <span class=\"pre\">function</span> <span class=\"pre\">'GDALAllRegister'</span> <span class=\"pre\">not</span> <span class=\"pre\">found</span></code> error when\ninitializing <code class=\"docutils literal notranslate\"><span class=\"pre\">contrib.gis</span></code> on Windows.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-optimizations\">\n<span id=\"optimizations\"></span><h2>Optimizations<a class=\"headerlink\" href=\"#optimizations\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<ul class=\"simple\">\n<li>Changed <code class=\"docutils literal notranslate\"><span class=\"pre\">ModelState</span></code> to deepcopy fields instead of deconstructing and\nreconstructing (<a class=\"reference external\" href=\"https://code.djangoproject.com/ticket/24591\">#24591</a>). This speeds up the rendering of model\nstates and reduces memory usage when running <a class=\"reference internal\" href=\"../../ref/django-admin/#django-admin-migrate\"><code class=\"xref std std-djadmin docutils literal notranslate\"><span class=\"pre\">manage.py</span> <span class=\"pre\">migrate</span></code></a> (although other changes in this release may negate any performance\nbenefits).</li>\n</ul>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/1.8", "Django 1.8 release notes", "N", "next"], ["releases/1.8.2", "Django 1.8.2 release notes", "P", "previous"]], "sourcename": "releases/1.8.1.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 1.8.1 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#bugfixes\">Bugfixes</a></li>\n<li><a class=\"reference internal\" href=\"#optimizations\">Optimizations</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/1.8.1", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
