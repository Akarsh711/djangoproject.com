{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../", "title": "Release notes"}, "next": {"link": "../4.2.3/", "title": "Django 4.2.3 release notes"}, "title": "Django 5.0 release notes - UNDER DEVELOPMENT", "meta": {}, "body": "<div class=\"section\" id=\"s-django-5-0-release-notes-under-development\">\n<span id=\"django-5-0-release-notes-under-development\"></span><h1>Django 5.0 release notes - UNDER DEVELOPMENT<a class=\"headerlink\" href=\"#django-5-0-release-notes-under-development\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><em>Expected December 2023</em></p>\n<p>Welcome to Django 5.0!</p>\n<p>These release notes cover the <a class=\"reference internal\" href=\"#whats-new-5-0\"><span class=\"std std-ref\">new features</span></a>, as well as\nsome <a class=\"reference internal\" href=\"#backwards-incompatible-5-0\"><span class=\"std std-ref\">backwards incompatible changes</span></a> you\u2019ll\nwant to be aware of when upgrading from Django 4.2 or earlier. We\u2019ve\n<a class=\"reference internal\" href=\"#deprecated-features-5-0\"><span class=\"std std-ref\">begun the deprecation process for some features</span></a>.</p>\n<p>See the <a class=\"reference internal\" href=\"../../howto/upgrade-version/\"><span class=\"doc\">How to upgrade Django to a newer version</span></a> guide if you\u2019re updating an existing\nproject.</p>\n<div class=\"section\" id=\"s-python-compatibility\">\n<span id=\"python-compatibility\"></span><h2>Python compatibility<a class=\"headerlink\" href=\"#python-compatibility\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Django 5.0 supports Python 3.10, 3.11, and 3.12. We <strong>highly recommend</strong> and\nonly officially support the latest release of each series.</p>\n<p>The Django 4.2.x series is the last to support Python 3.8 and 3.9.</p>\n</div>\n<div class=\"section\" id=\"s-third-party-library-support-for-older-version-of-django\">\n<span id=\"third-party-library-support-for-older-version-of-django\"></span><h2>Third-party library support for older version of Django<a class=\"headerlink\" href=\"#third-party-library-support-for-older-version-of-django\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Following the release of Django 5.0, we suggest that third-party app authors\ndrop support for all versions of Django prior to 4.2. At that time, you should\nbe able to run your package\u2019s tests using <code class=\"docutils literal notranslate\"><span class=\"pre\">python</span> <span class=\"pre\">-Wd</span></code> so that deprecation\nwarnings appear. After making the deprecation warning fixes, your app should be\ncompatible with Django 5.0.</p>\n</div>\n<div class=\"section\" id=\"s-what-s-new-in-django-5-0\">\n<span id=\"s-whats-new-5-0\"></span><span id=\"what-s-new-in-django-5-0\"></span><span id=\"whats-new-5-0\"></span><h2>What\u2019s new in Django 5.0<a class=\"headerlink\" href=\"#what-s-new-in-django-5-0\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-facet-filters-in-the-admin\">\n<span id=\"facet-filters-in-the-admin\"></span><h3>Facet filters in the admin<a class=\"headerlink\" href=\"#facet-filters-in-the-admin\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Facet counts are now shown for applied filters in the admin changelist when\ntoggled on via the UI. This behavior can be changed via the new\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.show_facets\" title=\"django.contrib.admin.ModelAdmin.show_facets\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">ModelAdmin.show_facets</span></code></a> attribute. For more information see\n<a class=\"reference internal\" href=\"../../ref/contrib/admin/filters/#facet-filters\"><span class=\"std std-ref\">Facets</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-simplified-templates-for-form-field-rendering\">\n<span id=\"simplified-templates-for-form-field-rendering\"></span><h3>Simplified templates for form field rendering<a class=\"headerlink\" href=\"#simplified-templates-for-form-field-rendering\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Django 5.0 introduces the concept of a field group, and field group templates.\nThis simplifies rendering of the related elements of a Django form field such\nas its label, widget, help text, and errors.</p>\n<p>For example, the template below:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n...\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"cp\">{{</span> <span class=\"nv\">form.name.label_tag</span> <span class=\"cp\">}}</span>\n  <span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">form.name.help_text</span> <span class=\"cp\">%}</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;helptext&quot;</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.name.help_text</span><span class=\"o\">|</span><span class=\"nf\">safe</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n  <span class=\"cp\">{{</span> <span class=\"nv\">form.name.errors</span> <span class=\"cp\">}}</span>\n  <span class=\"cp\">{{</span> <span class=\"nv\">form.name</span> <span class=\"cp\">}}</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;row&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;col&quot;</span><span class=\"p\">&gt;</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.email.label_tag</span> <span class=\"cp\">}}</span>\n      <span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">form.email.help_text</span> <span class=\"cp\">%}</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;helptext&quot;</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.email.help_text</span><span class=\"o\">|</span><span class=\"nf\">safe</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n      <span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.email.errors</span> <span class=\"cp\">}}</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.email</span> <span class=\"cp\">}}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;col&quot;</span><span class=\"p\">&gt;</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.password.label_tag</span> <span class=\"cp\">}}</span>\n      <span class=\"cp\">{%</span> <span class=\"k\">if</span> <span class=\"nv\">form.password.help_text</span> <span class=\"cp\">%}</span>\n        <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;helptext&quot;</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.password.help_text</span><span class=\"o\">|</span><span class=\"nf\">safe</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n      <span class=\"cp\">{%</span> <span class=\"k\">endif</span> <span class=\"cp\">%}</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.password.errors</span> <span class=\"cp\">}}</span>\n      <span class=\"cp\">{{</span> <span class=\"nv\">form.password</span> <span class=\"cp\">}}</span>\n    <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n...\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p>Can now be simplified to:</p>\n<div class=\"highlight-html+django notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"p\">&lt;</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n...\n<span class=\"p\">&lt;</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"cp\">{{</span> <span class=\"nv\">form.name.as_field_group</span> <span class=\"cp\">}}</span>\n  <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;row&quot;</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;col&quot;</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.email.as_field_group</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">div</span> <span class=\"na\">class</span><span class=\"o\">=</span><span class=\"s\">&quot;col&quot;</span><span class=\"p\">&gt;</span><span class=\"cp\">{{</span> <span class=\"nv\">form.password.as_field_group</span> <span class=\"cp\">}}</span><span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n  <span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n<span class=\"p\">&lt;/</span><span class=\"nt\">div</span><span class=\"p\">&gt;</span>\n...\n<span class=\"p\">&lt;/</span><span class=\"nt\">form</span><span class=\"p\">&gt;</span>\n</pre></div>\n</div>\n<p><a class=\"reference internal\" href=\"../../ref/forms/api/#django.forms.BoundField.as_field_group\" title=\"django.forms.BoundField.as_field_group\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">as_field_group()</span></code></a> renders fields with the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/field.html&quot;</span></code> template by default and can be customized on a\nper-project, per-field, or per-request basis. See\n<a class=\"reference internal\" href=\"../../topics/forms/#reusable-field-group-templates\"><span class=\"std std-ref\">Reusable field group templates</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-database-computed-default-values\">\n<span id=\"database-computed-default-values\"></span><h3>Database-computed default values<a class=\"headerlink\" href=\"#database-computed-default-values\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>The new <a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.Field.db_default\" title=\"django.db.models.Field.db_default\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Field.db_default</span></code></a> parameter\nsets a database-computed default value. For example:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">django.db</span> <span class=\"kn\">import</span> <span class=\"n\">models</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.db.models.functions</span> <span class=\"kn\">import</span> <span class=\"n\">Now</span><span class=\"p\">,</span> <span class=\"n\">Pi</span>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">MyModel</span><span class=\"p\">(</span><span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">Model</span><span class=\"p\">):</span>\n    <span class=\"n\">age</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">IntegerField</span><span class=\"p\">(</span><span class=\"n\">db_default</span><span class=\"o\">=</span><span class=\"mi\">18</span><span class=\"p\">)</span>\n    <span class=\"n\">created</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">DateTimeField</span><span class=\"p\">(</span><span class=\"n\">db_default</span><span class=\"o\">=</span><span class=\"n\">Now</span><span class=\"p\">())</span>\n    <span class=\"n\">circumference</span> <span class=\"o\">=</span> <span class=\"n\">models</span><span class=\"o\">.</span><span class=\"n\">FloatField</span><span class=\"p\">(</span><span class=\"n\">db_default</span><span class=\"o\">=</span><span class=\"mi\">2</span> <span class=\"o\">*</span> <span class=\"n\">Pi</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-minor-features\">\n<span id=\"minor-features\"></span><h3>Minor features<a class=\"headerlink\" href=\"#minor-features\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<div class=\"section\" id=\"s-django-contrib-admin\">\n<span id=\"django-contrib-admin\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/admin/#module-django.contrib.admin\" title=\"django.contrib.admin: Django's admin site.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admin</span></code></a><a class=\"headerlink\" href=\"#django-contrib-admin\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.AdminSite.get_log_entries\" title=\"django.contrib.admin.AdminSite.get_log_entries\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">AdminSite.get_log_entries()</span></code></a> method allows customizing the\nqueryset for the site\u2019s listed log entries.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.admin.AllValuesFieldListFilter</span></code>,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ChoicesFieldListFilter</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">RelatedFieldListFilter</span></code>, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">RelatedOnlyFieldListFilter</span></code> admin filters now handle multi-valued query\nparameters.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">XRegExp</span></code> is upgraded from version 3.2.0 to 5.1.1.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-admindocs\">\n<span id=\"django-contrib-admindocs\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/admin/admindocs/#module-django.contrib.admindocs\" title=\"django.contrib.admindocs: Django's admin documentation generator.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admindocs</span></code></a><a class=\"headerlink\" href=\"#django-contrib-admindocs\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-auth\">\n<span id=\"django-contrib-auth\"></span><h4><a class=\"reference internal\" href=\"../../topics/auth/#module-django.contrib.auth\" title=\"django.contrib.auth: Django's authentication framework.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.auth</span></code></a><a class=\"headerlink\" href=\"#django-contrib-auth\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The default iteration count for the PBKDF2 password hasher is increased from\n600,000 to 720,000.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">AuthenticationMiddleware</span></code> now adds an <a class=\"reference internal\" href=\"../../ref/request-response/#django.http.HttpRequest.auser\" title=\"django.http.HttpRequest.auser\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">HttpRequest.auser()</span></code></a>\nasynchronous method that returns the currently logged-in user.</li>\n<li>The new <a class=\"reference internal\" href=\"../../topics/auth/passwords/#django.contrib.auth.hashers.acheck_password\" title=\"django.contrib.auth.hashers.acheck_password\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.hashers.acheck_password()</span></code></a> asynchronous\nfunction and <a class=\"reference internal\" href=\"../../topics/auth/customizing/#django.contrib.auth.models.AbstractBaseUser.acheck_password\" title=\"django.contrib.auth.models.AbstractBaseUser.acheck_password\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">AbstractBaseUser.acheck_password()</span></code></a> method allow\nasynchronous checking of user passwords.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-contenttypes\">\n<span id=\"django-contrib-contenttypes\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/contenttypes/#module-django.contrib.contenttypes\" title=\"django.contrib.contenttypes: Provides generic interface to installed models.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.contenttypes</span></code></a><a class=\"headerlink\" href=\"#django-contrib-contenttypes\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-gis\">\n<span id=\"django-contrib-gis\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/gis/#module-django.contrib.gis\" title=\"django.contrib.gis: Geographic Information System (GIS) extensions for Django\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a><a class=\"headerlink\" href=\"#django-contrib-gis\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new\n<a class=\"reference internal\" href=\"../../ref/contrib/gis/functions/#django.contrib.gis.db.models.functions.ClosestPoint\" title=\"django.contrib.gis.db.models.functions.ClosestPoint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ClosestPoint()</span></code></a>\nfunction returns a 2-dimensional point on the geometry that is closest to\nanother geometry.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-messages\">\n<span id=\"django-contrib-messages\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/messages/#module-django.contrib.messages\" title=\"django.contrib.messages: Provides cookie- and session-based temporary message storage.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.messages</span></code></a><a class=\"headerlink\" href=\"#django-contrib-messages\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-postgres\">\n<span id=\"django-contrib-postgres\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/postgres/#module-django.contrib.postgres\" title=\"django.contrib.postgres: PostgreSQL-specific fields and features\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres</span></code></a><a class=\"headerlink\" href=\"#django-contrib-postgres\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/contrib/postgres/constraints/#django.contrib.postgres.constraints.ExclusionConstraint.violation_error_code\" title=\"django.contrib.postgres.constraints.ExclusionConstraint.violation_error_code\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">violation_error_code</span></code></a> attribute of\n<a class=\"reference internal\" href=\"../../ref/contrib/postgres/constraints/#django.contrib.postgres.constraints.ExclusionConstraint\" title=\"django.contrib.postgres.constraints.ExclusionConstraint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">ExclusionConstraint</span></code></a> allows\ncustomizing the <code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code> of <code class=\"docutils literal notranslate\"><span class=\"pre\">ValidationError</span></code> raised during\n<a class=\"reference internal\" href=\"../../ref/models/instances/#validating-objects\"><span class=\"std std-ref\">model validation</span></a>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-redirects\">\n<span id=\"django-contrib-redirects\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/redirects/#module-django.contrib.redirects\" title=\"django.contrib.redirects: A framework for managing redirects.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.redirects</span></code></a><a class=\"headerlink\" href=\"#django-contrib-redirects\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-sessions\">\n<span id=\"django-contrib-sessions\"></span><h4><a class=\"reference internal\" href=\"../../topics/http/sessions/#module-django.contrib.sessions\" title=\"django.contrib.sessions: Provides session management for Django projects.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sessions</span></code></a><a class=\"headerlink\" href=\"#django-contrib-sessions\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-sitemaps\">\n<span id=\"django-contrib-sitemaps\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/sitemaps/#module-django.contrib.sitemaps\" title=\"django.contrib.sitemaps: A framework for generating Google sitemap XML files.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sitemaps</span></code></a><a class=\"headerlink\" href=\"#django-contrib-sitemaps\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-sites\">\n<span id=\"django-contrib-sites\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/sites/#module-django.contrib.sites\" title=\"django.contrib.sites: Lets you operate multiple websites from the same database and Django project\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sites</span></code></a><a class=\"headerlink\" href=\"#django-contrib-sites\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-staticfiles\">\n<span id=\"django-contrib-staticfiles\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/staticfiles/#module-django.contrib.staticfiles\" title=\"django.contrib.staticfiles: An app for handling static files.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.staticfiles</span></code></a><a class=\"headerlink\" href=\"#django-contrib-staticfiles\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-django-contrib-syndication\">\n<span id=\"django-contrib-syndication\"></span><h4><a class=\"reference internal\" href=\"../../ref/contrib/syndication/#module-django.contrib.syndication\" title=\"django.contrib.syndication: A framework for generating syndication feeds, in RSS and Atom, quite easily.\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.syndication</span></code></a><a class=\"headerlink\" href=\"#django-contrib-syndication\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-asynchronous-views\">\n<span id=\"asynchronous-views\"></span><h4>Asynchronous views<a class=\"headerlink\" href=\"#asynchronous-views\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>Under ASGI, <code class=\"docutils literal notranslate\"><span class=\"pre\">http.disconnect</span></code> events are now handled. This allows views to\nperform any necessary cleanup if a client disconnects before the response is\ngenerated. See <a class=\"reference internal\" href=\"../../topics/async/#async-handling-disconnect\"><span class=\"std std-ref\">Handling disconnects</span></a> for more details.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-cache\">\n<span id=\"cache\"></span><h4>Cache<a class=\"headerlink\" href=\"#cache\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-csrf\">\n<span id=\"csrf\"></span><h4>CSRF<a class=\"headerlink\" href=\"#csrf\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-decorators\">\n<span id=\"decorators\"></span><h4>Decorators<a class=\"headerlink\" href=\"#decorators\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The following decorators now support wrapping asynchronous view functions:<ul>\n<li><a class=\"reference internal\" href=\"../../topics/http/decorators/#django.views.decorators.cache.cache_control\" title=\"django.views.decorators.cache.cache_control\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">cache_control()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../../topics/http/decorators/#django.views.decorators.cache.never_cache\" title=\"django.views.decorators.cache.never_cache\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">never_cache()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"../../topics/http/decorators/#django.views.decorators.common.no_append_slash\" title=\"django.views.decorators.common.no_append_slash\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">no_append_slash()</span></code></a></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">xframe_options_deny()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">xframe_options_sameorigin()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">xframe_options_exempt()</span></code></li>\n</ul>\n</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-email\">\n<span id=\"email\"></span><h4>Email<a class=\"headerlink\" href=\"#email\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-error-reporting\">\n<span id=\"error-reporting\"></span><h4>Error Reporting<a class=\"headerlink\" href=\"#error-reporting\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-file-storage\">\n<span id=\"file-storage\"></span><h4>File Storage<a class=\"headerlink\" href=\"#file-storage\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-file-uploads\">\n<span id=\"file-uploads\"></span><h4>File Uploads<a class=\"headerlink\" href=\"#file-uploads\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-forms\">\n<span id=\"forms\"></span><h4>Forms<a class=\"headerlink\" href=\"#forms\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li><a class=\"reference internal\" href=\"../../ref/forms/fields/#django.forms.ChoiceField.choices\" title=\"django.forms.ChoiceField.choices\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">ChoiceField.choices</span></code></a> now accepts\n<a class=\"reference internal\" href=\"../../ref/models/fields/#field-choices-enum-types\"><span class=\"std std-ref\">Choices classes</span></a> directly instead of\nrequiring expansion with the <code class=\"docutils literal notranslate\"><span class=\"pre\">choices</span></code> attribute.</li>\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">assume_scheme</span></code> argument for <a class=\"reference internal\" href=\"../../ref/forms/fields/#django.forms.URLField\" title=\"django.forms.URLField\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">URLField</span></code></a> allows\nspecifying a default URL scheme.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-generic-views\">\n<span id=\"generic-views\"></span><h4>Generic Views<a class=\"headerlink\" href=\"#generic-views\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-internationalization\">\n<span id=\"internationalization\"></span><h4>Internationalization<a class=\"headerlink\" href=\"#internationalization\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-logging\">\n<span id=\"logging\"></span><h4>Logging<a class=\"headerlink\" href=\"#logging\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-management-commands\">\n<span id=\"management-commands\"></span><h4>Management Commands<a class=\"headerlink\" href=\"#management-commands\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-migrations\">\n<span id=\"migrations\"></span><h4>Migrations<a class=\"headerlink\" href=\"#migrations\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-models\">\n<span id=\"models\"></span><h4>Models<a class=\"headerlink\" href=\"#models\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults</span></code> argument of <a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.query.QuerySet.update_or_create\" title=\"django.db.models.query.QuerySet.update_or_create\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">QuerySet.update_or_create()</span></code></a>\nand <a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.query.QuerySet.aupdate_or_create\" title=\"django.db.models.query.QuerySet.aupdate_or_create\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">QuerySet.aupdate_or_create()</span></code></a> methods allows specifying a different\nfield values for the create operation.</li>\n<li>The new <code class=\"docutils literal notranslate\"><span class=\"pre\">violation_error_code</span></code> attribute of\n<a class=\"reference internal\" href=\"../../ref/models/constraints/#django.db.models.BaseConstraint\" title=\"django.db.models.BaseConstraint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseConstraint</span></code></a>,\n<a class=\"reference internal\" href=\"../../ref/models/constraints/#django.db.models.CheckConstraint\" title=\"django.db.models.CheckConstraint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CheckConstraint</span></code></a>, and\n<a class=\"reference internal\" href=\"../../ref/models/constraints/#django.db.models.UniqueConstraint\" title=\"django.db.models.UniqueConstraint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">UniqueConstraint</span></code></a> allows customizing the <code class=\"docutils literal notranslate\"><span class=\"pre\">code</span></code>\nof <code class=\"docutils literal notranslate\"><span class=\"pre\">ValidationError</span></code> raised during\n<a class=\"reference internal\" href=\"../../ref/models/instances/#validating-objects\"><span class=\"std std-ref\">model validation</span></a>.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/fields/#django.db.models.Field.choices\" title=\"django.db.models.Field.choices\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">Field.choices</span></code></a> now accepts\n<a class=\"reference internal\" href=\"../../ref/models/fields/#field-choices-enum-types\"><span class=\"std std-ref\">Choices classes</span></a> directly instead of\nrequiring expansion with the <code class=\"docutils literal notranslate\"><span class=\"pre\">choices</span></code> attribute.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-pagination\">\n<span id=\"pagination\"></span><h4>Pagination<a class=\"headerlink\" href=\"#pagination\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/paginator/#django.core.paginator.Paginator.error_messages\" title=\"django.core.paginator.Paginator.error_messages\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">django.core.paginator.Paginator.error_messages</span></code></a> argument\nallows customizing the error messages raised by <a class=\"reference internal\" href=\"../../ref/paginator/#django.core.paginator.Paginator.page\" title=\"django.core.paginator.Paginator.page\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Paginator.page()</span></code></a>.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-requests-and-responses\">\n<span id=\"requests-and-responses\"></span><h4>Requests and Responses<a class=\"headerlink\" href=\"#requests-and-responses\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-security\">\n<span id=\"security\"></span><h4>Security<a class=\"headerlink\" href=\"#security\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-serialization\">\n<span id=\"serialization\"></span><h4>Serialization<a class=\"headerlink\" href=\"#serialization\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-signals\">\n<span id=\"signals\"></span><h4>Signals<a class=\"headerlink\" href=\"#signals\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../topics/signals/#django.dispatch.Signal.asend\" title=\"django.dispatch.Signal.asend\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Signal.asend()</span></code></a> and <a class=\"reference internal\" href=\"../../topics/signals/#django.dispatch.Signal.asend_robust\" title=\"django.dispatch.Signal.asend_robust\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">Signal.asend_robust()</span></code></a> methods allow\nasynchronous signal dispatch. Signal receivers may be synchronous or\nasynchronous, and will be automatically adapted to the correct calling style.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-templates\">\n<span id=\"templates\"></span><h4>Templates<a class=\"headerlink\" href=\"#templates\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>The new <a class=\"reference internal\" href=\"../../ref/templates/builtins/#std-templatefilter-escapeseq\"><code class=\"xref std std-tfilter docutils literal notranslate\"><span class=\"pre\">escapeseq</span></code></a> template filter applies <a class=\"reference internal\" href=\"../../ref/templates/builtins/#std-templatefilter-escape\"><code class=\"xref std std-tfilter docutils literal notranslate\"><span class=\"pre\">escape</span></code></a> to\neach element of a sequence.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-tests\">\n<span id=\"tests\"></span><h4>Tests<a class=\"headerlink\" href=\"#tests\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-urls\">\n<span id=\"urls\"></span><h4>URLs<a class=\"headerlink\" href=\"#urls\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-utilities\">\n<span id=\"utilities\"></span><h4>Utilities<a class=\"headerlink\" href=\"#utilities\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-validators\">\n<span id=\"validators\"></span><h4>Validators<a class=\"headerlink\" href=\"#validators\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<ul class=\"simple\">\n<li>\u2026</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-backwards-incompatible-changes-in-5-0\">\n<span id=\"s-backwards-incompatible-5-0\"></span><span id=\"backwards-incompatible-changes-in-5-0\"></span><span id=\"backwards-incompatible-5-0\"></span><h2>Backwards incompatible changes in 5.0<a class=\"headerlink\" href=\"#backwards-incompatible-changes-in-5-0\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-database-backend-api\">\n<span id=\"database-backend-api\"></span><h3>Database backend API<a class=\"headerlink\" href=\"#database-backend-api\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>This section describes changes that may be needed in third-party database\nbackends.</p>\n<ul class=\"simple\">\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseFeatures.supports_expression_defaults</span></code> should be set to <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code>\nif the database doesn\u2019t support using database functions as defaults.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseFeatures.supports_default_keyword_in_insert</span></code> should be set to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if the database doesn\u2019t support the <code class=\"docutils literal notranslate\"><span class=\"pre\">DEFAULT</span></code> keyword in\n<code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code> queries.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">DatabaseFeatures.supports_default_keyword_in_bulk</span> <span class=\"pre\">insert</span></code> should be set to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if the database doesn\u2019t support the <code class=\"docutils literal notranslate\"><span class=\"pre\">DEFAULT</span></code> keyword in bulk\n<code class=\"docutils literal notranslate\"><span class=\"pre\">INSERT</span></code> queries.</li>\n</ul>\n</div>\n<div class=\"section\" id=\"s-using-create-defaults-exact-may-now-be-required-with-queryset-update-or-create\">\n<span id=\"using-create-defaults-exact-may-now-be-required-with-queryset-update-or-create\"></span><h3>Using <code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults__exact</span></code> may now be required with <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.update_or_create()</span></code><a class=\"headerlink\" href=\"#using-create-defaults-exact-may-now-be-required-with-queryset-update-or-create\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><a class=\"reference internal\" href=\"../../ref/models/querysets/#django.db.models.query.QuerySet.update_or_create\" title=\"django.db.models.query.QuerySet.update_or_create\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">QuerySet.update_or_create()</span></code></a> now supports the parameter\n<code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults</span></code>. As a consequence, any models that have a field named\n<code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults</span></code> that are used with an <code class=\"docutils literal notranslate\"><span class=\"pre\">update_or_create()</span></code> should specify\nthe field in the lookup with <code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults__exact</span></code>.</p>\n</div>\n<div class=\"section\" id=\"s-miscellaneous\">\n<span id=\"miscellaneous\"></span><h3>Miscellaneous<a class=\"headerlink\" href=\"#miscellaneous\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">instance</span></code> argument of the undocumented\n<code class=\"docutils literal notranslate\"><span class=\"pre\">BaseModelFormSet.save_existing()</span></code> method is renamed to <code class=\"docutils literal notranslate\"><span class=\"pre\">obj</span></code>.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.admin.helpers.checkbox</span></code> is removed.</li>\n<li>Integer fields are now validated as 64-bit integers on SQLite to match the\nbehavior of <code class=\"docutils literal notranslate\"><span class=\"pre\">sqlite3</span></code>.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">Query.annotation_select_mask</span></code> attribute is changed from a\nset of strings to an ordered list of strings.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">ImageField.update_dimension_fields()</span></code> is no longer called on the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">post_init</span></code> signal if <code class=\"docutils literal notranslate\"><span class=\"pre\">width_field</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">height_field</span></code> are not set.</li>\n<li><a class=\"reference internal\" href=\"../../ref/models/database-functions/#django.db.models.functions.Now\" title=\"django.db.models.functions.Now\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Now</span></code></a> database function now uses\n<code class=\"docutils literal notranslate\"><span class=\"pre\">LOCALTIMESTAMP</span></code> instead of <code class=\"docutils literal notranslate\"><span class=\"pre\">CURRENT_TIMESTAMP</span></code> on Oracle.</li>\n<li><a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.AdminSite.site_header\" title=\"django.contrib.admin.AdminSite.site_header\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">AdminSite.site_header</span></code></a> is now rendered in a <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;div&gt;</span></code> tag instead of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;h1&gt;</span></code>. Screen reader users rely on heading elements for navigation within\na page. Having two <code class=\"docutils literal notranslate\"><span class=\"pre\">&lt;h1&gt;</span></code> elements was confusing and the site header wasn\u2019t\nhelpful as it is repeated on all pages.</li>\n<li>On databases without native support for the SQL <code class=\"docutils literal notranslate\"><span class=\"pre\">XOR</span></code> operator, <code class=\"docutils literal notranslate\"><span class=\"pre\">^</span></code> as\nthe exclusive or (<code class=\"docutils literal notranslate\"><span class=\"pre\">XOR</span></code>) operator now returns rows that are matched by an\nodd number of operands rather than exactly one operand. This is consistent\nwith the behavior of MySQL, MariaDB, and Python.</li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"s-features-deprecated-in-5-0\">\n<span id=\"s-deprecated-features-5-0\"></span><span id=\"features-deprecated-in-5-0\"></span><span id=\"deprecated-features-5-0\"></span><h2>Features deprecated in 5.0<a class=\"headerlink\" href=\"#features-deprecated-in-5-0\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-id1\">\n<span id=\"id1\"></span><h3>Miscellaneous<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">DjangoDivFormRenderer</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">Jinja2DivFormRenderer</span></code> transitional form\nrenderers are deprecated.</li>\n<li>Passing positional arguments  <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">violation_error_message</span></code> to\n<a class=\"reference internal\" href=\"../../ref/models/constraints/#django.db.models.BaseConstraint\" title=\"django.db.models.BaseConstraint\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">BaseConstraint</span></code></a> is deprecated in favor of\nkeyword-only arguments.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">request</span></code> is added to the signature of <a class=\"reference internal\" href=\"../../ref/contrib/admin/#django.contrib.admin.ModelAdmin.lookup_allowed\" title=\"django.contrib.admin.ModelAdmin.lookup_allowed\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">ModelAdmin.lookup_allowed()</span></code></a>.\nSupport for <code class=\"docutils literal notranslate\"><span class=\"pre\">ModelAdmin</span></code> subclasses that do not accept this argument is\ndeprecated.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">get_joining_columns()</span></code> method of <code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignObject</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignObjectRel</span></code> is deprecated. Starting with Django 6.0,\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.sql.datastructures.Join</span></code> will no longer fallback to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">get_joining_columns()</span></code>. Subclasses should implement\n<code class=\"docutils literal notranslate\"><span class=\"pre\">get_joining_fields()</span></code> instead.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">ForeignObject.get_reverse_joining_columns()</span></code> method is deprecated.</li>\n<li>The default scheme for <code class=\"docutils literal notranslate\"><span class=\"pre\">forms.URLField</span></code> will change from <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;http&quot;</span></code> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;https&quot;</span></code> in Django 6.0.</li>\n<li>Support for calling <code class=\"docutils literal notranslate\"><span class=\"pre\">format_html()</span></code> without passing args or kwargs will be\nremoved.</li>\n</ul>\n</div>\n</div>\n<div class=\"section\" id=\"s-features-removed-in-5-0\">\n<span id=\"features-removed-in-5-0\"></span><h2>Features removed in 5.0<a class=\"headerlink\" href=\"#features-removed-in-5-0\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>These features have reached the end of their deprecation cycle and are removed\nin Django 5.0.</p>\n<p>See <a class=\"reference internal\" href=\"../4.0/#deprecated-features-4-0\"><span class=\"std std-ref\">Features deprecated in 4.0</span></a> for details on these changes, including how\nto remove usage of these features.</p>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">SERIALIZE</span></code> test setting is removed.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.baseconv</span></code> module is removed.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.datetime_safe</span></code> module is removed.</li>\n<li>The default value of the <code class=\"docutils literal notranslate\"><span class=\"pre\">USE_TZ</span></code> setting is changed from <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>.</li>\n<li>The default sitemap protocol for sitemaps built outside the context of a\nrequest is changed from <code class=\"docutils literal notranslate\"><span class=\"pre\">'http'</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">'https'</span></code>.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">extra_tests</span></code> argument for <code class=\"docutils literal notranslate\"><span class=\"pre\">DiscoverRunner.build_suite()</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">DiscoverRunner.run_tests()</span></code> is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.aggregates.ArrayAgg</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">JSONBAgg</span></code>, and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">StringAgg</span></code> aggregates no longer return <code class=\"docutils literal notranslate\"><span class=\"pre\">[]</span></code>, <code class=\"docutils literal notranslate\"><span class=\"pre\">[]</span></code>, and <code class=\"docutils literal notranslate\"><span class=\"pre\">''</span></code>,\nrespectively, when there are no rows.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">USE_L10N</span></code> setting is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">USE_DEPRECATED_PYTZ</span></code> transitional setting is removed.</li>\n<li>Support for <code class=\"docutils literal notranslate\"><span class=\"pre\">pytz</span></code> timezones is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">is_dst</span></code> argument is removed from:<ul>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.datetimes()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.timezone.make_aware()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.Trunc()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncSecond()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncMinute()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncHour()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncDay()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncWeek()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncMonth()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncQuarter()</span></code></li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.TruncYear()</span></code></li>\n</ul>\n</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.admin.GeoModelAdmin</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">OSMGeoAdmin</span></code> classes\nare removed.</li>\n<li>The undocumented <code class=\"docutils literal notranslate\"><span class=\"pre\">BaseForm._html_output()</span></code> method is removed.</li>\n<li>The ability to return a <code class=\"docutils literal notranslate\"><span class=\"pre\">str</span></code>, rather than a <code class=\"docutils literal notranslate\"><span class=\"pre\">SafeString</span></code>, when rendering\nan <code class=\"docutils literal notranslate\"><span class=\"pre\">ErrorDict</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">ErrorList</span></code> is removed.</li>\n</ul>\n<p>See <a class=\"reference internal\" href=\"../4.1/#deprecated-features-4-1\"><span class=\"std std-ref\">Features deprecated in 4.1</span></a> for details on these changes, including how\nto remove usage of these features.</p>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">SitemapIndexItem.__str__()</span></code> method is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">CSRF_COOKIE_MASKED</span></code> transitional setting is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> argument of <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.functional.cached_property()</span></code> is\nremoved.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">opclasses</span></code> argument of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.constraints.ExclusionConstraint</span></code> is removed.</li>\n<li>The undocumented ability to pass <code class=\"docutils literal notranslate\"><span class=\"pre\">errors=None</span></code> to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">SimpleTestCase.assertFormError()</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">assertFormsetError()</span></code> is removed.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.sessions.serializers.PickleSerializer</span></code> is removed.</li>\n<li>The usage of <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.iterator()</span></code> on a queryset that prefetches related\nobjects without providing the <code class=\"docutils literal notranslate\"><span class=\"pre\">chunk_size</span></code> argument is no longer allowed.</li>\n<li>Passing unsaved model instances to related filters is no longer allowed.</li>\n<li><code class=\"docutils literal notranslate\"><span class=\"pre\">created=True</span></code> is required in the signature of\n<code class=\"docutils literal notranslate\"><span class=\"pre\">RemoteUserBackend.configure_user()</span></code> subclasses.</li>\n<li>Support for logging out via <code class=\"docutils literal notranslate\"><span class=\"pre\">GET</span></code> requests in the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.views.LogoutView</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.views.logout_then_login()</span></code> is removed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.utils.timezone.utc</span></code> alias to <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime.timezone.utc</span></code> is\nremoved.</li>\n<li>Passing a response object and a form/formset name to\n<code class=\"docutils literal notranslate\"><span class=\"pre\">SimpleTestCase.assertFormError()</span></code> and <code class=\"docutils literal notranslate\"><span class=\"pre\">assertFormSetError()</span></code> is no\nlonger allowed.</li>\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.gis.admin.OpenLayersWidget</span></code> is removed.</li>\n</ul>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.auth.hashers.CryptPasswordHasher</span></code> is removed.</li>\n</ul>\n<ul class=\"simple\">\n<li>The <code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/default.html&quot;</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">&quot;django/forms/formsets/default.html&quot;</span></code> templates are removed.</li>\n<li>The default form and formset rendering style is changed to the div-based.</li>\n<li>Passing <code class=\"docutils literal notranslate\"><span class=\"pre\">nulls_first=False</span></code> or <code class=\"docutils literal notranslate\"><span class=\"pre\">nulls_last=False</span></code> to <code class=\"docutils literal notranslate\"><span class=\"pre\">Expression.asc()</span></code>\nand <code class=\"docutils literal notranslate\"><span class=\"pre\">Expression.desc()</span></code> methods, and the <code class=\"docutils literal notranslate\"><span class=\"pre\">OrderBy</span></code> expression is no\nlonger allowed.</li>\n</ul>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/4.2.3", "Django 4.2.3 release notes", "N", "next"], ["releases/index", "Release notes", "P", "previous"]], "sourcename": "releases/5.0.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 5.0 release notes - UNDER DEVELOPMENT</a><ul>\n<li><a class=\"reference internal\" href=\"#python-compatibility\">Python compatibility</a></li>\n<li><a class=\"reference internal\" href=\"#third-party-library-support-for-older-version-of-django\">Third-party library support for older version of Django</a></li>\n<li><a class=\"reference internal\" href=\"#what-s-new-in-django-5-0\">What\u2019s new in Django 5.0</a><ul>\n<li><a class=\"reference internal\" href=\"#facet-filters-in-the-admin\">Facet filters in the admin</a></li>\n<li><a class=\"reference internal\" href=\"#simplified-templates-for-form-field-rendering\">Simplified templates for form field rendering</a></li>\n<li><a class=\"reference internal\" href=\"#database-computed-default-values\">Database-computed default values</a></li>\n<li><a class=\"reference internal\" href=\"#minor-features\">Minor features</a><ul>\n<li><a class=\"reference internal\" href=\"#django-contrib-admin\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admin</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-admindocs\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.admindocs</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-auth\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.auth</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-contenttypes\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.contenttypes</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-gis\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-messages\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.messages</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-postgres\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-redirects\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.redirects</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-sessions\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sessions</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-sitemaps\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sitemaps</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-sites\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.sites</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-staticfiles\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.staticfiles</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#django-contrib-syndication\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.syndication</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#asynchronous-views\">Asynchronous views</a></li>\n<li><a class=\"reference internal\" href=\"#cache\">Cache</a></li>\n<li><a class=\"reference internal\" href=\"#csrf\">CSRF</a></li>\n<li><a class=\"reference internal\" href=\"#decorators\">Decorators</a></li>\n<li><a class=\"reference internal\" href=\"#email\">Email</a></li>\n<li><a class=\"reference internal\" href=\"#error-reporting\">Error Reporting</a></li>\n<li><a class=\"reference internal\" href=\"#file-storage\">File Storage</a></li>\n<li><a class=\"reference internal\" href=\"#file-uploads\">File Uploads</a></li>\n<li><a class=\"reference internal\" href=\"#forms\">Forms</a></li>\n<li><a class=\"reference internal\" href=\"#generic-views\">Generic Views</a></li>\n<li><a class=\"reference internal\" href=\"#internationalization\">Internationalization</a></li>\n<li><a class=\"reference internal\" href=\"#logging\">Logging</a></li>\n<li><a class=\"reference internal\" href=\"#management-commands\">Management Commands</a></li>\n<li><a class=\"reference internal\" href=\"#migrations\">Migrations</a></li>\n<li><a class=\"reference internal\" href=\"#models\">Models</a></li>\n<li><a class=\"reference internal\" href=\"#pagination\">Pagination</a></li>\n<li><a class=\"reference internal\" href=\"#requests-and-responses\">Requests and Responses</a></li>\n<li><a class=\"reference internal\" href=\"#security\">Security</a></li>\n<li><a class=\"reference internal\" href=\"#serialization\">Serialization</a></li>\n<li><a class=\"reference internal\" href=\"#signals\">Signals</a></li>\n<li><a class=\"reference internal\" href=\"#templates\">Templates</a></li>\n<li><a class=\"reference internal\" href=\"#tests\">Tests</a></li>\n<li><a class=\"reference internal\" href=\"#urls\">URLs</a></li>\n<li><a class=\"reference internal\" href=\"#utilities\">Utilities</a></li>\n<li><a class=\"reference internal\" href=\"#validators\">Validators</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#backwards-incompatible-changes-in-5-0\">Backwards incompatible changes in 5.0</a><ul>\n<li><a class=\"reference internal\" href=\"#database-backend-api\">Database backend API</a></li>\n<li><a class=\"reference internal\" href=\"#using-create-defaults-exact-may-now-be-required-with-queryset-update-or-create\">Using <code class=\"docutils literal notranslate\"><span class=\"pre\">create_defaults__exact</span></code> may now be required with <code class=\"docutils literal notranslate\"><span class=\"pre\">QuerySet.update_or_create()</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#miscellaneous\">Miscellaneous</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#features-deprecated-in-5-0\">Features deprecated in 5.0</a><ul>\n<li><a class=\"reference internal\" href=\"#id1\">Miscellaneous</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#features-removed-in-5-0\">Features removed in 5.0</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/5.0", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
