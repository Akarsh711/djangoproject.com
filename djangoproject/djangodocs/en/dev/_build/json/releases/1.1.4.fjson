{"parents": [{"link": "../", "title": "Release notes"}], "prev": {"link": "../1.2/", "title": "Django 1.2 release notes"}, "next": {"link": "../1.1.3/", "title": "Django 1.1.3 release notes"}, "title": "Django 1.1.4 release notes", "meta": {}, "body": "<div class=\"section\" id=\"s-django-1-1-4-release-notes\">\n<span id=\"django-1-1-4-release-notes\"></span><h1>Django 1.1.4 release notes<a class=\"headerlink\" href=\"#django-1-1-4-release-notes\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Welcome to Django 1.1.4!</p>\n<p>This is the fourth \u201cbugfix\u201d release in the Django 1.1 series,\nimproving the stability and performance of the Django 1.1 codebase.</p>\n<p>With one exception, Django 1.1.4 maintains backwards compatibility\nwith Django 1.1.3. It also contains a number of fixes and other\nimprovements. Django 1.1.4 is a recommended upgrade for any\ndevelopment or deployment currently using or targeting Django 1.1.</p>\n<p>For full details on the new features, backwards incompatibilities, and\ndeprecated features in the 1.1 branch, see the <a class=\"reference internal\" href=\"../1.1/\"><span class=\"doc\">Django 1.1 release notes</span></a>.</p>\n<div class=\"section\" id=\"s-backwards-incompatible-changes\">\n<span id=\"backwards-incompatible-changes\"></span><h2>Backwards incompatible changes<a class=\"headerlink\" href=\"#backwards-incompatible-changes\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"section\" id=\"s-csrf-exception-for-ajax-requests\">\n<span id=\"csrf-exception-for-ajax-requests\"></span><h3>CSRF exception for AJAX requests<a class=\"headerlink\" href=\"#csrf-exception-for-ajax-requests\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Django includes a CSRF-protection mechanism, which makes use of a\ntoken inserted into outgoing forms. Middleware then checks for the\ntoken\u2019s presence on form submission, and validates it.</p>\n<p>Prior to Django 1.2.5, our CSRF protection made an exception for AJAX\nrequests, on the following basis:</p>\n<ul class=\"simple\">\n<li>Many AJAX toolkits add an X-Requested-With header when using\nXMLHttpRequest.</li>\n<li>Browsers have strict same-origin policies regarding\nXMLHttpRequest.</li>\n<li>In the context of a browser, the only way that a custom header\nof this nature can be added is with XMLHttpRequest.</li>\n</ul>\n<p>Therefore, for ease of use, we did not apply CSRF checks to requests\nthat appeared to be AJAX on the basis of the X-Requested-With header.\nThe Ruby on Rails web framework had a similar exemption.</p>\n<p>Recently, engineers at Google made members of the Ruby on Rails\ndevelopment team aware of a combination of browser plugins and\nredirects which can allow an attacker to provide custom HTTP headers\non a request to any website. This can allow a forged request to appear\nto be an AJAX request, thereby defeating CSRF protection which trusts\nthe same-origin nature of AJAX requests.</p>\n<p>Michael Koziarski of the Rails team brought this to our attention, and\nwe were able to produce a proof-of-concept demonstrating the same\nvulnerability in Django\u2019s CSRF handling.</p>\n<p>To remedy this, Django will now apply full CSRF validation to all\nrequests, regardless of apparent AJAX origin. This is technically\nbackwards-incompatible, but the security risks have been judged to\noutweigh the compatibility concerns in this case.</p>\n<p>Additionally, Django will now accept the CSRF token in the custom HTTP\nheader X-CSRFTOKEN, as well as in the form submission itself, for ease\nof use with popular JavaScript toolkits which allow insertion of\ncustom headers into all AJAX requests.</p>\n<p>Please see the <a class=\"reference internal\" href=\"../../howto/csrf/#csrf-ajax\"><span class=\"std std-ref\">CSRF docs for example jQuery code</span></a>\nthat demonstrates this technique, ensuring that you are looking at the\ndocumentation for your version of Django, as the exact code necessary\nis different for some older versions of Django.</p>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["releases/1.1.3", "Django 1.1.3 release notes", "N", "next"], ["releases/1.2", "Django 1.2 release notes", "P", "previous"]], "sourcename": "releases/1.1.4.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Django 1.1.4 release notes</a><ul>\n<li><a class=\"reference internal\" href=\"#backwards-incompatible-changes\">Backwards incompatible changes</a><ul>\n<li><a class=\"reference internal\" href=\"#csrf-exception-for-ajax-requests\">CSRF exception for AJAX requests</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "releases/1.1.4", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}