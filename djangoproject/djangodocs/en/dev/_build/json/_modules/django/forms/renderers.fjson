{"parents": [{"link": "../../../", "title": "Module code"}, {"link": "../../", "title": "django"}], "title": "django.forms.renderers", "body": "<h1>Source code for django.forms.renderers</h1><div class=\"highlight\"><pre>\n<span></span><span class=\"kn\">import</span> <span class=\"nn\">functools</span>\n<span class=\"kn\">import</span> <span class=\"nn\">warnings</span>\n<span class=\"kn\">from</span> <span class=\"nn\">pathlib</span> <span class=\"kn\">import</span> <span class=\"n\">Path</span>\n\n<span class=\"kn\">from</span> <span class=\"nn\">django.conf</span> <span class=\"kn\">import</span> <span class=\"n\">settings</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.template.backends.django</span> <span class=\"kn\">import</span> <span class=\"n\">DjangoTemplates</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.template.loader</span> <span class=\"kn\">import</span> <span class=\"n\">get_template</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.utils.deprecation</span> <span class=\"kn\">import</span> <span class=\"n\">RemovedInDjango60Warning</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.utils.functional</span> <span class=\"kn\">import</span> <span class=\"n\">cached_property</span>\n<span class=\"kn\">from</span> <span class=\"nn\">django.utils.module_loading</span> <span class=\"kn\">import</span> <span class=\"n\">import_string</span>\n\n\n<span class=\"nd\">@functools</span><span class=\"o\">.</span><span class=\"n\">lru_cache</span>\n<span class=\"k\">def</span> <span class=\"nf\">get_default_renderer</span><span class=\"p\">():</span>\n    <span class=\"n\">renderer_class</span> <span class=\"o\">=</span> <span class=\"n\">import_string</span><span class=\"p\">(</span><span class=\"n\">settings</span><span class=\"o\">.</span><span class=\"n\">FORM_RENDERER</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">renderer_class</span><span class=\"p\">()</span>\n\n\n<div class=\"viewcode-block\" id=\"BaseRenderer\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.BaseRenderer\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">BaseRenderer</span><span class=\"p\">:</span>\n    <span class=\"n\">form_template_name</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;django/forms/div.html&quot;</span>\n    <span class=\"n\">formset_template_name</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;django/forms/formsets/div.html&quot;</span>\n    <span class=\"n\">field_template_name</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;django/forms/field.html&quot;</span>\n\n<div class=\"viewcode-block\" id=\"BaseRenderer.get_template\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.BaseRenderer.get_template\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">get_template</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">template_name</span><span class=\"p\">):</span>\n        <span class=\"k\">raise</span> <span class=\"ne\">NotImplementedError</span><span class=\"p\">(</span><span class=\"s2\">&quot;subclasses must implement get_template()&quot;</span><span class=\"p\">)</span></div>\n\n<div class=\"viewcode-block\" id=\"BaseRenderer.render\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.BaseRenderer.render\">[docs]</a>    <span class=\"k\">def</span> <span class=\"nf\">render</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">template_name</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">=</span><span class=\"kc\">None</span><span class=\"p\">):</span>\n        <span class=\"n\">template</span> <span class=\"o\">=</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">get_template</span><span class=\"p\">(</span><span class=\"n\">template_name</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"n\">template</span><span class=\"o\">.</span><span class=\"n\">render</span><span class=\"p\">(</span><span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"n\">request</span><span class=\"o\">=</span><span class=\"n\">request</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">strip</span><span class=\"p\">()</span></div></div>\n\n\n<span class=\"k\">class</span> <span class=\"nc\">EngineMixin</span><span class=\"p\">:</span>\n    <span class=\"k\">def</span> <span class=\"nf\">get_template</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">template_name</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">get_template</span><span class=\"p\">(</span><span class=\"n\">template_name</span><span class=\"p\">)</span>\n\n    <span class=\"nd\">@cached_property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">engine</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">backend</span><span class=\"p\">(</span>\n            <span class=\"p\">{</span>\n                <span class=\"s2\">&quot;APP_DIRS&quot;</span><span class=\"p\">:</span> <span class=\"kc\">True</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;DIRS&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"n\">Path</span><span class=\"p\">(</span><span class=\"vm\">__file__</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">parent</span> <span class=\"o\">/</span> <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">backend</span><span class=\"o\">.</span><span class=\"n\">app_dirname</span><span class=\"p\">],</span>\n                <span class=\"s2\">&quot;NAME&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;djangoforms&quot;</span><span class=\"p\">,</span>\n                <span class=\"s2\">&quot;OPTIONS&quot;</span><span class=\"p\">:</span> <span class=\"p\">{},</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">)</span>\n\n\n<div class=\"viewcode-block\" id=\"DjangoTemplates\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.DjangoTemplates\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">DjangoTemplates</span><span class=\"p\">(</span><span class=\"n\">EngineMixin</span><span class=\"p\">,</span> <span class=\"n\">BaseRenderer</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Load Django templates from the built-in widget templates in</span>\n<span class=\"sd\">    django/forms/templates and from apps&#39; &#39;templates&#39; directory.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"n\">backend</span> <span class=\"o\">=</span> <span class=\"n\">DjangoTemplates</span></div>\n\n\n<div class=\"viewcode-block\" id=\"Jinja2\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.Jinja2\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Jinja2</span><span class=\"p\">(</span><span class=\"n\">EngineMixin</span><span class=\"p\">,</span> <span class=\"n\">BaseRenderer</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Load Jinja2 templates from the built-in widget templates in</span>\n<span class=\"sd\">    django/forms/jinja2 and from apps&#39; &#39;jinja2&#39; directory.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"nd\">@cached_property</span>\n    <span class=\"k\">def</span> <span class=\"nf\">backend</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"kn\">from</span> <span class=\"nn\">django.template.backends.jinja2</span> <span class=\"kn\">import</span> <span class=\"n\">Jinja2</span>\n\n        <span class=\"k\">return</span> <span class=\"n\">Jinja2</span></div>\n\n\n<span class=\"c1\"># RemovedInDjango60Warning.</span>\n<div class=\"viewcode-block\" id=\"DjangoDivFormRenderer\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.DjangoDivFormRenderer\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">DjangoDivFormRenderer</span><span class=\"p\">(</span><span class=\"n\">DjangoTemplates</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Load Django templates from django/forms/templates and from apps&#39;</span>\n<span class=\"sd\">    &#39;templates&#39; directory and use the &#39;div.html&#39; template to render forms and</span>\n<span class=\"sd\">    formsets.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;The DjangoDivFormRenderer transitional form renderer is deprecated. Use &quot;</span>\n            <span class=\"s2\">&quot;DjangoTemplates instead.&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">RemovedInDjango60Warning</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span></div>\n\n\n<span class=\"c1\"># RemovedInDjango60Warning.</span>\n<div class=\"viewcode-block\" id=\"Jinja2DivFormRenderer\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.Jinja2DivFormRenderer\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">Jinja2DivFormRenderer</span><span class=\"p\">(</span><span class=\"n\">Jinja2</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Load Jinja2 templates from the built-in widget templates in</span>\n<span class=\"sd\">    django/forms/jinja2 and from apps&#39; &#39;jinja2&#39; directory.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">):</span>\n        <span class=\"n\">warnings</span><span class=\"o\">.</span><span class=\"n\">warn</span><span class=\"p\">(</span>\n            <span class=\"s2\">&quot;The Jinja2DivFormRenderer transitional form renderer is deprecated. Use &quot;</span>\n            <span class=\"s2\">&quot;Jinja2 instead.&quot;</span><span class=\"p\">,</span>\n            <span class=\"n\">RemovedInDjango60Warning</span><span class=\"p\">,</span>\n        <span class=\"p\">)</span>\n        <span class=\"nb\">super</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"fm\">__init__</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"n\">args</span><span class=\"p\">,</span> <span class=\"o\">**</span><span class=\"n\">kwargs</span><span class=\"p\">)</span></div>\n\n\n<div class=\"viewcode-block\" id=\"TemplatesSetting\"><a class=\"viewcode-back\" href=\"../../../../ref/forms/renderers/#django.forms.renderers.TemplatesSetting\">[docs]</a><span class=\"k\">class</span> <span class=\"nc\">TemplatesSetting</span><span class=\"p\">(</span><span class=\"n\">BaseRenderer</span><span class=\"p\">):</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    Load templates using template.loader.get_template() which is configured</span>\n<span class=\"sd\">    based on settings.TEMPLATES.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n\n    <span class=\"k\">def</span> <span class=\"nf\">get_template</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">,</span> <span class=\"n\">template_name</span><span class=\"p\">):</span>\n        <span class=\"k\">return</span> <span class=\"n\">get_template</span><span class=\"p\">(</span><span class=\"n\">template_name</span><span class=\"p\">)</span></div>\n</pre></div>", "current_page_name": "_modules/django/forms/renderers", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
