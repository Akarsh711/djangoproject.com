{"parents": [{"link": "../../../../", "title": "API Reference"}, {"link": "../../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../../", "title": "GeoDjango"}, {"link": "../", "title": "GeoDjango Installation"}], "prev": {"link": "../", "title": "GeoDjango Installation"}, "next": {"link": "../postgis/", "title": "Installing PostGIS"}, "title": "Installing Geospatial libraries", "meta": {}, "body": "<div class=\"section\" id=\"s-installing-geospatial-libraries\">\n<span id=\"installing-geospatial-libraries\"></span><h1>Installing Geospatial libraries<a class=\"headerlink\" href=\"#installing-geospatial-libraries\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>GeoDjango uses and/or provides interfaces for the following open source\ngeospatial libraries:</p>\n<table class=\"docutils\">\n<colgroup>\n<col width=\"17%\" />\n<col width=\"26%\" />\n<col width=\"23%\" />\n<col width=\"34%\" />\n</colgroup>\n<thead valign=\"bottom\">\n<tr class=\"row-odd\"><th class=\"head\">Program</th>\n<th class=\"head\">Description</th>\n<th class=\"head\">Required</th>\n<th class=\"head\">Supported Versions</th>\n</tr>\n</thead>\n<tbody valign=\"top\">\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../../geos/\"><span class=\"doc\">GEOS</span></a></td>\n<td>Geometry Engine Open Source</td>\n<td>Yes</td>\n<td>3.11, 3.10, 3.9, 3.8, 3.7, 3.6</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference external\" href=\"https://proj.org/\">PROJ</a></td>\n<td>Cartographic Projections library</td>\n<td>Yes (PostgreSQL and SQLite only)</td>\n<td>9.x, 8.x, 7.x, 6.x, 5.x</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference internal\" href=\"../../gdal/\"><span class=\"doc\">GDAL</span></a></td>\n<td>Geospatial Data Abstraction Library</td>\n<td>Yes</td>\n<td>3.6, 3.5, 3.4, 3.3, 3.2, 3.1, 3.0, 2.4, 2.3, 2.2</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference internal\" href=\"../../geoip2/\"><span class=\"doc\">GeoIP</span></a></td>\n<td>IP-based geolocation library</td>\n<td>No</td>\n<td>2</td>\n</tr>\n<tr class=\"row-even\"><td><a class=\"reference external\" href=\"https://postgis.net/\">PostGIS</a></td>\n<td>Spatial extensions for PostgreSQL</td>\n<td>Yes (PostgreSQL only)</td>\n<td>3.3, 3.2, 3.1, 3.0, 2.5</td>\n</tr>\n<tr class=\"row-odd\"><td><a class=\"reference external\" href=\"https://www.gaia-gis.it/gaia-sins/\">SpatiaLite</a></td>\n<td>Spatial extensions for SQLite</td>\n<td>Yes (SQLite only)</td>\n<td>5.0, 4.3</td>\n</tr>\n</tbody>\n</table>\n<p>Note that older or more recent versions of these libraries <em>may</em> also work\ntotally fine with GeoDjango. Your mileage may vary.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">The GeoDjango interfaces to GEOS, GDAL, and GeoIP may be used\nindependently of Django.  In other words, no database or settings file\nrequired \u2013 import them as normal from <a class=\"reference internal\" href=\"../../#module-django.contrib.gis\" title=\"django.contrib.gis: Geographic Information System (GIS) extensions for Django\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">django.contrib.gis</span></code></a>.</p>\n</div>\n<p>On Debian/Ubuntu, you are advised to install the following packages which will\ninstall, directly or by dependency, the required geospatial libraries:</p>\n<div class=\"highlight-console notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">$ </span>sudo apt-get install binutils libproj-dev gdal-bin\n</pre></div>\n</div>\n<p>Please also consult platform-specific instructions if you are on <a class=\"reference internal\" href=\"../#macos\"><span class=\"std std-ref\">macOS</span></a>\nor <a class=\"reference internal\" href=\"../#windows\"><span class=\"std std-ref\">Windows</span></a>.</p>\n<div class=\"section\" id=\"s-building-from-source\">\n<span id=\"s-build-from-source\"></span><span id=\"building-from-source\"></span><span id=\"build-from-source\"></span><h2>Building from source<a class=\"headerlink\" href=\"#building-from-source\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>When installing from source on UNIX and GNU/Linux systems, please follow\nthe installation instructions carefully, and install the libraries in the\ngiven order.  If using MySQL or Oracle as the spatial database, only GEOS\nis required.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>On Linux platforms, it may be necessary to run the <code class=\"docutils literal notranslate\"><span class=\"pre\">ldconfig</span></code> command\nafter installing each library. For example:</p>\n<div class=\"last highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ sudo make install\n$ sudo ldconfig\n</pre></div>\n</div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">macOS users must install <a class=\"reference external\" href=\"https://developer.apple.com/xcode/\">Xcode</a> in order to compile software from source.</p>\n</div>\n<div class=\"section\" id=\"s-geos\">\n<span id=\"s-geosbuild\"></span><span id=\"geos\"></span><span id=\"geosbuild\"></span><h3>GEOS<a class=\"headerlink\" href=\"#geos\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>GEOS is a C++ library for performing geometric operations, and is the default\ninternal geometry representation used by GeoDjango (it\u2019s behind the \u201clazy\u201d\ngeometries).  Specifically, the C API library is called (e.g., <code class=\"docutils literal notranslate\"><span class=\"pre\">libgeos_c.so</span></code>)\ndirectly from Python using ctypes.</p>\n<p>First, download GEOS from the GEOS website and untar the source archive:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://download.osgeo.org/geos/geos-X.Y.Z.tar.bz2\n$ tar xjf geos-X.Y.Z.tar.bz2\n</pre></div>\n</div>\n<p>Then step into the GEOS directory, create a <code class=\"docutils literal notranslate\"><span class=\"pre\">build</span></code> folder, and step into\nit:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ <span class=\"nb\">cd</span> geos-X.Y.Z\n$ mkdir build\n$ <span class=\"nb\">cd</span> build\n</pre></div>\n</div>\n<p>Then build and install the package:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ cmake -DCMAKE_BUILD_TYPE<span class=\"o\">=</span>Release ..\n$ cmake --build .\n$ sudo cmake --build . --target install\n</pre></div>\n</div>\n<div class=\"section\" id=\"s-troubleshooting\">\n<span id=\"troubleshooting\"></span><h4>Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"section\" id=\"s-can-t-find-geos-library\">\n<span id=\"can-t-find-geos-library\"></span><h5>Can\u2019t find GEOS library<a class=\"headerlink\" href=\"#can-t-find-geos-library\" title=\"Permalink to this headline\">\u00b6</a></h5>\n<p>When GeoDjango can\u2019t find GEOS, this error is raised:</p>\n<div class=\"highlight-text notranslate\"><div class=\"highlight\"><pre><span></span>ImportError: Could not find the GEOS library (tried &quot;geos_c&quot;). Try setting GEOS_LIBRARY_PATH in your settings.\n</pre></div>\n</div>\n<p>The most common solution is to properly configure your <a class=\"reference internal\" href=\"../#libsettings\"><span class=\"std std-ref\">Library environment settings</span></a> <em>or</em> set\n<a class=\"reference internal\" href=\"#geoslibrarypath\"><span class=\"std std-ref\">GEOS_LIBRARY_PATH</span></a> in your settings.</p>\n<p>If using a binary package of GEOS (e.g., on Ubuntu), you may need to <a class=\"reference internal\" href=\"../#binutils\"><span class=\"std std-ref\">Install binutils</span></a>.</p>\n</div>\n<div class=\"section\" id=\"s-geos-library-path\">\n<span id=\"s-geoslibrarypath\"></span><span id=\"geos-library-path\"></span><span id=\"geoslibrarypath\"></span><h5><code class=\"docutils literal notranslate\"><span class=\"pre\">GEOS_LIBRARY_PATH</span></code><a class=\"headerlink\" href=\"#geos-library-path\" title=\"Permalink to this headline\">\u00b6</a></h5>\n<p>If your GEOS library is in a non-standard location, or you don\u2019t want to\nmodify the system\u2019s library path then the <a class=\"reference internal\" href=\"../../geos/#std-setting-GEOS_LIBRARY_PATH\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">GEOS_LIBRARY_PATH</span></code></a>\nsetting may be added to your Django settings file with the full path to the\nGEOS C library.  For example:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nv\">GEOS_LIBRARY_PATH</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;/home/bob/local/lib/libgeos_c.so&#39;</span>\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">The setting must be the <em>full</em> path to the <strong>C</strong> shared library; in\nother words you want to use <code class=\"docutils literal notranslate\"><span class=\"pre\">libgeos_c.so</span></code>, not <code class=\"docutils literal notranslate\"><span class=\"pre\">libgeos.so</span></code>.</p>\n</div>\n<p>See also <a class=\"reference internal\" href=\"../../geos/#geos-exceptions-in-logfile\"><span class=\"std std-ref\">My logs are filled with GEOS-related errors</span></a>.</p>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-proj4\">\n<span id=\"s-id3\"></span><span id=\"proj4\"></span><span id=\"id3\"></span><h3>PROJ<a class=\"headerlink\" href=\"#proj4\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><a class=\"reference external\" href=\"https://proj.org/\">PROJ</a> is a library for converting geospatial data to different coordinate\nreference systems.</p>\n<p>First, download the PROJ source code:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://download.osgeo.org/proj/proj-X.Y.Z.tar.gz\n</pre></div>\n</div>\n<p>\u2026 and datum shifting files (download <code class=\"docutils literal notranslate\"><span class=\"pre\">proj-datumgrid-X.Y.tar.gz</span></code> for\nPROJ &lt; 7.x) <a class=\"footnote-reference\" href=\"#id8\" id=\"id4\">[1]</a>:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://download.osgeo.org/proj/proj-data-X.Y.tar.gz\n</pre></div>\n</div>\n<p>Next, untar the source code archive, and extract the datum shifting files in the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">data</span></code> subdirectory (use <code class=\"docutils literal notranslate\"><span class=\"pre\">nad</span></code> subdirectory for PROJ &lt; 6.x). This must be\ndone <em>prior</em> to configuration:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ tar xzf proj-X.Y.Z.tar.gz\n$ <span class=\"nb\">cd</span> proj-X.Y.Z/data\n$ tar xzf ../../proj-data-X.Y.tar.gz\n$ <span class=\"nb\">cd</span> ../..\n</pre></div>\n</div>\n<p>For PROJ 9.x and greater, releases only support builds using <code class=\"docutils literal notranslate\"><span class=\"pre\">CMake</span></code> (see\n<a class=\"reference external\" href=\"https://proj.org/community/rfc/rfc-7.html#rfc7\">PROJ RFC-7</a>).</p>\n<p>To build with <code class=\"docutils literal notranslate\"><span class=\"pre\">CMake</span></code> ensure your system meets the <a class=\"reference external\" href=\"https://proj.org/install.html#build-requirements\">build requirements</a>.\nThen create a <code class=\"docutils literal notranslate\"><span class=\"pre\">build</span></code> folder in the PROJ directory, and step into it:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ <span class=\"nb\">cd</span> proj-X.Y.Z\n$ mkdir build\n$ <span class=\"nb\">cd</span> build\n</pre></div>\n</div>\n<p>Finally, configure, make and install PROJ:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ cmake ..\n$ cmake --build .\n$ sudo cmake --build . --target install\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-gdal\">\n<span id=\"s-gdalbuild\"></span><span id=\"gdal\"></span><span id=\"gdalbuild\"></span><h3>GDAL<a class=\"headerlink\" href=\"#gdal\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><a class=\"reference external\" href=\"https://gdal.org/\">GDAL</a> is an excellent open source geospatial library that has support for\nreading most vector and raster spatial data formats.  Currently, GeoDjango only\nsupports <a class=\"reference internal\" href=\"../../gdal/\"><span class=\"doc\">GDAL\u2019s vector data</span></a> capabilities <a class=\"footnote-reference\" href=\"#id9\" id=\"id5\">[2]</a>.\n<a class=\"reference internal\" href=\"#geosbuild\"><span class=\"std std-ref\">GEOS</span></a> and <a class=\"reference internal\" href=\"#proj4\"><span class=\"std std-ref\">PROJ</span></a> should be installed prior to building GDAL.</p>\n<p>First download the latest GDAL release version and untar the archive:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://download.osgeo.org/gdal/X.Y.Z/gdal-X.Y.Z.tar.gz\n$ tar xzf gdal-X.Y.Z.tar.gz\n</pre></div>\n</div>\n<p>For GDAL 3.6.x and greater, releases only support builds using <code class=\"docutils literal notranslate\"><span class=\"pre\">CMake</span></code>. To\nbuild with <code class=\"docutils literal notranslate\"><span class=\"pre\">CMake</span></code> create a <code class=\"docutils literal notranslate\"><span class=\"pre\">build</span></code> folder in the GDAL directory, and step\ninto it:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ <span class=\"nb\">cd</span> gdal-X.Y.Z\n$ mkdir build\n$ <span class=\"nb\">cd</span> build\n</pre></div>\n</div>\n<p>Finally, configure, make and install GDAL:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ cmake ..\n$ cmake --build .\n$ sudo cmake --build . --target install\n</pre></div>\n</div>\n<p>If you have any problems, please see the troubleshooting section below for\nsuggestions and solutions.</p>\n<div class=\"section\" id=\"s-gdaltrouble\">\n<span id=\"s-id7\"></span><span id=\"gdaltrouble\"></span><span id=\"id7\"></span><h4>Troubleshooting<a class=\"headerlink\" href=\"#gdaltrouble\" title=\"Permalink to this headline\">\u00b6</a></h4>\n<div class=\"section\" id=\"s-can-t-find-gdal-library\">\n<span id=\"can-t-find-gdal-library\"></span><h5>Can\u2019t find GDAL library<a class=\"headerlink\" href=\"#can-t-find-gdal-library\" title=\"Permalink to this headline\">\u00b6</a></h5>\n<p>When GeoDjango can\u2019t find the GDAL library, configure your <a class=\"reference internal\" href=\"../#libsettings\"><span class=\"std std-ref\">Library environment settings</span></a>\n<em>or</em> set <a class=\"reference internal\" href=\"#gdallibrarypath\"><span class=\"std std-ref\">GDAL_LIBRARY_PATH</span></a> in your settings.</p>\n</div>\n<div class=\"section\" id=\"s-gdal-library-path\">\n<span id=\"s-gdallibrarypath\"></span><span id=\"gdal-library-path\"></span><span id=\"gdallibrarypath\"></span><h5><code class=\"docutils literal notranslate\"><span class=\"pre\">GDAL_LIBRARY_PATH</span></code><a class=\"headerlink\" href=\"#gdal-library-path\" title=\"Permalink to this headline\">\u00b6</a></h5>\n<p>If your GDAL library is in a non-standard location, or you don\u2019t want to\nmodify the system\u2019s library path then the <a class=\"reference internal\" href=\"../../gdal/#std-setting-GDAL_LIBRARY_PATH\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">GDAL_LIBRARY_PATH</span></code></a>\nsetting may be added to your Django settings file with the full path to\nthe GDAL library.  For example:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"nv\">GDAL_LIBRARY_PATH</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;/home/sue/local/lib/libgdal.so&#39;</span>\n</pre></div>\n</div>\n<p class=\"rubric\">Footnotes</p>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id8\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id4\">[1]</a></td><td>The datum shifting files are needed for converting data to and from\ncertain projections.\nFor example, the PROJ string for the <a class=\"reference external\" href=\"https://spatialreference.org/ref/sr-org/6864/prj/\">Google projection (900913 or 3857)</a> requires the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">null</span></code> grid file only included in the extra datum shifting files.\nIt is easier to install the shifting files now, then to have debug a\nproblem caused by their absence later.</td></tr>\n</tbody>\n</table>\n<table class=\"docutils footnote\" frame=\"void\" id=\"id9\" rules=\"none\">\n<colgroup><col class=\"label\" /><col /></colgroup>\n<tbody valign=\"top\">\n<tr><td class=\"label\"><a class=\"fn-backref\" href=\"#id5\">[2]</a></td><td>Specifically, GeoDjango provides support for the <a class=\"reference external\" href=\"https://gdal.org/user/vector_data_model.html\">OGR</a> library, a component of\nGDAL.</td></tr>\n</tbody>\n</table>\n</div>\n</div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/install/postgis", "Installing PostGIS", "N", "next"], ["ref/contrib/gis/install/index", "GeoDjango Installation", "P", "previous"]], "sourcename": "ref/contrib/gis/install/geolibs.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Installing Geospatial libraries</a><ul>\n<li><a class=\"reference internal\" href=\"#building-from-source\">Building from source</a><ul>\n<li><a class=\"reference internal\" href=\"#geos\">GEOS</a><ul>\n<li><a class=\"reference internal\" href=\"#troubleshooting\">Troubleshooting</a><ul>\n<li><a class=\"reference internal\" href=\"#can-t-find-geos-library\">Can\u2019t find GEOS library</a></li>\n<li><a class=\"reference internal\" href=\"#geos-library-path\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GEOS_LIBRARY_PATH</span></code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#proj4\">PROJ</a></li>\n<li><a class=\"reference internal\" href=\"#gdal\">GDAL</a><ul>\n<li><a class=\"reference internal\" href=\"#gdaltrouble\">Troubleshooting</a><ul>\n<li><a class=\"reference internal\" href=\"#can-t-find-gdal-library\">Can\u2019t find GDAL library</a></li>\n<li><a class=\"reference internal\" href=\"#gdal-library-path\"><code class=\"docutils literal notranslate\"><span class=\"pre\">GDAL_LIBRARY_PATH</span></code></a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/install/geolibs", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
