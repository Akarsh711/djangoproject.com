{"parents": [{"link": "../../../../", "title": "API Reference"}, {"link": "../../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../../", "title": "GeoDjango"}, {"link": "../", "title": "GeoDjango Installation"}], "prev": {"link": "../postgis/", "title": "Installing PostGIS"}, "next": {"link": "../../model-api/", "title": "GeoDjango Model API"}, "title": "Installing SpatiaLite", "meta": {}, "body": "<div class=\"section\" id=\"s-installing-spatialite\">\n<span id=\"installing-spatialite\"></span><h1>Installing SpatiaLite<a class=\"headerlink\" href=\"#installing-spatialite\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p><a class=\"reference external\" href=\"https://www.gaia-gis.it/fossil/libspatialite/index\">SpatiaLite</a> adds spatial support to SQLite, turning it into a full-featured\nspatial database.</p>\n<p>First, check if you can install SpatiaLite from system packages or binaries.</p>\n<p>For example, on Debian-based distributions that package SpatiaLite 4.3+, try to\ninstall the <code class=\"docutils literal notranslate\"><span class=\"pre\">libsqlite3-mod-spatialite</span></code> package. For older releases install\n<code class=\"docutils literal notranslate\"><span class=\"pre\">spatialite-bin</span></code>.</p>\n<p>For macOS, follow the <a class=\"reference internal\" href=\"#spatialite-macos\"><span class=\"std std-ref\">instructions below</span></a>.</p>\n<p>For Windows, you may find binaries on the <a class=\"reference external\" href=\"https://www.gaia-gis.it/gaia-sins/\">Gaia-SINS</a> home page.</p>\n<p>In any case, you should always be able to <a class=\"reference internal\" href=\"#spatialite-source\"><span class=\"std std-ref\">install from source</span></a>.</p>\n<div class=\"section\" id=\"s-installing-from-source\">\n<span id=\"s-spatialite-source\"></span><span id=\"installing-from-source\"></span><span id=\"spatialite-source\"></span><h2>Installing from source<a class=\"headerlink\" href=\"#installing-from-source\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p><a class=\"reference internal\" href=\"../geolibs/\"><span class=\"doc\">GEOS and PROJ</span></a> should be installed\nprior to building SpatiaLite.</p>\n<div class=\"section\" id=\"s-sqlite\">\n<span id=\"sqlite\"></span><h3>SQLite<a class=\"headerlink\" href=\"#sqlite\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Check first if SQLite is compiled with the <a class=\"reference external\" href=\"https://www.sqlite.org/rtree.html\">R*Tree module</a>. Run the sqlite3\ncommand line interface and enter the following query:</p>\n<div class=\"highlight-sqlite3 notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">sqlite&gt;</span><span class=\"w\"> </span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"n\">VIRTUAL</span><span class=\"w\"> </span><span class=\"k\">TABLE</span><span class=\"w\"> </span><span class=\"n\">testrtree</span><span class=\"w\"> </span><span class=\"k\">USING</span><span class=\"w\"> </span><span class=\"n\">rtree</span><span class=\"p\">(</span><span class=\"n\">id</span><span class=\"p\">,</span><span class=\"n\">minX</span><span class=\"p\">,</span><span class=\"n\">maxX</span><span class=\"p\">,</span><span class=\"n\">minY</span><span class=\"p\">,</span><span class=\"n\">maxY</span><span class=\"p\">);</span><span class=\"w\"></span>\n</pre></div>\n</div>\n<p>If you obtain an error, you will have to recompile SQLite from source. Otherwise,\nskip this section.</p>\n<p>To install from sources, download the latest amalgamation source archive from\nthe <a class=\"reference external\" href=\"https://www.sqlite.org/download.html\">SQLite download page</a>, and extract:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://www.sqlite.org/YYYY/sqlite-amalgamation-XXX0000.zip\n$ unzip sqlite-amalgamation-XXX0000.zip\n$ <span class=\"nb\">cd</span> sqlite-amalgamation-XXX0000\n</pre></div>\n</div>\n<p>Next, run the <code class=\"docutils literal notranslate\"><span class=\"pre\">configure</span></code> script \u2013 however the <code class=\"docutils literal notranslate\"><span class=\"pre\">CFLAGS</span></code> environment variable\nneeds to be customized so that SQLite knows to build the R*Tree module:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ <span class=\"nv\">CFLAGS</span><span class=\"o\">=</span><span class=\"s2\">&quot;-DSQLITE_ENABLE_RTREE=1&quot;</span> ./configure\n$ make\n$ sudo make install\n$ <span class=\"nb\">cd</span> ..\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-spatialite-library-libspatialite\">\n<span id=\"s-spatialitebuild\"></span><span id=\"spatialite-library-libspatialite\"></span><span id=\"spatialitebuild\"></span><h3>SpatiaLite library (<code class=\"docutils literal notranslate\"><span class=\"pre\">libspatialite</span></code>)<a class=\"headerlink\" href=\"#spatialite-library-libspatialite\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p>Get the latest SpatiaLite library source bundle from the\n<a class=\"reference external\" href=\"https://www.gaia-gis.it/gaia-sins/libspatialite-sources/\">download page</a>:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ wget https://www.gaia-gis.it/gaia-sins/libspatialite-sources/libspatialite-X.Y.Z.tar.gz\n$ tar xaf libspatialite-X.Y.Z.tar.gz\n$ <span class=\"nb\">cd</span> libspatialite-X.Y.Z\n$ ./configure\n$ make\n$ sudo make install\n</pre></div>\n</div>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p>For macOS users building from source, the SpatiaLite library <em>and</em> tools\nneed to have their <code class=\"docutils literal notranslate\"><span class=\"pre\">target</span></code> configured:</p>\n<div class=\"last highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ ./configure --target<span class=\"o\">=</span>macosx\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"section\" id=\"s-macos-specific-instructions\">\n<span id=\"s-spatialite-macos\"></span><span id=\"macos-specific-instructions\"></span><span id=\"spatialite-macos\"></span><h2>macOS-specific instructions<a class=\"headerlink\" href=\"#macos-specific-instructions\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>To install the SpatiaLite library and tools, macOS users can use <a class=\"reference external\" href=\"https://brew.sh/\">Homebrew</a>.</p>\n<div class=\"section\" id=\"s-homebrew\">\n<span id=\"homebrew\"></span><h3>Homebrew<a class=\"headerlink\" href=\"#homebrew\" title=\"Permalink to this headline\">\u00b6</a></h3>\n<p><a class=\"reference external\" href=\"https://brew.sh/\">Homebrew</a> handles all the SpatiaLite related packages on your behalf,\nincluding SQLite, SpatiaLite, PROJ, and GEOS. Install them like this:</p>\n<div class=\"highlight-shell notranslate\"><div class=\"highlight\"><pre><span></span>$ brew update\n$ brew install spatialite-tools\n$ brew install gdal\n</pre></div>\n</div>\n<p>Finally, for GeoDjango to be able to find the SpatiaLite library, add the\nfollowing to your <code class=\"docutils literal notranslate\"><span class=\"pre\">settings.py</span></code>:</p>\n<div class=\"highlight-default notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"n\">SPATIALITE_LIBRARY_PATH</span> <span class=\"o\">=</span> <span class=\"s2\">&quot;/usr/local/lib/mod_spatialite.dylib&quot;</span>\n</pre></div>\n</div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/gis/model-api", "GeoDjango Model API", "N", "next"], ["ref/contrib/gis/install/postgis", "Installing PostGIS", "P", "previous"]], "sourcename": "ref/contrib/gis/install/spatialite.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Installing SpatiaLite</a><ul>\n<li><a class=\"reference internal\" href=\"#installing-from-source\">Installing from source</a><ul>\n<li><a class=\"reference internal\" href=\"#sqlite\">SQLite</a></li>\n<li><a class=\"reference internal\" href=\"#spatialite-library-libspatialite\">SpatiaLite library (<code class=\"docutils literal notranslate\"><span class=\"pre\">libspatialite</span></code>)</a></li>\n</ul>\n</li>\n<li><a class=\"reference internal\" href=\"#macos-specific-instructions\">macOS-specific instructions</a><ul>\n<li><a class=\"reference internal\" href=\"#homebrew\">Homebrew</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/gis/install/spatialite", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
