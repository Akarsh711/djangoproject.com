{"parents": [{"link": "../../../", "title": "API Reference"}, {"link": "../../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">contrib</span></code> packages"}, {"link": "../", "title": "<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres</span></code>"}], "prev": {"link": "../forms/", "title": "PostgreSQL specific form fields and widgets"}, "next": {"link": "../indexes/", "title": "PostgreSQL specific model indexes"}, "title": "PostgreSQL specific database functions", "meta": {}, "body": "<div class=\"section\" id=\"s-postgresql-specific-database-functions\">\n<span id=\"postgresql-specific-database-functions\"></span><h1>PostgreSQL specific database functions<a class=\"headerlink\" href=\"#postgresql-specific-database-functions\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>All of these functions are available from the\n<code class=\"docutils literal notranslate\"><span class=\"pre\">django.contrib.postgres.functions</span></code> module.</p>\n<div class=\"section\" id=\"s-randomuuid\">\n<span id=\"randomuuid\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">RandomUUID</span></code><a class=\"headerlink\" href=\"#randomuuid\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.postgres.functions.RandomUUID\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">RandomUUID</span></code><a class=\"reference internal\" href=\"../../../../_modules/django/contrib/postgres/functions/#RandomUUID\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.contrib.postgres.functions.RandomUUID\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Returns a version 4 UUID.</p>\n<p>On PostgreSQL &lt; 13, the <a class=\"reference external\" href=\"https://www.postgresql.org/docs/current/pgcrypto.html\">pgcrypto extension</a> must be installed. You can use\nthe <a class=\"reference internal\" href=\"../operations/#django.contrib.postgres.operations.CryptoExtension\" title=\"django.contrib.postgres.operations.CryptoExtension\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">CryptoExtension</span></code></a> migration\noperation to install it.</p>\n<p>Usage example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.postgres.functions</span> <span class=\"kn\">import</span> <span class=\"n\">RandomUUID</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Article</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">update</span><span class=\"p\">(</span><span class=\"n\">uuid</span><span class=\"o\">=</span><span class=\"n\">RandomUUID</span><span class=\"p\">())</span>\n</pre></div>\n</div>\n</div>\n<div class=\"section\" id=\"s-transactionnow\">\n<span id=\"transactionnow\"></span><h2><code class=\"docutils literal notranslate\"><span class=\"pre\">TransactionNow</span></code><a class=\"headerlink\" href=\"#transactionnow\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.contrib.postgres.functions.TransactionNow\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">TransactionNow</span></code><a class=\"reference internal\" href=\"../../../../_modules/django/contrib/postgres/functions/#TransactionNow\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.contrib.postgres.functions.TransactionNow\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd></dd></dl>\n\n<p>Returns the date and time on the database server that the current transaction\nstarted. If you are not in a transaction it will return the date and time of\nthe current statement. This is a complement to\n<a class=\"reference internal\" href=\"../../../models/database-functions/#django.db.models.functions.Now\" title=\"django.db.models.functions.Now\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">django.db.models.functions.Now</span></code></a>, which returns the date and time of the\ncurrent statement.</p>\n<p>Note that only the outermost call to <a class=\"reference internal\" href=\"../../../../topics/db/transactions/#django.db.transaction.atomic\" title=\"django.db.transaction.atomic\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">atomic()</span></code></a>\nsets up a transaction and thus sets the time that <code class=\"docutils literal notranslate\"><span class=\"pre\">TransactionNow()</span></code> will\nreturn; nested calls create savepoints which do not affect the transaction\ntime.</p>\n<p>Usage example:</p>\n<div class=\"highlight-pycon notranslate\"><div class=\"highlight\"><pre><span></span><span class=\"gp\">&gt;&gt;&gt; </span><span class=\"kn\">from</span> <span class=\"nn\">django.contrib.postgres.functions</span> <span class=\"kn\">import</span> <span class=\"n\">TransactionNow</span>\n<span class=\"gp\">&gt;&gt;&gt; </span><span class=\"n\">Article</span><span class=\"o\">.</span><span class=\"n\">objects</span><span class=\"o\">.</span><span class=\"n\">filter</span><span class=\"p\">(</span><span class=\"n\">published__lte</span><span class=\"o\">=</span><span class=\"n\">TransactionNow</span><span class=\"p\">())</span>\n<span class=\"go\">&lt;QuerySet [&lt;Article: How to Django&gt;]&gt;</span>\n</pre></div>\n</div>\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/contrib/postgres/indexes", "PostgreSQL specific model indexes", "N", "next"], ["ref/contrib/postgres/forms", "PostgreSQL specific form fields and widgets", "P", "previous"]], "sourcename": "ref/contrib/postgres/functions.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">PostgreSQL specific database functions</a><ul>\n<li><a class=\"reference internal\" href=\"#randomuuid\"><code class=\"docutils literal notranslate\"><span class=\"pre\">RandomUUID</span></code></a></li>\n<li><a class=\"reference internal\" href=\"#transactionnow\"><code class=\"docutils literal notranslate\"><span class=\"pre\">TransactionNow</span></code></a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/contrib/postgres/functions", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}