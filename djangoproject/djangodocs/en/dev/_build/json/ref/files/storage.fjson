{"parents": [{"link": "../../", "title": "API Reference"}, {"link": "../", "title": "File handling"}], "prev": {"link": "../file/", "title": "The <code class=\"docutils literal notranslate\"><span class=\"pre\">File</span></code> object"}, "next": {"link": "../uploads/", "title": "Uploaded Files and Upload Handlers"}, "title": "File storage API", "meta": {}, "body": "<div class=\"section\" id=\"s-module-django.core.files.storage\">\n<span id=\"s-file-storage-api\"></span><span id=\"module-django.core.files.storage\"></span><span id=\"file-storage-api\"></span><h1>File storage API<a class=\"headerlink\" href=\"#module-django.core.files.storage\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<div class=\"section\" id=\"s-getting-the-default-storage-class\">\n<span id=\"getting-the-default-storage-class\"></span><h2>Getting the default storage class<a class=\"headerlink\" href=\"#getting-the-default-storage-class\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Django provides convenient ways to access the default storage class:</p>\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.storages\">\n<code class=\"sig-name descname\"><span class=\"pre\">storages</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.storages\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<p>Storage instances as defined by <a class=\"reference internal\" href=\"../../settings/#std-setting-STORAGES\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">STORAGES</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.DefaultStorage\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">DefaultStorage</span></code><a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/#DefaultStorage\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.DefaultStorage\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><a class=\"reference internal\" href=\"#django.core.files.storage.DefaultStorage\" title=\"django.core.files.storage.DefaultStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DefaultStorage</span></code></a> provides\nlazy access to the default storage system as defined by <code class=\"docutils literal notranslate\"><span class=\"pre\">default</span></code> key in\n<a class=\"reference internal\" href=\"../../settings/#std-setting-STORAGES\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">STORAGES</span></code></a>. <a class=\"reference internal\" href=\"#django.core.files.storage.DefaultStorage\" title=\"django.core.files.storage.DefaultStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DefaultStorage</span></code></a> uses\n<a class=\"reference internal\" href=\"#django.core.files.storage.storages\" title=\"django.core.files.storage.storages\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">storages</span></code></a> internally.</p>\n</dd></dl>\n\n<dl class=\"py data\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.default_storage\">\n<code class=\"sig-name descname\"><span class=\"pre\">default_storage</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.default_storage\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p><a class=\"reference internal\" href=\"#django.core.files.storage.default_storage\" title=\"django.core.files.storage.default_storage\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">default_storage</span></code></a> is an instance of the\n<a class=\"reference internal\" href=\"#django.core.files.storage.DefaultStorage\" title=\"django.core.files.storage.DefaultStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">DefaultStorage</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py function\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.get_storage_class\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_storage_class</span></code>(<em><span class=\"n\"><span class=\"pre\">import_path</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/#get_storage_class\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.get_storage_class\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a class or module which implements the storage API.</p>\n<p>When called without the <code class=\"docutils literal notranslate\"><span class=\"pre\">import_path</span></code> parameter <code class=\"docutils literal notranslate\"><span class=\"pre\">get_storage_class</span></code>\nwill return the default storage system as defined by <code class=\"docutils literal notranslate\"><span class=\"pre\">default</span></code> key in\n<a class=\"reference internal\" href=\"../../settings/#std-setting-STORAGES\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">STORAGES</span></code></a>. If <code class=\"docutils literal notranslate\"><span class=\"pre\">import_path</span></code> is provided, <code class=\"docutils literal notranslate\"><span class=\"pre\">get_storage_class</span></code>\nwill attempt to import the class or module from the given path and will\nreturn it if successful. An exception will be raised if the import is\nunsuccessful.</p>\n<div class=\"deprecated\">\n<p><span class=\"versionmodified deprecated\">Deprecated since version 4.2: </span>The <code class=\"docutils literal notranslate\"><span class=\"pre\">get_storage_class()</span></code> function is deprecated. Use\n<a class=\"reference internal\" href=\"#django.core.files.storage.storages\" title=\"django.core.files.storage.storages\"><code class=\"xref py py-data docutils literal notranslate\"><span class=\"pre\">storages</span></code></a> instead</p>\n</div>\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"s-the-filesystemstorage-class\">\n<span id=\"the-filesystemstorage-class\"></span><h2>The <code class=\"docutils literal notranslate\"><span class=\"pre\">FileSystemStorage</span></code> class<a class=\"headerlink\" href=\"#the-filesystemstorage-class\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">FileSystemStorage</span></code>(<em><span class=\"n\"><span class=\"pre\">location</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">base_url</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">file_permissions_mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">directory_permissions_mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/filesystem/#FileSystemStorage\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#django.core.files.storage.FileSystemStorage\" title=\"django.core.files.storage.FileSystemStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">FileSystemStorage</span></code></a> class implements\nbasic file storage on a local filesystem. It inherits from\n<a class=\"reference internal\" href=\"#django.core.files.storage.Storage\" title=\"django.core.files.storage.Storage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Storage</span></code></a> and provides implementations\nfor all the public methods thereof.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage.location\">\n<code class=\"sig-name descname\"><span class=\"pre\">location</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage.location\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Absolute path to the directory that will hold the files.\nDefaults to the value of your <a class=\"reference internal\" href=\"../../settings/#std-setting-MEDIA_ROOT\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">MEDIA_ROOT</span></code></a> setting.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage.base_url\">\n<code class=\"sig-name descname\"><span class=\"pre\">base_url</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage.base_url\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>URL that serves the files stored at this location.\nDefaults to the value of your <a class=\"reference internal\" href=\"../../settings/#std-setting-MEDIA_URL\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">MEDIA_URL</span></code></a> setting.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage.file_permissions_mode\">\n<code class=\"sig-name descname\"><span class=\"pre\">file_permissions_mode</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage.file_permissions_mode\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The file system permissions that the file will receive when it is\nsaved. Defaults to <a class=\"reference internal\" href=\"../../settings/#std-setting-FILE_UPLOAD_PERMISSIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">FILE_UPLOAD_PERMISSIONS</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage.directory_permissions_mode\">\n<code class=\"sig-name descname\"><span class=\"pre\">directory_permissions_mode</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage.directory_permissions_mode\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The file system permissions that the directory will receive when it is\nsaved. Defaults to <a class=\"reference internal\" href=\"../../settings/#std-setting-FILE_UPLOAD_DIRECTORY_PERMISSIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">FILE_UPLOAD_DIRECTORY_PERMISSIONS</span></code></a>.</p>\n</dd></dl>\n\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">FileSystemStorage.delete()</span></code> method will not raise\nan exception if the given file name does not exist.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.FileSystemStorage.get_created_time\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_created_time</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/filesystem/#FileSystemStorage.get_created_time\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.FileSystemStorage.get_created_time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime</span></code></a> of the system\u2019s ctime, i.e.\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/os.path.html#os.path.getctime\" title=\"(in Python v3.11)\"><code class=\"xref py py-func docutils literal notranslate\"><span class=\"pre\">os.path.getctime()</span></code></a>. On some systems (like Unix), this is the\ntime of the last metadata change, and on others (like Windows), it\u2019s\nthe creation time of the file.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"s-the-inmemorystorage-class\">\n<span id=\"the-inmemorystorage-class\"></span><h2>The <code class=\"docutils literal notranslate\"><span class=\"pre\">InMemoryStorage</span></code> class<a class=\"headerlink\" href=\"#the-inmemorystorage-class\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<div class=\"versionadded\">\n<span class=\"title\">New in Django 4.2.</span> </div>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.InMemoryStorage\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">InMemoryStorage</span></code>(<em><span class=\"n\"><span class=\"pre\">location</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">base_url</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">file_permissions_mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>, <em><span class=\"n\"><span class=\"pre\">directory_permissions_mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/memory/#InMemoryStorage\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.InMemoryStorage\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#django.core.files.storage.InMemoryStorage\" title=\"django.core.files.storage.InMemoryStorage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">InMemoryStorage</span></code></a> class implements\na memory-based file storage. It has no persistence, but can be useful for\nspeeding up tests by avoiding disk access.</p>\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.InMemoryStorage.location\">\n<code class=\"sig-name descname\"><span class=\"pre\">location</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.InMemoryStorage.location\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Absolute path to the directory name assigned to files. Defaults to the\nvalue of your <a class=\"reference internal\" href=\"../../settings/#std-setting-MEDIA_ROOT\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">MEDIA_ROOT</span></code></a> setting.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.InMemoryStorage.base_url\">\n<code class=\"sig-name descname\"><span class=\"pre\">base_url</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.InMemoryStorage.base_url\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>URL that serves the files stored at this location.\nDefaults to the value of your <a class=\"reference internal\" href=\"../../settings/#std-setting-MEDIA_URL\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">MEDIA_URL</span></code></a> setting.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.InMemoryStorage.file_permissions_mode\">\n<code class=\"sig-name descname\"><span class=\"pre\">file_permissions_mode</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.InMemoryStorage.file_permissions_mode\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The file system permissions assigned to files, provided for\ncompatibility with <code class=\"docutils literal notranslate\"><span class=\"pre\">FileSystemStorage</span></code>. Defaults to\n<a class=\"reference internal\" href=\"../../settings/#std-setting-FILE_UPLOAD_PERMISSIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">FILE_UPLOAD_PERMISSIONS</span></code></a>.</p>\n</dd></dl>\n\n<dl class=\"py attribute\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.InMemoryStorage.directory_permissions_mode\">\n<code class=\"sig-name descname\"><span class=\"pre\">directory_permissions_mode</span></code><a class=\"headerlink\" href=\"#django.core.files.storage.InMemoryStorage.directory_permissions_mode\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The file system permissions assigned to directories, provided for\ncompatibility with <code class=\"docutils literal notranslate\"><span class=\"pre\">FileSystemStorage</span></code>. Defaults to\n<a class=\"reference internal\" href=\"../../settings/#std-setting-FILE_UPLOAD_DIRECTORY_PERMISSIONS\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">FILE_UPLOAD_DIRECTORY_PERMISSIONS</span></code></a>.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n<div class=\"section\" id=\"s-the-storage-class\">\n<span id=\"the-storage-class\"></span><h2>The <code class=\"docutils literal notranslate\"><span class=\"pre\">Storage</span></code> class<a class=\"headerlink\" href=\"#the-storage-class\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<dl class=\"py class\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage\">\n<em class=\"property\"><span class=\"pre\">class</span><span class=\"w\"> </span></em><code class=\"sig-name descname\"><span class=\"pre\">Storage</span></code><a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The <a class=\"reference internal\" href=\"#django.core.files.storage.Storage\" title=\"django.core.files.storage.Storage\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">Storage</span></code></a> class provides a\nstandardized API for storing files, along with a set of default\nbehaviors that all other storage systems can inherit or override\nas necessary.</p>\n<div class=\"admonition note\">\n<p class=\"first admonition-title\">Note</p>\n<p class=\"last\">When methods return naive <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code> objects, the effective timezone\nused will be the current value of <code class=\"docutils literal notranslate\"><span class=\"pre\">os.environ['TZ']</span></code>; note that this\nis usually set from Django\u2019s <a class=\"reference internal\" href=\"../../settings/#std-setting-TIME_ZONE\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">TIME_ZONE</span></code></a>.</p>\n</div>\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.delete\">\n<code class=\"sig-name descname\"><span class=\"pre\">delete</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.delete\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.delete\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Deletes the file referenced by <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>. If deletion is not supported\non the target storage system this will raise <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code>\ninstead.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.exists\">\n<code class=\"sig-name descname\"><span class=\"pre\">exists</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.exists\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.exists\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code> if a file referenced by the given name already exists\nin the storage system, or <code class=\"docutils literal notranslate\"><span class=\"pre\">False</span></code> if the name is available for a new\nfile.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_accessed_time\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_accessed_time</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_accessed_time\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_accessed_time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime</span></code></a> of the last accessed time of the\nfile. For storage systems unable to return the last accessed time this\nwill raise <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#NotImplementedError\" title=\"(in Python v3.11)\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code></a>.</p>\n<p>If <a class=\"reference internal\" href=\"../../settings/#std-setting-USE_TZ\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">USE_TZ</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, returns an aware <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code>,\notherwise returns a naive <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code> in the local timezone.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_alternative_name\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_alternative_name</span></code>(<em><span class=\"n\"><span class=\"pre\">file_root</span></span></em>, <em><span class=\"n\"><span class=\"pre\">file_ext</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_alternative_name\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_alternative_name\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns an alternative filename based on the <code class=\"docutils literal notranslate\"><span class=\"pre\">file_root</span></code> and\n<code class=\"docutils literal notranslate\"><span class=\"pre\">file_ext</span></code> parameters, an underscore plus a random 7 character\nalphanumeric string is appended to the filename before the extension.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_available_name\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_available_name</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em><span class=\"n\"><span class=\"pre\">max_length</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_available_name\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_available_name\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a filename based on the <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> parameter that\u2019s free and\navailable for new content to be written to on the target storage\nsystem.</p>\n<p>The length of the filename will not exceed <code class=\"docutils literal notranslate\"><span class=\"pre\">max_length</span></code>, if provided.\nIf a free unique filename cannot be found, a\n<a class=\"reference internal\" href=\"../../exceptions/#django.core.exceptions.SuspiciousOperation\" title=\"django.core.exceptions.SuspiciousOperation\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">SuspiciousFileOperation</span></code></a> exception will be raised.</p>\n<p>If a file with <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> already exists, <a class=\"reference internal\" href=\"../../../howto/custom-file-storage/#django.core.files.storage.get_alternative_name\" title=\"django.core.files.storage.get_alternative_name\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_alternative_name()</span></code></a> is\ncalled to obtain an alternative name.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_created_time\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_created_time</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_created_time\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_created_time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime</span></code></a> of the creation time of the file.\nFor storage systems unable to return the creation time this will raise\n<a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#NotImplementedError\" title=\"(in Python v3.11)\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code></a>.</p>\n<p>If <a class=\"reference internal\" href=\"../../settings/#std-setting-USE_TZ\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">USE_TZ</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, returns an aware <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code>,\notherwise returns a naive <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code> in the local timezone.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_modified_time\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_modified_time</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_modified_time\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_modified_time\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a <a class=\"reference external\" href=\"https://docs.python.org/3/library/datetime.html#datetime.datetime\" title=\"(in Python v3.11)\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">datetime</span></code></a> of the last modified time of the\nfile. For storage systems unable to return the last modified time this\nwill raise <a class=\"reference external\" href=\"https://docs.python.org/3/library/exceptions.html#NotImplementedError\" title=\"(in Python v3.11)\"><code class=\"xref py py-exc docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code></a>.</p>\n<p>If <a class=\"reference internal\" href=\"../../settings/#std-setting-USE_TZ\"><code class=\"xref std std-setting docutils literal notranslate\"><span class=\"pre\">USE_TZ</span></code></a> is <code class=\"docutils literal notranslate\"><span class=\"pre\">True</span></code>, returns an aware <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code>,\notherwise returns a naive <code class=\"docutils literal notranslate\"><span class=\"pre\">datetime</span></code> in the local timezone.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.get_valid_name\">\n<code class=\"sig-name descname\"><span class=\"pre\">get_valid_name</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.get_valid_name\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.get_valid_name\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns a filename based on the <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code> parameter that\u2019s suitable\nfor use on the target storage system.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.generate_filename\">\n<code class=\"sig-name descname\"><span class=\"pre\">generate_filename</span></code>(<em><span class=\"n\"><span class=\"pre\">filename</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.generate_filename\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.generate_filename\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Validates the <code class=\"docutils literal notranslate\"><span class=\"pre\">filename</span></code> by calling <a class=\"reference internal\" href=\"../../../howto/custom-file-storage/#django.core.files.storage.get_valid_name\" title=\"django.core.files.storage.get_valid_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">get_valid_name()</span></code></a> and\nreturns a filename to be passed to the <a class=\"reference internal\" href=\"#django.core.files.storage.Storage.save\" title=\"django.core.files.storage.Storage.save\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">save()</span></code></a> method.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">filename</span></code> argument may include a path as returned by\n<a class=\"reference internal\" href=\"../../models/fields/#django.db.models.FileField.upload_to\" title=\"django.db.models.FileField.upload_to\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">FileField.upload_to</span></code></a>.\nIn that case, the path won\u2019t be passed to <a class=\"reference internal\" href=\"../../../howto/custom-file-storage/#django.core.files.storage.get_valid_name\" title=\"django.core.files.storage.get_valid_name\"><code class=\"xref py py-attr docutils literal notranslate\"><span class=\"pre\">get_valid_name()</span></code></a> but\nwill be prepended back to the resulting name.</p>\n<p>The default implementation uses <a class=\"reference external\" href=\"https://docs.python.org/3/library/os.path.html#module-os.path\" title=\"(in Python v3.11)\"><code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">os.path</span></code></a> operations. Override\nthis method if that\u2019s not appropriate for your storage.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.listdir\">\n<code class=\"sig-name descname\"><span class=\"pre\">listdir</span></code>(<em><span class=\"n\"><span class=\"pre\">path</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.listdir\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.listdir\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Lists the contents of the specified path, returning a 2-tuple of lists;\nthe first item being directories, the second item being files. For\nstorage systems that aren\u2019t able to provide such a listing, this will\nraise a <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code> instead.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.open\">\n<code class=\"sig-name descname\"><span class=\"pre\">open</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em><span class=\"n\"><span class=\"pre\">mode</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">'rb'</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.open\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.open\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Opens the file given by <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>. Note that although the returned file\nis guaranteed to be a <code class=\"docutils literal notranslate\"><span class=\"pre\">File</span></code> object, it might actually be some\nsubclass. In the case of remote file storage this means that\nreading/writing could be quite slow, so be warned.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.path\">\n<code class=\"sig-name descname\"><span class=\"pre\">path</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.path\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.path\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>The local filesystem path where the file can be opened using Python\u2019s\nstandard <code class=\"docutils literal notranslate\"><span class=\"pre\">open()</span></code>. For storage systems that aren\u2019t accessible from\nthe local filesystem, this will raise <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code> instead.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.save\">\n<code class=\"sig-name descname\"><span class=\"pre\">save</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>, <em><span class=\"n\"><span class=\"pre\">content</span></span></em>, <em><span class=\"n\"><span class=\"pre\">max_length</span></span><span class=\"o\"><span class=\"pre\">=</span></span><span class=\"default_value\"><span class=\"pre\">None</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.save\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.save\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Saves a new file using the storage system, preferably with the name\nspecified. If there already exists a file with this name <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>, the\nstorage system may modify the filename as necessary to get a unique\nname. The actual name of the stored file will be returned.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">max_length</span></code> argument is passed along to\n<a class=\"reference internal\" href=\"../../../howto/custom-file-storage/#django.core.files.storage.get_available_name\" title=\"django.core.files.storage.get_available_name\"><code class=\"xref py py-meth docutils literal notranslate\"><span class=\"pre\">get_available_name()</span></code></a>.</p>\n<p>The <code class=\"docutils literal notranslate\"><span class=\"pre\">content</span></code> argument must be an instance of\n<a class=\"reference internal\" href=\"../file/#django.core.files.File\" title=\"django.core.files.File\"><code class=\"xref py py-class docutils literal notranslate\"><span class=\"pre\">django.core.files.File</span></code></a> or a file-like object that can be\nwrapped in <code class=\"docutils literal notranslate\"><span class=\"pre\">File</span></code>.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.size\">\n<code class=\"sig-name descname\"><span class=\"pre\">size</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.size\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.size\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the total size, in bytes, of the file referenced by <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>.\nFor storage systems that aren\u2019t able to return the file size this will\nraise <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code> instead.</p>\n</dd></dl>\n\n<dl class=\"py method\">\n<dt class=\"sig sig-object py\" id=\"django.core.files.storage.Storage.url\">\n<code class=\"sig-name descname\"><span class=\"pre\">url</span></code>(<em><span class=\"n\"><span class=\"pre\">name</span></span></em>)<a class=\"reference internal\" href=\"../../../_modules/django/core/files/storage/base/#Storage.url\"><span class=\"viewcode-link\"><span class=\"pre\">[source]</span></span></a><a class=\"headerlink\" href=\"#django.core.files.storage.Storage.url\" title=\"Permalink to this definition\">\u00b6</a></dt>\n<dd><p>Returns the URL where the contents of the file referenced by <code class=\"docutils literal notranslate\"><span class=\"pre\">name</span></code>\ncan be accessed. For storage systems that don\u2019t support access by URL\nthis will raise <code class=\"docutils literal notranslate\"><span class=\"pre\">NotImplementedError</span></code> instead.</p>\n</dd></dl>\n\n</dd></dl>\n\n</div>\n</div>\n", "metatags": "", "rellinks": [["genindex", "General Index", "I", "index"], ["py-modindex", "Python Module Index", "", "modules"], ["ref/files/uploads", "Uploaded Files and Upload Handlers", "N", "next"], ["ref/files/file", "The <code class=\"docutils literal notranslate\"><span class=\"pre\">File</span></code> object", "P", "previous"]], "sourcename": "ref/files/storage.txt", "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">File storage API</a><ul>\n<li><a class=\"reference internal\" href=\"#getting-the-default-storage-class\">Getting the default storage class</a></li>\n<li><a class=\"reference internal\" href=\"#the-filesystemstorage-class\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">FileSystemStorage</span></code> class</a></li>\n<li><a class=\"reference internal\" href=\"#the-inmemorystorage-class\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">InMemoryStorage</span></code> class</a></li>\n<li><a class=\"reference internal\" href=\"#the-storage-class\">The <code class=\"docutils literal notranslate\"><span class=\"pre\">Storage</span></code> class</a></li>\n</ul>\n</li>\n</ul>\n", "display_toc": true, "page_source_suffix": ".txt", "current_page_name": "ref/files/storage", "sidebars": ["localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "customsidebar": null, "favicon_url": null, "logo_url": null, "alabaster_version": "0.7.13", "include_console_assets": false}
